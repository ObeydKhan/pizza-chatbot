{"version":3,"sources":["resources/vegan.svg","resources/vegetarian.svg","resources/dairyfree.svg","resources/SliceLogo.png","components/DisplayStoreSelect.js","resources/GeoIcon.jsx","components/ShowSearchMenu.js","components/chatbot/common/rgba.js","components/chatbot/common/animations.jsx","components/chatbot/steps_components/common/LoadingStep.jsx","components/chatbot/steps_components/common/Loading.jsx","components/chatbot/steps_components/custom/CustomStepContainer.jsx","components/chatbot/steps_components/custom/CustomStep.jsx","components/chatbot/steps_components/options/Option.jsx","components/chatbot/theme.js","components/chatbot/steps_components/options/OptionElement.jsx","components/chatbot/steps_components/options/Options.jsx","components/chatbot/steps_components/options/OptionsStepContainer.jsx","components/chatbot/steps_components/options/OptionsStep.jsx","components/chatbot/steps_components/text/Bubble.jsx","components/chatbot/steps_components/text/Image.jsx","components/chatbot/steps_components/text/ImageContainer.jsx","components/chatbot/steps_components/text/TextStepContainer.jsx","components/chatbot/steps_components/text/TextStep.jsx","components/chatbot/schemas/userSchema.js","components/chatbot/schemas/textSchema.js","components/chatbot/schemas/optionsSchema.js","components/chatbot/schemas/customSchema.js","components/chatbot/schemas/updateSchema.js","components/chatbot/schemas/schema.js","components/chatbot/components/ChatBotContainer.jsx","components/chatbot/components/Content.jsx","components/chatbot/components/Header.jsx","components/chatbot/components/HeaderTitle.jsx","components/chatbot/components/HeaderIcon.jsx","components/chatbot/components/FloatButton.jsx","components/chatbot/components/FloatingIcon.jsx","components/chatbot/components/Footer.jsx","components/chatbot/components/Input.jsx","components/chatbot/components/SubmitButton.jsx","components/chatbot/recognition.js","components/chatbot/icons/ChatIcon.jsx","components/chatbot/icons/CloseIcon.jsx","components/chatbot/icons/SubmitIcon.jsx","components/chatbot/icons/MicIcon.jsx","components/chatbot/utils.js","components/chatbot/speechSynthesis.js","components/chatbot/ChatBot.jsx","components/chatbot/storage.js","components/OrderStep.jsx","components/Summary.js","components/AddPizza.jsx","components/SimpleForm.js","components/Pizza.jsx","components/PizzaOrder.jsx","components/OrderComplete.jsx","components/EditPizzaSelect.jsx","components/EditForm.jsx","components/DisplayMainArea.js","components/App.js","serviceWorker.js","index.js","components/ZipLookUp.jsx","resources/glutenfree.svg"],"names":["module","exports","DisplayStoreSelect","showPage","this","props","data","userLocation","searchedLocation","className","onClick","updateLocation","StoreResultsList","i","React","Component","map","storeID","storeInfo","StoreDetails","key","name","hours","dist","GeoIcon","fill","viewBox","width","height","preserveAspectRatio","version","xmlns","transform","d","defaultProps","undefined","UserSearchDialog","forwardRef","ref","hasErr","onKeyDown","event","preventDefault","type","GeoSearchDialog","geoLococation","geoString","btnCaption","PreviousLoc","previousStore","console","log","confirmLocation","ShowSearchMenu","userLoc","hasError","errorMsg","geoLoc","midOR","geoReturn","refIn","hexToRgb","hex","replace","m","r","g","b","result","exec","parseInt","rgba","alpha","color","loading","keyframes","scale","invalidInput","LoadingStep","styled","span","delay","Loading","ChatStepContainer","div","CustomStep","state","renderComponent","step","steps","previousStep","triggerNextStep","component","cloneElement","speak","previousValue","waitAction","setTimeout","setState","rendered","style","CustomStepContainer","Option","li","background","fontFamily","headerBgColor","headerFontColor","headerFontSize","botBubbleColor","botFontColor","userBubbleColor","userFontColor","OptionElement","button","theme","defaultTheme","Options","ul","OptionsStepContainer","OptionsStep","onOptionClick","value","renderOption","option","bubbleOptionStyle","user","label","options","Object","keys","Bubble","isFirst","isLast","showAvatar","Image","img","ImageContainer","TextStepContainer","TextStep","getMessage","message","renderMessage","isComponentWatingUser","avatarStyle","bubbleStyle","hideBotAvatar","hideUserAvatar","avatar","botName","imageAltText","src","alt","types","required","schema","parse","parser","userSchema","textSchema","optionsSchema","customSchema","update","Error","stringify","updateSchema","len","length","indexOf","join","p","error","id","checkInvalidIds","triggerId","trigger","optionsTriggerIds","filter","optionTriggerId","ChatBotContainer","floating","floatingStyle","bottom","top","right","left","opened","transformOrigin","Content","hideInput","Header","HeaderTitle","h2","HeaderIcon","a","FloatButton","FloatingIcon","Footer","Input","input","invalid","css","disabled","hasButton","SubmitButton","speaking","instance","noop","Recognition","onChange","onEnd","onStop","lang","inputValue","onResult","bind","setup","window","interimTranscript","finalTranscript","recognition","stop","force","resultIndex","results","isFinal","transcript","onFinal","nextState","assign","isSupported","webkitSpeechRecognition","continuous","interimResults","onresult","onend","start","ChatIcon","CloseIcon","SubmitIcon","size","points","MicIcon","isMobile","test","navigator","userAgent","isString","speakFn","speechSynthesisOptions","voice","enable","SpeechSynthesisUtterance","speechSynthesis","text","metadata","getSpeakText","msg","ChatBot","onNodeInserted","target","currentTarget","enableSmoothScroll","supportsScrollBehavior","scroll","scrollHeight","behavior","scrollTop","onResize","content","onRecognitionChange","onRecognitionEnd","handleSubmitButton","onRecognitionStop","onValueChange","getTriggeredStep","generateRenderedStepsById","getStepMessage","previousSteps","lastStepIndex","enableMobileAutoFocus","defaultUserSettings","renderedSteps","currentStep","isEnd","end","hideExtraControl","handleEnd","o","pop","push","val","nextStep","updateStep","Random","focus","cache","cacheName","cachedData","localStorage","setItem","storage","values","isInputValueEmpty","isLastPosition","stepIndex","s","asMessage","isFirstPosition","lastStep","handleKeyPress","submitUserMessage","recognitionEnable","validator","checkInvalidInput","blur","toString","inputInvalid","toggleChatBot","toggleFloating","renderStep","index","customStyle","setContentRef","element","setInputRef","botDelay","botAvatar","customDelay","userAvatar","chatSteps","defaultBotSettings","userDelay","defaultCustomSettings","settings","firstStep","recognitionLang","document","documentElement","addEventListener","params","callback","unParsedCache","getItem","renderedStep","removeItem","info","removeEventListener","customControl","contentStyle","extraControl","controlStyle","floatingIcon","footerStyle","headerComponent","headerTitle","hideHeader","hideSubmitButton","inputStyle","placeholder","inputAttributes","recognitionPlaceholder","submitButtonStyle","header","icon","inputPlaceholder","inputAttributesOverride","onKeyPress","position","OrderStep","stepOvr","order","curStep","stepID","pID","EditID","NextPizzaID","pizza","selectPizza","CurrentPizza","sizeStep","topStep","notTopStep","opts","Menu","qty","stepType","itemOptions","optionQty","isSizeStep","isTopStep","isNotTopStep","multiSel","currentSel","crusts","sizes","sauces","cheeses","meats","nonmeats","triggerNext","handleClick","newPizza","lbl","newSel","x","rem","substring","ret","on","onMsg","z","half","findIndex","h","GetItemInfo","Crust","Size","Sauce","Cheese","Topping","MeatToppings","NonMeatToppings","updateSel","v","Array","NotToppingStep","onTrigger","SizeCrustStep","ToppingStep","c","cName","code","concat","InnerQtyList","q","hKey","oLiKey","qName","short","nxt","NextStep","itemList","itemName","nncode","none","useState","setHalf","btn","HalfBtn","bKey","Summary","cnt","spec","spcQues","userInst","SpecialInstructions","PizzaCnt","pizzaID","PizzaID","getPizza","title","sauce","nonMeats","noninst","AddPizza","edt","IsOrderEdit","Name","ordername","addNewPizza","SimpleForm","marginTop","Pizza","crust","toppings","specialInstructions","t","cheese","splice","cheeseCnt","chez","str","n","oMsg","topping","newTopping","PizzaOrder","orderDate","Date","mon","getMonth","day","getDate","shortID","receiptNum","orderName","pickUpID","pizzas","pizzaCnt","isEdit","editID","oSize","newID","inst","propTypes","PropTypes","string","object","OrderComplete","confirm","alert","location","reload","pickup","PickUpID","recpt","ReceiptNum","oDt","OrderDate","pizzaMsg","Pizzas","PizzaStringArray","onEdit","onCancel","EditPizzzaSelect","k","CancelOrder","EditForm","triggerCan","e","DisplayMainArea","showSum","showEdit","orderEnd","editOrder","cancelOrder","veggie","gf","vegan","df","App","searchedBy","selectedStore","userLocObj","handleStoreSearch","handleStoreSelect","createRef","userEntered","current","geoRetLength","userEntry","locString","userString","prevStore","banner","logo","Boolean","hostname","match","obj","l","lookup","city","locOpt","timeout","maximumAge","Promise","resolve","reject","geolocation","getCurrentPosition","lat","coords","latitude","long","longitude","then","query","newQ","resolveOpenCage","resolveGeoLoc","x2","lastIndexOf","newRes","catch","err","addressFormatter","require","opencage","pretty","no_annotations","geoData","formatted","format","components","output","response","rZ","rS","lSet","uel","trim","zipLookUp","isNaN","initLoc","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f5f7aa34.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/vegan.2349a56b.svg\";","module.exports = __webpack_public_path__ + \"static/media/vegetarian.db83e29d.svg\";","module.exports = __webpack_public_path__ + \"static/media/dairyfree.b1948e3f.svg\";","module.exports = \"data:image/png;base64,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\"","import React from 'react';\r\nimport '../css/DisplayStoreSelect.css';\r\nclass DisplayStoreSelect extends React.Component {\r\n  render() {\r\n    const showPage= this.props.data.showPage;\r\n    const userLocation = this.props.data.searchedLocation;\r\n\r\n    if (showPage!=='Select') {\r\n      return null;\r\n    } else {\r\n      return (\r\n        <>\r\n        <div className=\"storeSelect\">\r\n        <div className=\"storeSelectBanner\">\r\n          <h2>Results</h2>\r\n          <div className=\"resultsCapt\">Showing results near: {userLocation}</div>\r\n          <div className=\"resultsChange\" onClick={() => this.props.updateLocation()}>Change Location</div>\r\n          </div>\r\n          <ul className=\"resultsList\">\r\n            <StoreResultsList onClick={(i) => this.props.onClick(i)} />\r\n          </ul>\r\n        </div>\r\n        </>\r\n      );\r\n    }       \r\n  }\r\n}\r\nfunction StoreResultsList(props) {\r\n  const storeIDs = ['1','2','3'];\r\n  const storeList = storeIDs.map((storeID) => {\r\n    const storeInfo = StoreDetails(storeID);   \r\n    return (\r\n      <li key={storeID} className=\"resultElement\"> \r\n        <div className=\"store\">\r\n        <div className=\"storeAddress\">{storeInfo.name}</div>\r\n        <div className=\"storeDetails\">Store is {storeInfo.hours}, and is located {storeInfo.dist} miles away</div>\r\n        </div>\r\n        <div>\r\n        <button className=\"selectBtn\" onClick={() => {\r\n          return props.onClick(storeID);\r\n          }}>Select</button> \r\n        </div>\r\n      </li> \r\n      );\r\n    });\r\n  return storeList;\r\n}\r\nfunction StoreDetails(storeID) {\r\n  switch (storeID){\r\n    case '1':\r\n      return {name: 'Main Street', hours: 'Open 8am-8pm', dist: '1.2'};\r\n      //break;\r\n    case '2':\r\n      return {name: 'Long Street', hours: 'Open 11am-9pm', dist:'3.6'};\r\n      //break;\r\n    case '3':\r\n      return {name: 'Easy Street', hours: 'Open 11am-11pm', dist:'4.1'};\r\n      //break;\r\n    default:\r\n          \r\n  }\r\n  return null;\r\n}\r\n  export {DisplayStoreSelect, StoreDetails};","\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction GeoIcon({className, fill, viewBox}) {\r\n  return (\r\n    <svg width=\"15%\" height=\"15%\" viewBox={viewBox} className={className} preserveAspectRatio=\"xMidYMid meet\" version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <g fill={fill} transform=\"translate(0.000000,670.000000) scale(0.100000,-0.100000)\">\r\n      <path d=\"M2847 6654 c-931 -135 -1617 -925 -1617 -1862 0 -583 266 -1292 776 -2069 283 -432 655 -901 1014 -1280 l88 -92 84 87 c409 422 845 984 1150 1482 378 617 586 1166 638 1679 100 1004 -599 1904 -1595 2052 -155 23 -391 24 -538 3z m506 -898 c170 -44 321 -132 452 -265 118 -120 204 -269 246 -428 32 -119 37 -320 11 -445 -33 -160 -105 -306 -211 -431 -297 -350 -799 -447 -1199 -230 -234 126 -399 330 -479 590 -25 81 -27 102 -27 263 -1 154 2 184 22 255 111 383 416 653 808 715 97 15 267 4 377 -24z\"/>\r\n      <path d=\"M1699 2095 c-888 -178 -1471 -496 -1574 -859 -13 -42 -16 -84 -13 -147 4 -78 9 -97 46 -172 121 -244 442 -456 947 -623 412 -136 861 -220 1430 -266 242 -20 979 -17 1215 5 561 52 974 131 1365 261 516 172 838 387 957 642 43 92 50 219 18 314 -114 340 -639 639 -1426 814 -183 40 -343 70 -348 65 -11 -14 -186 -261 -186 -264 0 -1 24 -5 53 -9 92 -12 389 -75 494 -105 302 -87 526 -204 598 -313 38 -58 45 -130 17 -184 -147 -285 -1046 -484 -2187 -484 -1017 0 -1877 167 -2124 412 -56 56 -73 90 -73 149 1 84 48 146 175 229 162 107 430 197 789 265 106 20 203 39 215 41 20 4 14 15 -70 134 -84 118 -95 130 -122 129 -16 0 -105 -15 -196 -34z\"/>\r\n    </g>\r\n    </svg>\r\n  );\r\n}\r\nGeoIcon.propTypes= {\r\n  className: PropTypes.string,\r\n  fill: PropTypes.string,\r\n  viewBox: PropTypes.string,\r\n};\r\nGeoIcon.defaultProps = {\r\n  className: undefined,\r\n  fill: \"#000000\",\r\n  viewBox: \"0 0 620.000000 670.000000\",\r\n};\r\nexport default GeoIcon","import React from 'react';\r\nimport GeoIcon from '../resources/GeoIcon.jsx';\r\nimport {StoreDetails} from './DisplayStoreSelect';\r\nimport '../css/ShowSearchMenu.css';\r\n\r\nfunction ShowSearchMenu(props) { \r\n  const {userLoc, previousStore, hasError, errorMsg} = props.data;\r\n  const geoLococation = userLoc.geoLoc;\r\n  const geoString = userLoc.geoString ? userLoc.geoString : \"\";\r\n  const showPage= props.data.showPage;\r\n  if (showPage!=='Search') {\r\n    return null;\r\n  } else {\r\n    let hasErr = null;\r\n    let midOR = null;\r\n    if(hasError) {\r\n      hasErr = <div className=\"searchErrorMsg\">{errorMsg}</div>\r\n    }\r\n    if(previousStore!=='0'){\r\n      midOR = <div className=\"searchOrPrev\">Or</div>      \r\n    }\r\n    return (\r\n      <>\r\n      <div className=\"searchPage\">\r\n      <div className=\"searchGreeting\">Find your Slice</div>\r\n      <div className=\"srchGrtCaption\">Available Menu Items, Special Offers, and Pricing can vary by location.</div>\r\n      <div className=\"searchContentWrapper\">\r\n      <div className=\"searchBox\">\r\n        <div className=\"searchBoxBanner\">Find Locations</div>\r\n        <div className=\"searchOptions\">\r\n          <GeoSearchDialog geoLococation={geoLococation} geoString={geoString} onClick={(geoReturn) => props.onClick(geoReturn)}/>\r\n          <UserSearchDialog hasErr={hasErr} ref={props.refIn} onClick={(geoReturn) => props.onClick(geoReturn)}/>\r\n        </div>\r\n      </div>\r\n      {midOR}      \r\n      <PreviousLoc previousStore={previousStore} confirmLocation={(previousStore)=> props.confirmLocation(previousStore)}/>\r\n      </div>\r\n      </div> \r\n      </>\r\n    );\r\n  } \r\n}\r\n\r\nconst UserSearchDialog = React.forwardRef((props, ref) => {\r\n  const geoString = '';\r\n  const hasErr = props.hasErr;\r\n  return (\r\n    <>\r\n    <div className=\"userSearchArea\">\r\n    <div className=\"userSearchLabel\">Enter a Zip Code</div>\r\n    <form className=\"searchForm\" onKeyDown={(event) => {if(event.key === 'Enter') {props.onClick(geoString); event.preventDefault();}}}>\r\n      <input className=\"userInputString\" type=\"text\" ref={ref}/>\r\n      {hasErr}\r\n    </form>\r\n      <button className=\"userSearchBtn\" type=\"button\" onClick={() => props.onClick(geoString)}>Submit</button>\r\n\r\n\r\n    </div>\r\n    </>\r\n  );\r\n});\r\nfunction GeoSearchDialog(props) {\r\n  const geoLococation = props.geoLococation;\r\n  const geoString = props.geoString;\r\n  const btnCaption = 'Locations near ' + geoLococation;\r\n  if(geoString==='') {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className=\"geoSearchArea\">\r\n      <button className=\"geoSearchBtn\" onClick={() => props.onClick(geoString)}>\r\n        <GeoIcon fill=\"#000000\" className=\"geoSearchIcon\"/>\r\n        <div className=\"geoSearchBtnCapt\">{btnCaption}</div>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\nfunction PreviousLoc(props) {\r\n  const {previousStore} = props;          \r\n  if (previousStore==='0'){\r\n    return null;\r\n  }\r\n  const storeInfo = StoreDetails(previousStore); \r\n  console.log(storeInfo)\r\n  return(\r\n    <div className=\"prevLocBox\">    \r\n      <div className=\"prevLocBanner\">Keep this location</div>        \r\n      <div className=\"prevLocName\">{storeInfo.name}</div>\r\n      <div className=\"prevLocHours\">{storeInfo.hours}</div>\r\n      <button className=\"prevLocConfirm\" onClick={() => props.confirmLocation(previousStore)}>Select</button>\r\n    </div>\r\n  );\r\n}\r\nexport default ShowSearchMenu;","const hexToRgb = hex => {\r\n  // http://stackoverflow.com/a/5624139\r\n  const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n  hex = hex.replace(shorthandRegex, (m, r, g, b) => r + r + g + g + b + b);\r\n\r\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n  return result\r\n    ? {\r\n        r: parseInt(result[1], 16),\r\n        g: parseInt(result[2], 16),\r\n        b: parseInt(result[3], 16)\r\n      }\r\n    : null;\r\n};\r\n\r\n/**\r\n * Transform hex+alpha to rgba\r\n * @param {string} hex hex color code\r\n * @param {number} [alpha=1]\r\n * @returns {string} the rgba as string\r\n */\r\nconst rgba = (hex, alpha = 1) => {\r\n  const color = hexToRgb(hex);\r\n  return `rgba(${color.r}, ${color.g}, ${color.b}, ${alpha})`;\r\n};\r\n\r\nexport default rgba;\r\n","import { keyframes } from 'styled-components';\r\nimport rgba from './rgba';\r\n\r\nconst loading = keyframes`\r\n  0% { opacity: .2; }\r\n  20% { opacity: 1; }\r\n  100% { opacity: .2; }\r\n`;\r\n\r\nconst scale = keyframes`\r\n  100% { transform: scale(1); }\r\n`;\r\n\r\nconst invalidInput = keyframes`\r\n  25% { transform: rotate(-1deg); }\r\n  100% { transform: rotate(1deg); }\r\n`;\r\n\r\nconst pulse = color => keyframes`\r\n  0% { box-shadow: 0 0 0 0 ${rgba(color, 0.4)}; }\r\n  70% { box-shadow: 0 0 0 10px ${rgba(color, 0)}; }\r\n  100% { box-shadow: 0 0 0 0 ${rgba(color, 0)}; }\r\n`;\r\n\r\nexport { loading, scale, invalidInput, pulse };\r\n","import styled from 'styled-components';\r\nimport { loading } from '../../common/animations';\r\n\r\nconst LoadingStep = styled.span`\r\n  animation: ${loading} 1.4s infinite both;\r\n  animation-delay: ${props => props.delay};\r\n`;\r\n\r\nexport default LoadingStep;\r\n","import React from 'react';\r\nimport LoadingStep from './LoadingStep';\r\n\r\nconst Loading = () => (\r\n  <span className=\"rsc-loading\">\r\n    <LoadingStep delay=\"0s\">.</LoadingStep>\r\n    <LoadingStep delay=\".2s\">.</LoadingStep>\r\n    <LoadingStep delay=\".4s\">.</LoadingStep>\r\n  </span>\r\n);\r\n\r\nexport default Loading;\r\n","import styled from 'styled-components';\r\n\r\nconst ChatStepContainer = styled.div`\r\n  background: #fff;\r\n  border-radius: 5px;\r\n  box-shadow: rgba(0, 0, 0, 0.15) 0px 1px 2px 0px;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 0 6px 10px 6px;\r\n  padding: 16px;\r\n`;\r\n\r\nexport default ChatStepContainer;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Loading from '../common/Loading';\r\nimport CustomStepContainer from './CustomStepContainer';\r\n\r\nclass CustomStep extends Component {\r\n  state = {\r\n    loading: true\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { speak, step, previousValue, triggerNextStep } = this.props;\r\n    const { delay, waitAction } = step;\r\n\r\n    setTimeout(() => {\r\n      this.setState({ loading: false }, () => {\r\n        if (!waitAction && !step.rendered) {\r\n          triggerNextStep();\r\n        }\r\n        speak(step, previousValue);\r\n      });\r\n    }, delay);\r\n  }\r\n\r\n  renderComponent = () => {\r\n    const { step, steps, previousStep, triggerNextStep } = this.props;\r\n    const { component } = step;\r\n\r\n    return React.cloneElement(component, {\r\n      step,\r\n      steps,\r\n      previousStep,\r\n      triggerNextStep\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { loading } = this.state;\r\n    const { style } = this.props;\r\n\r\n    return (\r\n      <CustomStepContainer className=\"rsc-cs\" style={style}>\r\n        {loading ? <Loading /> : this.renderComponent()}\r\n      </CustomStepContainer>\r\n    );\r\n  }\r\n}\r\n\r\nCustomStep.propTypes = {\r\n  previousStep: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  previousValue: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.bool,\r\n    PropTypes.number,\r\n    PropTypes.object,\r\n    PropTypes.array\r\n  ]),\r\n  speak: PropTypes.func,\r\n  step: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  steps: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  style: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  triggerNextStep: PropTypes.func.isRequired\r\n};\r\nCustomStep.defaultProps = {\r\n  previousValue: '',\r\n  speak: () => {}\r\n};\r\n\r\nexport default CustomStep;\r\n","import styled from 'styled-components';\r\nimport { scale } from '../../common/animations';\r\n\r\nconst Option = styled.li`\r\n  animation: ${scale} 0.3s ease forwards;\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  margin: 2px;\r\n  transform: scale(0);\r\n`;\r\n\r\nexport default Option;\r\n","export default {\r\n  background: '#f5f8fb',\r\n  fontFamily: 'monospace',\r\n  headerBgColor: '#6e48aa',\r\n  headerFontColor: '#fff',\r\n  headerFontSize: '16px',\r\n  botBubbleColor: '#6E48AA',\r\n  botFontColor: '#fff',\r\n  userBubbleColor: '#fff',\r\n  userFontColor: '#4a4a4a'\r\n};\r\n","import styled from 'styled-components';\r\nimport defaultTheme from '../../theme';\r\n\r\nconst OptionElement = styled.button`\r\n  background: ${({ theme }) => theme.botBubbleColor};\r\n  border: 0;\r\n  border-radius: 22px;\r\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.15);\r\n  color: ${({ theme }) => theme.botFontColor};\r\n  display: inline-block;\r\n  font-size: 14px;\r\n  padding: 12px;\r\n\r\n  &:hover {\r\n    opacity: 0.7;\r\n  }\r\n  &:active,\r\n  &:hover:focus {\r\n    outline:none;\r\n  }\r\n`;\r\n\r\nOptionElement.defaultProps = {\r\n  theme: defaultTheme\r\n};\r\n\r\nexport default OptionElement;\r\n","import styled from 'styled-components';\r\n\r\nconst Options = styled.ul`\r\n  margin: 2px 0 12px 0;\r\n  padding: 0 6px;\r\n`;\r\n\r\nexport default Options;\r\n","import styled from 'styled-components';\r\n\r\nconst OptionsStepContainer = styled.div``;\r\n\r\nexport default OptionsStepContainer;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Option from './Option';\r\nimport OptionElement from './OptionElement';\r\nimport Options from './Options';\r\nimport OptionsStepContainer from './OptionsStepContainer';\r\n\r\nclass OptionsStep extends Component {\r\n  onOptionClick = ({ value }) => {\r\n    const { triggerNextStep } = this.props;\r\n\r\n    triggerNextStep({ value });\r\n  };\r\n\r\n  renderOption = option => {\r\n    const { bubbleOptionStyle, step } = this.props;\r\n    const { user } = step;\r\n    const { value, label } = option;\r\n\r\n    return (\r\n      <Option key={value} className=\"rsc-os-option\">\r\n        <OptionElement\r\n          className=\"rsc-os-option-element\"\r\n          style={bubbleOptionStyle}\r\n          user={user}\r\n          onClick={() => this.onOptionClick({ value })}\r\n        >\r\n          {label}\r\n        </OptionElement>\r\n      </Option>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { step } = this.props;\r\n    const { options } = step;\r\n\r\n    return (\r\n      <OptionsStepContainer className=\"rsc-os\">\r\n        <Options className=\"rsc-os-options\">\r\n          {Object.keys(options).map(key => options[key]).map(this.renderOption)}\r\n        </Options>\r\n      </OptionsStepContainer>\r\n    );\r\n  }\r\n}\r\n\r\nOptionsStep.propTypes = {\r\n  bubbleOptionStyle: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  step: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  triggerNextStep: PropTypes.func.isRequired\r\n};\r\n\r\nexport default OptionsStep;\r\n","import styled from 'styled-components';\r\nimport { scale } from '../../common/animations';\r\nimport defaultTheme from '../../theme';\r\n\r\nconst Bubble = styled.div`\r\n  animation: ${scale} 0.3s ease forwards;\r\n  background: ${props => (props.user ? props.theme.userBubbleColor : props.theme.botBubbleColor)};\r\n  border-radius: ${props => {\r\n    const { isFirst, isLast, user } = props;\r\n\r\n    if (!isFirst && !isLast) {\r\n      return user ? '18px 0 0 18px' : '0 18px 18px 0px';\r\n    }\r\n\r\n    if (!isFirst && isLast) {\r\n      return user ? '18px 0 18px 18px' : '0 18px 18px 18px';\r\n    }\r\n\r\n    return props.user ? '18px 18px 0 18px' : '18px 18px 18px 0';\r\n  }};\r\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.15);\r\n  color: ${props => (props.user ? props.theme.userFontColor : props.theme.botFontColor)};\r\n  display: inline-block;\r\n  font-size: 14px;\r\n  max-width: 50%;\r\n  margin: ${props => {\r\n    const { isFirst, showAvatar, user } = props;\r\n\r\n    if (!isFirst && showAvatar) {\r\n      return user ? '-8px 46px 10px 0' : '-8px 0 10px 46px';\r\n    }\r\n\r\n    if (!isFirst && !showAvatar) {\r\n      return user ? '-8px 0px 10px 0' : '-8px 0 10px 0px';\r\n    }\r\n\r\n    return '0 0 10px 0';\r\n  }};\r\n  overflow: hidden;\r\n  position: relative;\r\n  padding: 12px;\r\n  transform: scale(0);\r\n  transform-origin: ${props => {\r\n    const { isFirst, user } = props;\r\n\r\n    if (isFirst) {\r\n      return user ? 'bottom right' : 'bottom left';\r\n    }\r\n\r\n    return user ? 'top right' : 'top left';\r\n  }};\r\n`;\r\n\r\nBubble.defaultProps = {\r\n  theme: defaultTheme\r\n};\r\n\r\nexport default Bubble;\r\n","import styled from 'styled-components';\r\nimport { scale } from '../../common/animations';\r\n\r\nconst Image = styled.img`\r\n  animation: ${scale} 0.3s ease forwards;\r\n  border-radius: ${props => (props.user ? '50% 50% 50% 0' : '50% 50% 0 50%')};\r\n  box-shadow: rgba(0, 0, 0, 0.15) 0px 1px 2px 0px;\r\n  height: 40px;\r\n  min-width: 40px;\r\n  padding: 3px;\r\n  transform: scale(0);\r\n  transform-origin: ${props => (props.user ? 'bottom left' : 'bottom right')};\r\n  width: 40;\r\n`;\r\n\r\nexport default Image;\r\n","import styled from 'styled-components';\r\n\r\nconst ImageContainer = styled.div`\r\n  display: inline-block;\r\n  order: ${props => (props.user ? '1' : '0')};\r\n  padding: 6px;\r\n`;\r\n\r\nexport default ImageContainer;\r\n","import styled from 'styled-components';\r\n\r\nconst TextStepContainer = styled.div`\r\n  align-items: flex-end;\r\n  display: flex;\r\n  justify-content: ${props => (props.user ? 'flex-end' : 'flex-start')};\r\n`;\r\n\r\nexport default TextStepContainer;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Bubble from './Bubble';\r\nimport Image from './Image';\r\nimport ImageContainer from './ImageContainer';\r\nimport Loading from '../common/Loading';\r\nimport TextStepContainer from './TextStepContainer';\r\n\r\nclass TextStep extends Component {\r\n  /* istanbul ignore next */\r\n  state = {\r\n    loading: true\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { step, speak, previousValue, triggerNextStep } = this.props;\r\n    const { component, delay, waitAction } = step;\r\n    const isComponentWatingUser = component && waitAction;\r\n\r\n    setTimeout(() => {\r\n      this.setState({ loading: false }, () => {\r\n        if (!isComponentWatingUser && !step.rendered) {\r\n          triggerNextStep();\r\n        }\r\n        speak(step, previousValue);\r\n      });\r\n    }, delay);\r\n  }\r\n\r\n  getMessage = () => {\r\n    const { previousValue, step } = this.props;    \r\n    const { message } = step;      \r\n    return message ? message.replace(/{previousValue}/g, previousValue) : '';\r\n  };\r\n\r\n  renderMessage = () => {\r\n    const { step, steps, previousStep, triggerNextStep } = this.props;\r\n    const { component } = step;\r\n\r\n    if (component) {      \r\n      return React.cloneElement(component, {\r\n        step,\r\n        steps,\r\n        previousStep,\r\n        triggerNextStep\r\n      });\r\n    }    \r\n    return this.getMessage();\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      step,\r\n      isFirst,\r\n      isLast,\r\n      avatarStyle,\r\n      bubbleStyle,\r\n      hideBotAvatar,\r\n      hideUserAvatar\r\n    } = this.props;\r\n    const { loading } = this.state;\r\n    const { avatar, user, botName } = step;\r\n\r\n    const showAvatar = user ? !hideUserAvatar : !hideBotAvatar;\r\n\r\n    const imageAltText = user ? \"Your avatar\" : `${botName}'s avatar`;\r\n    return (\r\n      <TextStepContainer className={`rsc-ts ${user ? 'rsc-ts-user' : 'rsc-ts-bot'}`} user={user}>\r\n        <ImageContainer className=\"rsc-ts-image-container\" user={user}>\r\n          {isFirst && showAvatar && (\r\n            <Image\r\n              className=\"rsc-ts-image\"\r\n              style={avatarStyle}\r\n              showAvatar={showAvatar}\r\n              user={user}\r\n              src={avatar}\r\n              alt={imageAltText}\r\n            />\r\n          )}\r\n        </ImageContainer>\r\n        <Bubble\r\n          className=\"rsc-ts-bubble\"\r\n          style={bubbleStyle}\r\n          user={user}\r\n          showAvatar={showAvatar}\r\n          isFirst={isFirst}\r\n          isLast={isLast}\r\n        >\r\n          {loading ? <Loading /> : this.renderMessage()}\r\n        </Bubble>\r\n      </TextStepContainer>\r\n    );\r\n  }\r\n}\r\n\r\nTextStep.propTypes = {\r\n  avatarStyle: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  isFirst: PropTypes.bool.isRequired,\r\n  isLast: PropTypes.bool.isRequired,\r\n  bubbleStyle: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  hideBotAvatar: PropTypes.bool.isRequired,\r\n  hideUserAvatar: PropTypes.bool.isRequired,\r\n  previousStep: PropTypes.objectOf(PropTypes.any),\r\n  previousValue: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.bool,\r\n    PropTypes.number,\r\n    PropTypes.object,\r\n    PropTypes.array\r\n  ]),\r\n  speak: PropTypes.func,\r\n  step: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  steps: PropTypes.objectOf(PropTypes.any),\r\n  triggerNextStep: PropTypes.func.isRequired\r\n};\r\n\r\nTextStep.defaultProps = {\r\n  previousStep: {},\r\n  previousValue: '',\r\n  speak: () => {},\r\n  steps: {}\r\n};\r\n\r\nexport default TextStep;\r\n","export default [\r\n  {\r\n    key: 'id',\r\n    types: ['string', 'number'],\r\n    required: true\r\n  },\r\n  {\r\n    key: 'user',\r\n    types: ['boolean'],\r\n    required: true\r\n  },\r\n  {\r\n    key: 'hideExtraControl',\r\n    types: ['boolean'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'trigger',\r\n    types: ['string', 'number', 'function'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'validator',\r\n    types: ['function'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'end',\r\n    types: ['boolean'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'placeholder',\r\n    types: ['string'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'inputAttributes',\r\n    types: ['object'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'metadata',\r\n    types: ['object'],\r\n    required: false\r\n  }\r\n];\r\n","export default [\r\n  {\r\n    key: 'id',\r\n    types: ['string', 'number'],\r\n    required: true\r\n  },\r\n  {\r\n    key: 'message',\r\n    types: ['string', 'function'],\r\n    required: true\r\n  },\r\n  {\r\n    key: 'avatar',\r\n    types: ['string'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'trigger',\r\n    types: ['string', 'number', 'function'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'delay',\r\n    types: ['number'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'end',\r\n    types: ['boolean'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'placeholder',\r\n    types: ['string'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'hideInput',\r\n    types: ['boolean'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'hideExtraControl',\r\n    types: ['boolean'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'inputAttributes',\r\n    types: ['object'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'metadata',\r\n    types: ['object'],\r\n    required: false\r\n  }\r\n];\r\n","export default [\r\n  {\r\n    key: 'id',\r\n    types: ['string', 'number'],\r\n    required: true\r\n  },\r\n  {\r\n    key: 'options',\r\n    types: ['object'],\r\n    required: true\r\n  },\r\n  {\r\n    key: 'end',\r\n    types: ['boolean'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'placeholder',\r\n    types: ['string'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'hideInput',\r\n    types: ['boolean'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'hideExtraControl',\r\n    types: ['boolean'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'inputAttributes',\r\n    types: ['object'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'metadata',\r\n    types: ['object'],\r\n    required: false\r\n  }\r\n];\r\n","export default [\r\n  {\r\n    key: 'id',\r\n    types: ['string', 'number'],\r\n    required: true\r\n  },\r\n  {\r\n    key: 'component',\r\n    types: ['any'],\r\n    required: true\r\n  },\r\n  {\r\n    key: 'avatar',\r\n    types: ['string'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'replace',\r\n    types: ['boolean'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'waitAction',\r\n    types: ['boolean'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'asMessage',\r\n    types: ['boolean'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'trigger',\r\n    types: ['string', 'number', 'function'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'delay',\r\n    types: ['number'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'end',\r\n    types: ['boolean'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'placeholder',\r\n    types: ['string'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'hideInput',\r\n    types: ['boolean'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'hideExtraControl',\r\n    types: ['boolean'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'inputAttributes',\r\n    types: ['object'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'metadata',\r\n    types: ['object'],\r\n    required: false\r\n  }\r\n];\r\n","export default [\r\n  {\r\n    key: 'id',\r\n    types: ['string', 'number'],\r\n    required: true\r\n  },\r\n  {\r\n    key: 'update',\r\n    types: ['string', 'number'],\r\n    required: true\r\n  },\r\n  {\r\n    key: 'trigger',\r\n    types: ['string', 'number', 'function'],\r\n    required: true\r\n  },\r\n  {\r\n    key: 'placeholder',\r\n    types: ['string'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'inputAttributes',\r\n    types: ['object'],\r\n    required: false\r\n  },\r\n  {\r\n    key: 'metadata',\r\n    types: ['object'],\r\n    required: false\r\n  }\r\n];\r\n","import userSchema from './userSchema';\r\nimport textSchema from './textSchema';\r\nimport optionsSchema from './optionsSchema';\r\nimport customSchema from './customSchema';\r\nimport updateSchema from './updateSchema';\r\nimport { stringify } from 'flatted/cjs';\r\n\r\nconst schema = {\r\n  parse(step) {\r\n    let parser = [];\r\n\r\n    if (step.user) {\r\n      parser = userSchema;\r\n    } else if (step.message) {\r\n      parser = textSchema;\r\n    } else if (step.options) {\r\n      parser = optionsSchema;\r\n    } else if (step.component) {\r\n      parser = customSchema;\r\n    } else if (step.update) {\r\n      parser = updateSchema;\r\n    } else {\r\n      throw new Error(`The step ${stringify(step)} is invalid`);\r\n    }\r\n\r\n    for (let i = 0, len = parser.length; i < len; i += 1) {\r\n      const { key, types, required } = parser[i];\r\n\r\n      if (!step[key] && required) {\r\n        throw new Error(`Key '${key}' is required in step ${stringify(step)}`);\r\n      } else if (step[key]) {\r\n        if (types[0] !== 'any' && types.indexOf(typeof step[key]) < 0) {\r\n          throw new Error(\r\n            `The type of '${key}' value must be ${types.join(' or ')} instead of ${typeof step[\r\n              key\r\n            ]}`\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    const keys = parser.map(p => p.key);\r\n\r\n    for (const key in step) {\r\n      if (keys.indexOf(key) < 0) {\r\n        console.error(`Invalid key '${key}' in step '${step.id}'`);\r\n        delete step[key];\r\n      }\r\n    }\r\n\r\n    return step;\r\n  },\r\n\r\n  checkInvalidIds(steps) {\r\n    for (const key in steps) {\r\n      const step = steps[key];\r\n      const triggerId = steps[key].trigger;\r\n\r\n      if (typeof triggerId !== 'function') {\r\n        if (step.options) {\r\n          const triggers = step.options.filter(option => typeof option.trigger !== 'function');\r\n          const optionsTriggerIds = triggers.map(option => option.trigger);\r\n\r\n          for (let i = 0, len = optionsTriggerIds.length; i < len; i += 1) {\r\n            const optionTriggerId = optionsTriggerIds[i];\r\n            if (optionTriggerId && !steps[optionTriggerId]) {\r\n              throw new Error(\r\n                `The id '${optionTriggerId}' triggered by option ${i + 1} in step '${\r\n                  steps[key].id\r\n                }' does not exist`\r\n              );\r\n            }\r\n          }\r\n        } else if (triggerId && !steps[triggerId]) {\r\n          throw new Error(\r\n            `The id '${triggerId}' triggered by step '${steps[key].id}' does not exist`\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexport default schema;\r\n","import styled from 'styled-components';\r\nimport defaultTheme from '../theme';\r\n\r\nconst ChatBotContainer = styled.div`\r\n  background: ${({ theme }) => theme.background};\r\n  border-radius: 10px;\r\n  box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.15);\r\n  font-family: ${({ theme }) => theme.fontFamily};\r\n  overflow: hidden;\r\n  position: ${({ floating }) => (floating ? 'fixed' : 'relative')};\r\n  bottom: ${({ floating, floatingStyle }) =>\r\n    floating ? floatingStyle.bottom || '32px' : 'initial'};\r\n  top: ${({ floating, floatingStyle }) => (floating ? floatingStyle.top || 'initial' : 'initial')};\r\n  right: ${({ floating, floatingStyle }) => (floating ? floatingStyle.right || '32px' : 'initial')};\r\n  left: ${({ floating, floatingStyle }) =>\r\n    floating ? floatingStyle.left || 'initial' : 'initial'};\r\n  width: ${({ width }) => width};\r\n  height: ${({ height }) => height};\r\n  z-index: 999;\r\n  transform: ${({ opened }) => (opened ? 'scale(1)' : 'scale(0)')};\r\n  transform-origin: ${({ floatingStyle }) => floatingStyle.transformOrigin || 'bottom right'};\r\n  transition: transform 0.3s ease;\r\n\r\n  @media screen and (max-width: 568px) {\r\n    border-radius: ${({ floating }) => (floating ? '0' : '')};\r\n    bottom: 0 !important;\r\n    left: initial !important;\r\n    height: 100%;\r\n    right: 0 !important;\r\n    top: initial !important;\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nChatBotContainer.defaultProps = {\r\n  theme: defaultTheme\r\n};\r\n\r\nexport default ChatBotContainer;\r\n","import styled from 'styled-components';\r\n\r\nconst Content = styled.div`\r\n  height: calc(${props => props.height} - ${props => (props.hideInput ? '56px' : '112px')});\r\n  overflow-y: scroll;\r\n  margin-top: 2px;\r\n  padding-top: 6px;\r\n\r\n  @media screen and (max-width: 568px) {\r\n    height: ${props => (props.floating ? 'calc(100% - 112px)' : '')};\r\n  }\r\n`;\r\n\r\nexport default Content;\r\n","import styled from 'styled-components';\r\nimport defaultTheme from '../theme';\r\n\r\nconst Header = styled.div`\r\n  align-items: center;\r\n  background: ${({ theme }) => theme.headerBgColor};\r\n  color: ${({ theme }) => theme.headerFontColor};\r\n  display: flex;\r\n  fill: ${({ theme }) => theme.headerFontColor};\r\n  height: 56px;\r\n  justify-content: space-between;\r\n  padding: 0 10px;\r\n`;\r\n\r\nHeader.defaultProps = {\r\n  theme: defaultTheme\r\n};\r\n\r\nexport default Header;\r\n","import styled from 'styled-components';\r\nimport defaultTheme from '../theme';\r\n\r\nconst HeaderTitle = styled.h2`\r\n  margin: 0;\r\n  font-size: ${({ theme }) => theme.headerFontSize};\r\n`;\r\n\r\nHeaderTitle.defaultProps = {\r\n  theme: defaultTheme\r\n};\r\n\r\nexport default HeaderTitle;\r\n","import styled from 'styled-components';\r\n\r\nconst HeaderIcon = styled.a`\r\n  cursor: pointer;\r\n`;\r\n\r\nexport default HeaderIcon;\r\n","import styled from 'styled-components';\r\n\r\nconst FloatButton = styled.a`\r\n  align-items: center;\r\n  cursor: pointer;\r\n  background: ${({ theme }) => theme.headerBgColor};\r\n  bottom: 32px;\r\n  border-radius: 100%;\r\n  box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.15);\r\n  display: flex;\r\n  fill: ${({ theme }) => theme.headerFontColor};\r\n  height: 56px;\r\n  justify-content: center;\r\n  position: fixed;\r\n  right: 32px;\r\n  transform: ${props => (props.opened ? 'scale(0)' : 'scale(1)')};\r\n  transition: transform 0.3s ease;\r\n  width: 56px;\r\n  z-index: 999;\r\n`;\r\n\r\nFloatButton.defaultProps = {\r\n  theme: {\r\n    headerBgColor: '#6e48aa',\r\n    headerFontColor: '#fff'\r\n  }\r\n};\r\n\r\nexport default FloatButton;\r\n","import styled from 'styled-components';\r\n\r\nconst FloatingIcon = styled.img`\r\n  height: 24px;\r\n  width: 24px;\r\n`;\r\n\r\nexport default FloatingIcon;\r\n","import styled from 'styled-components';\r\n\r\nconst Footer = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nexport default Footer;\r\n","import { invalidInput } from '../common/animations';\r\nimport styled, { css } from 'styled-components';\r\n\r\nconst Input = styled.input`\r\n  animation: ${props =>\r\n    props.invalid\r\n      ? css`\r\n          ${invalidInput} .2s ease\r\n        `\r\n      : ''};\r\n  border: 0;\r\n  border-radius: 0;\r\n  border-bottom-left-radius: 10px;\r\n  border-bottom-right-radius: 10px;\r\n  border-top: ${props => (props.invalid ? '0' : '1px solid #eee')};\r\n  box-shadow: ${props => (props.invalid ? 'inset 0 0 2px #E53935' : 'none')};\r\n  box-sizing: border-box;\r\n  color: ${props => (props.invalid ? '#E53935' : '')};\r\n  font-size: 16px;\r\n  opacity: ${props => (props.disabled && !props.invalid ? '.5' : '1')};\r\n  outline: none;\r\n  padding: ${props => (props.hasButton ? '16px 52px 16px 10px' : '16px 10px')};\r\n  width: 100%;\r\n  -webkit-appearance: none;\r\n\r\n  &:disabled {\r\n    background: #fff;\r\n  }\r\n\r\n  @media screen and (max-width: 568px) {\r\n    border-bottom-left-radius: ${props => (props.floating ? '0' : '10px')};\r\n    border-bottom-right-radius: ${props => (props.floating ? '0' : '10px')};\r\n  }\r\n`;\r\n\r\nexport default Input;\r\n","import styled, { css } from 'styled-components';\r\nimport defaultTheme from '../theme';\r\nimport { pulse } from '../common/animations';\r\n\r\nconst fillFunc = props => {\r\n  const { speaking, invalid, theme } = props;\r\n\r\n  if (speaking) {\r\n    return theme.headerBgColor;\r\n  }\r\n  return invalid ? '#E53935' : '#4a4a4a';\r\n};\r\n\r\nconst SubmitButton = styled.button`\r\n  background-color: transparent;\r\n  border: 0;\r\n  border-bottom-right-radius: 10px;\r\n  box-shadow: none;\r\n  cursor: ${props => (props.disabled ? 'default' : 'pointer')};\r\n  fill: ${fillFunc};\r\n  opacity: ${props => (props.disabled && !props.invalid ? '.5' : '1')};\r\n  outline: none;\r\n  padding: 14px 16px 12px 16px;\r\n  &:before {\r\n    content: '';\r\n    position: absolute;\r\n    width: 23px;\r\n    height: 23px;\r\n    border-radius: 50%;\r\n    animation: ${({ theme, speaking }) =>\r\n      speaking\r\n        ? css`\r\n            ${pulse(theme.headerBgColor)} 2s ease infinite\r\n          `\r\n        : ''};\r\n  }\r\n  &:not(:disabled):hover {\r\n    opacity: 0.7;\r\n  }\r\n`;\r\n\r\nSubmitButton.defaultProps = {\r\n  theme: defaultTheme\r\n};\r\n\r\nexport default SubmitButton;\r\n","let instance = null;\r\n\r\nconst noop = () => {};\r\n\r\nexport default class Recognition {\r\n  static isSupported() {\r\n    return 'webkitSpeechRecognition' in window;\r\n  }\r\n\r\n  /**\r\n   * Creates an instance of Recognition.\r\n   * @param {function} [onChange] callback on change\r\n   * @param {function} [onEnd]  callback on and\r\n   * @param {function} [onStop]  callback on stop\r\n   * @param {string} [lang='en'] recognition lang\r\n   * @memberof Recognition\r\n   * @constructor\r\n   */\r\n  constructor(onChange = noop, onEnd = noop, onStop = noop, lang = 'en') {\r\n    if (!instance) {\r\n      instance = this;\r\n    }\r\n    this.state = {\r\n      inputValue: '',\r\n      lang,\r\n      onChange,\r\n      onEnd,\r\n      onStop\r\n    };\r\n\r\n    this.onResult = this.onResult.bind(this);\r\n    this.onEnd = this.onEnd.bind(this);\r\n\r\n    this.setup();\r\n\r\n    return instance;\r\n  }\r\n\r\n  /**\r\n   * Handler for recognition change event\r\n   * @param {string} interimTranscript\r\n   * @memberof Recognition\r\n   * @private\r\n   */\r\n  onChange(interimTranscript) {\r\n    const { onChange } = this.state;\r\n    this.setState({\r\n      inputValue: interimTranscript\r\n    });\r\n    onChange(interimTranscript);\r\n  }\r\n\r\n  /**\r\n   * Handler for recognition change event when its final\r\n   * @param {string} finalTranscript\r\n   * @memberof Recognition\r\n   * @private\r\n   */\r\n  onFinal(finalTranscript) {\r\n    this.setState({\r\n      inputValue: finalTranscript\r\n    });\r\n    this.recognition.stop();\r\n  }\r\n\r\n  /**\r\n   * Handler for recognition end event\r\n   * @memberof Recognition\r\n   * @private\r\n   */\r\n  onEnd() {\r\n    const { onStop, onEnd, force } = this.state;\r\n    this.setState({ speaking: false });\r\n    if (force) {\r\n      onStop();\r\n    } else {\r\n      onEnd();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handler for recognition result event\r\n   * @memberof Recognition\r\n   * @private\r\n   */\r\n  onResult(event) {\r\n    let interimTranscript = '';\r\n    let finalTranscript = '';\r\n\r\n    for (let i = event.resultIndex; i < event.results.length; i += 1) {\r\n      if (event.results[i].isFinal) {\r\n        finalTranscript += event.results[i][0].transcript;\r\n        this.onFinal(finalTranscript);\r\n      } else {\r\n        interimTranscript += event.results[i][0].transcript;\r\n        this.onChange(interimTranscript);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * method for updating the instance state\r\n   * @param {object} nextState\r\n   * @memberof Recognition\r\n   * @private\r\n   */\r\n  setState(nextState) {\r\n    this.state = Object.assign({}, this.state, nextState);\r\n  }\r\n\r\n  /**\r\n   * setup the browser recognition\r\n   * @returns {Recognition}\r\n   * @memberof Recognition\r\n   * @public\r\n   */\r\n  setup() {\r\n    if (!Recognition.isSupported()) {\r\n      return this;\r\n    }\r\n\r\n    const { webkitSpeechRecognition } = window;\r\n\r\n    this.recognition = new webkitSpeechRecognition();\r\n    this.recognition.continuous = true;\r\n    this.recognition.interimResults = true;\r\n    this.recognition.lang = this.state.lang;\r\n    this.recognition.onresult = this.onResult;\r\n    this.recognition.onend = this.onEnd;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * change the recognition lang and resetup\r\n   * @param {string} lang the new lang\r\n   * @returns {Recognition}\r\n   * @memberof Recognition\r\n   * @public\r\n   */\r\n  setLang(lang) {\r\n    this.setState({ lang });\r\n    this.setup();\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * toggle the recognition\r\n   * @returns {Recognition}\r\n   * @memberof Recognition\r\n   * @public\r\n   */\r\n  speak() {\r\n    if (!Recognition.isSupported()) {\r\n      return this;\r\n    }\r\n    const { speaking } = this.state;\r\n    if (!speaking) {\r\n      this.recognition.start();\r\n      this.setState({\r\n        speaking: true,\r\n        inputValue: ''\r\n      });\r\n    } else {\r\n      this.setState({\r\n        force: true\r\n      });\r\n      this.recognition.stop();\r\n    }\r\n    return this;\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nconst ChatIcon = () => (\r\n  <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z\" />\r\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n  </svg>\r\n);\r\n\r\nexport default ChatIcon;\r\n","import React from 'react';\r\n\r\nconst CloseIcon = () => (\r\n  <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path\r\n      d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12\r\n      13.41 17.59 19 19 17.59 13.41 12z\"\r\n    />\r\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n  </svg>\r\n);\r\n\r\nexport default CloseIcon;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst SubmitIcon = ({ size }) => (\r\n  <svg\r\n    version=\"1.1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    viewBox=\"0 0 500 500\"\r\n  >\r\n    <g>\r\n      <g>\r\n        <polygon points=\"0,497.25 535.5,267.75 0,38.25 0,216.75 382.5,267.75 0,318.75\" />\r\n      </g>\r\n    </g>\r\n  </svg>\r\n);\r\n\r\nSubmitIcon.propTypes = {\r\n  size: PropTypes.number\r\n};\r\n\r\nSubmitIcon.defaultProps = {\r\n  size: 20\r\n};\r\n\r\nexport default SubmitIcon;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst MicIcon = ({ size }) => (\r\n  <svg\r\n    version=\"1.1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    viewBox=\"0 0 400 400\"\r\n  >\r\n    <g>\r\n      <path d=\"M290.991,240.991c0,26.392-21.602,47.999-48.002,47.999h-11.529c-26.4,0-48.002-21.607-48.002-47.999V104.002   c0-26.4,21.602-48.004,48.002-48.004h11.529c26.4,0,48.002,21.604,48.002,48.004V240.991z\" />\r\n      <path d=\"M342.381,209.85h-8.961c-4.932,0-8.961,4.034-8.961,8.961v8.008c0,50.26-37.109,91.001-87.361,91.001   c-50.26,0-87.109-40.741-87.109-91.001v-8.008c0-4.927-4.029-8.961-8.961-8.961h-8.961c-4.924,0-8.961,4.034-8.961,8.961v8.008   c0,58.862,40.229,107.625,96.07,116.362v36.966h-34.412c-4.932,0-8.961,4.039-8.961,8.971v17.922c0,4.923,4.029,8.961,8.961,8.961   h104.688c4.926,0,8.961-4.038,8.961-8.961v-17.922c0-4.932-4.035-8.971-8.961-8.971h-34.43v-36.966   c55.889-8.729,96.32-57.5,96.32-116.362v-8.008C351.342,213.884,347.303,209.85,342.381,209.85z\" />\r\n    </g>\r\n  </svg>\r\n);\r\n\r\nMicIcon.propTypes = {\r\n  size: PropTypes.number\r\n};\r\n\r\nMicIcon.defaultProps = {\r\n  size: 20\r\n};\r\n\r\nexport default MicIcon;\r\n","export const isMobile = () => /iphone|ipod|android|ie|blackberry|fennec/i.test(navigator.userAgent);\r\n\r\nexport const isString = value => typeof value === 'string';\r\n","import { isString } from './utils';\r\n\r\nexport const getSpeakText = step => {\r\n  const { message, metadata = {} } = step;\r\n  if (isString(metadata.speak)) {\r\n    return metadata.speak;\r\n  }\r\n  if (isString(message)) {\r\n    return message;\r\n  }\r\n  return '';\r\n};\r\n\r\nexport const speakFn = speechSynthesisOptions => (step, previousValue) => {\r\n  const { lang, voice, enable } = speechSynthesisOptions;\r\n  const { user } = step;\r\n\r\n  if (!window.SpeechSynthesisUtterance || !window.speechSynthesis) {\r\n    return;\r\n  }\r\n  if (user) {\r\n    return;\r\n  }\r\n  if (!enable) {\r\n    return;\r\n  }\r\n  const text = getSpeakText(step);\r\n  const msg = new window.SpeechSynthesisUtterance();\r\n  msg.text = text.replace(/{previousValue}/g, previousValue);\r\n  msg.lang = lang;\r\n  msg.voice = voice;\r\n  window.speechSynthesis.speak(msg);\r\n};\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Random from 'random-id';\r\nimport { CustomStep, OptionsStep, TextStep } from './steps_components';\r\nimport schema from './schemas/schema';\r\nimport * as storage from './storage';\r\nimport {\r\n  ChatBotContainer,\r\n  Content,\r\n  Header,\r\n  HeaderTitle,\r\n  HeaderIcon,\r\n  FloatButton,\r\n  FloatingIcon,\r\n  Footer,\r\n  Input,\r\n  SubmitButton\r\n} from './components';\r\nimport Recognition from './recognition';\r\nimport { ChatIcon, CloseIcon, SubmitIcon, MicIcon } from './icons';\r\nimport { isMobile } from './utils';\r\nimport { speakFn } from './speechSynthesis';\r\n\r\nclass ChatBot extends Component {\r\n  /* istanbul ignore next */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.content = null;\r\n    this.input = null;\r\n\r\n    this.supportsScrollBehavior = false;\r\n\r\n    this.setContentRef = element => {\r\n      this.content = element;\r\n    };\r\n\r\n    this.setInputRef = element => {\r\n      this.input = element;\r\n    };\r\n\r\n    this.state = {\r\n      renderedSteps: [],\r\n      previousSteps: [],\r\n      currentStep: {},\r\n      previousStep: {},\r\n      steps: {},\r\n      disabled: true,\r\n      opened: props.opened || !props.floating,\r\n      inputValue: '',\r\n      inputInvalid: false,\r\n      speaking: false,\r\n      recognitionEnable: props.recognitionEnable && Recognition.isSupported(),\r\n      defaultUserSettings: {}\r\n    };\r\n\r\n    this.speak = speakFn(props.speechSynthesis);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { steps } = this.props;\r\n    const {\r\n      botDelay,\r\n      botAvatar,\r\n      botName,\r\n      cache,\r\n      cacheName,\r\n      customDelay,\r\n      enableMobileAutoFocus,\r\n      userAvatar,\r\n      userDelay\r\n    } = this.props;\r\n    const chatSteps = {};\r\n\r\n    const defaultBotSettings = { delay: botDelay, avatar: botAvatar, botName };\r\n    const defaultUserSettings = {\r\n      delay: userDelay,\r\n      avatar: userAvatar,\r\n      hideInput: false,\r\n      hideExtraControl: false\r\n    };\r\n    const defaultCustomSettings = { delay: customDelay };\r\n\r\n    for (let i = 0, len = steps.length; i < len; i += 1) {\r\n      const step = steps[i];\r\n      let settings = {};\r\n\r\n      if (step.user) {\r\n        settings = defaultUserSettings;\r\n      } else if (step.message || step.asMessage) {\r\n        settings = defaultBotSettings;\r\n      } else if (step.component) {\r\n        settings = defaultCustomSettings;\r\n      }\r\n\r\n      chatSteps[step.id] = Object.assign({}, settings, schema.parse(step));\r\n    }\r\n\r\n    schema.checkInvalidIds(chatSteps);\r\n\r\n    const firstStep = steps[0];\r\n\r\n    if (firstStep.message) {\r\n      const { message } = firstStep;\r\n      firstStep.message = typeof message === 'function' ? message() : message;\r\n      chatSteps[firstStep.id].message = firstStep.message;\r\n    }\r\n\r\n    const { recognitionEnable } = this.state;\r\n    const { recognitionLang } = this.props;\r\n\r\n    if (recognitionEnable) {\r\n      this.recognition = new Recognition(\r\n        this.onRecognitionChange,\r\n        this.onRecognitionEnd,\r\n        this.onRecognitionStop,\r\n        recognitionLang\r\n      );\r\n    }\r\n\r\n    this.supportsScrollBehavior = 'scrollBehavior' in document.documentElement.style;\r\n\r\n    if (this.content) {\r\n      this.content.addEventListener('DOMNodeInserted', this.onNodeInserted);\r\n      window.addEventListener('resize', this.onResize);\r\n    }\r\n\r\n    const { currentStep, previousStep, previousSteps, renderedSteps } = storage.getData(\r\n      {\r\n        cacheName,\r\n        cache,\r\n        firstStep,\r\n        steps: chatSteps\r\n      },\r\n      () => {\r\n        // focus input if last step cached is a user step\r\n        this.setState({ disabled: false }, () => {\r\n          if (enableMobileAutoFocus || !isMobile()) {\r\n            if (this.input) {\r\n              this.input.focus();\r\n            }\r\n          }\r\n        });\r\n      }\r\n    );\r\n\r\n    this.setState({\r\n      currentStep,\r\n      defaultUserSettings,\r\n      previousStep,\r\n      previousSteps,\r\n      renderedSteps,\r\n      steps: chatSteps\r\n    });\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    const { opened, toggleFloating } = props;\r\n    if (toggleFloating !== undefined && opened !== undefined && opened !== state.opened) {\r\n      return {\r\n        ...state,\r\n        opened\r\n      };\r\n    }\r\n    return state;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.content) {\r\n      this.content.removeEventListener('DOMNodeInserted', this.onNodeInserted);\r\n      window.removeEventListener('resize', this.onResize);\r\n    }\r\n  }\r\n\r\n  onNodeInserted = event => {\r\n    const { currentTarget: target } = event;\r\n    const { enableSmoothScroll } = this.props;\r\n\r\n    if (enableSmoothScroll && this.supportsScrollBehavior) {\r\n      target.scroll({\r\n        top: target.scrollHeight,\r\n        left: 0,\r\n        behavior: 'smooth'\r\n      });\r\n    } else {\r\n      target.scrollTop = target.scrollHeight;\r\n    }\r\n  };\r\n\r\n  onResize = () => {\r\n    this.content.scrollTop = this.content.scrollHeight;\r\n  };\r\n\r\n  onRecognitionChange = value => {\r\n    this.setState({ inputValue: value });\r\n  };\r\n\r\n  onRecognitionEnd = () => {\r\n    this.setState({ speaking: false });\r\n    this.handleSubmitButton();\r\n  };\r\n\r\n  onRecognitionStop = () => {\r\n    this.setState({ speaking: false });\r\n  };\r\n\r\n  onValueChange = event => {\r\n    this.setState({ inputValue: event.target.value });\r\n  };\r\n\r\n  getTriggeredStep = (trigger, value) => {\r\n    const steps = this.generateRenderedStepsById();\r\n    return typeof trigger === 'function' ? trigger({ value, steps }) : trigger;\r\n  };\r\n\r\n  getStepMessage = message => {\r\n    const { previousSteps } = this.state;\r\n    const lastStepIndex = previousSteps.length > 0 ? previousSteps.length - 1 : 0;\r\n    const steps = this.generateRenderedStepsById();\r\n    const previousValue = previousSteps[lastStepIndex].value;\r\n    return typeof message === 'function' ? message({ previousValue, steps }) : message;\r\n  };\r\n\r\n  generateRenderedStepsById = () => {\r\n    const { previousSteps } = this.state;\r\n    const steps = {};\r\n\r\n    for (let i = 0, len = previousSteps.length; i < len; i += 1) {\r\n      const { id, message, value, metadata } = previousSteps[i];\r\n\r\n      steps[id] = {\r\n        id,\r\n        message,\r\n        value,\r\n        metadata\r\n      };\r\n    }\r\n\r\n    return steps;\r\n  };\r\n\r\n  triggerNextStep = data => {\r\n    const { enableMobileAutoFocus } = this.props;\r\n    const { defaultUserSettings, previousSteps, renderedSteps, steps } = this.state;\r\n\r\n    let { currentStep, previousStep } = this.state;\r\n    const isEnd = currentStep.end;\r\n\r\n    if (data && data.value) {\r\n      currentStep.value = data.value;\r\n    }\r\n    if (data && data.hideInput) {\r\n      currentStep.hideInput = data.hideInput;\r\n    }\r\n    if (data && data.hideExtraControl) {\r\n      currentStep.hideExtraControl = data.hideExtraControl;\r\n    }\r\n    if (data && data.trigger) {\r\n      currentStep.trigger = this.getTriggeredStep(data.trigger, data.value);\r\n    }\r\n\r\n    if (isEnd) {\r\n      this.handleEnd();\r\n    } else if (currentStep.options && data) {\r\n      const option = currentStep.options.filter(o => o.value === data.value)[0];\r\n      const trigger = this.getTriggeredStep(option.trigger, currentStep.value);\r\n      delete currentStep.options;\r\n      \r\n      // replace choose option for user message\r\n      currentStep = Object.assign({}, currentStep, option, defaultUserSettings, {\r\n        user: true,\r\n        message: option.label,\r\n        trigger\r\n      });     \r\n      renderedSteps.pop();\r\n      previousSteps.pop();\r\n      renderedSteps.push(currentStep);\r\n      previousSteps.push(currentStep);\r\n\r\n      this.setState({\r\n        currentStep,\r\n        renderedSteps,\r\n        previousSteps\r\n      });\r\n    } else if (currentStep.trigger && currentStep.replace && data) {\r\n        const trigger = this.getTriggeredStep(currentStep.trigger, currentStep.value);      \r\n        const val = currentStep.value;\r\n        const msg = data.msg;\r\n        delete currentStep.component;  \r\n             \r\n        currentStep = Object.assign({}, currentStep, val, defaultUserSettings, {\r\n          user: true,\r\n          message: msg,\r\n          trigger\r\n        }); \r\n        \r\n        renderedSteps.pop();\r\n        previousSteps.pop();\r\n        renderedSteps.push(currentStep);\r\n        previousSteps.push(currentStep);\r\n        \r\n        this.setState({\r\n          currentStep,\r\n          renderedSteps,\r\n          previousSteps\r\n        });\r\n      } else if (currentStep.trigger) {      \r\n      \r\n       const trigger = this.getTriggeredStep(currentStep.trigger, currentStep.value);  \r\n        let nextStep = Object.assign({}, steps[trigger]);\r\n     \r\n      if (nextStep.message) {\r\n        nextStep.message = this.getStepMessage(nextStep.message);\r\n      } else if (nextStep.update) {\r\n        const updateStep = nextStep;\r\n        nextStep = Object.assign({}, steps[updateStep.update]);\r\n\r\n        if (nextStep.options) {\r\n          for (let i = 0, len = nextStep.options.length; i < len; i += 1) {\r\n            nextStep.options[i].trigger = updateStep.trigger;\r\n          }\r\n        } else {\r\n          nextStep.trigger = updateStep.trigger;\r\n        }\r\n      }\r\n\r\n      nextStep.key = Random(24);\r\n\r\n      previousStep = currentStep;\r\n      currentStep = nextStep;\r\n\r\n      this.setState({ renderedSteps, currentStep, previousStep }, () => {\r\n        if (nextStep.user) {\r\n          this.setState({ disabled: false }, () => {\r\n            if (enableMobileAutoFocus || !isMobile()) {\r\n              if (this.input) {\r\n                this.input.focus();\r\n              }\r\n            }\r\n          });\r\n        } else {\r\n          renderedSteps.push(nextStep);\r\n          previousSteps.push(nextStep);\r\n\r\n          this.setState({ renderedSteps, previousSteps });\r\n        }\r\n      });\r\n    }\r\n\r\n    const { cache, cacheName } = this.props;\r\n    if (cache) {\r\n      setTimeout(() => {\r\n        storage.setData(cacheName, {\r\n          currentStep,\r\n          previousStep,\r\n          previousSteps,\r\n          renderedSteps\r\n        });\r\n      }, 300);\r\n    }\r\n  };\r\n\r\n  handleEnd = () => {\r\n    const { handleEnd } = this.props;\r\n\r\n    if (handleEnd) {\r\n      const { previousSteps } = this.state;\r\n\r\n      const renderedSteps = previousSteps.map(step => {\r\n        const { id, message, value, metadata } = step;\r\n\r\n        return {\r\n          id,\r\n          message,\r\n          value,\r\n          metadata\r\n        };\r\n      });\r\n\r\n      const steps = [];\r\n\r\n      for (let i = 0, len = previousSteps.length; i < len; i += 1) {\r\n        const { id, message, value, metadata } = previousSteps[i];\r\n\r\n        steps[id] = {\r\n          id,\r\n          message,\r\n          value,\r\n          metadata\r\n        };\r\n      }\r\n\r\n      const values = previousSteps.filter(step => step.value).map(step => step.value);\r\n\r\n      handleEnd({ renderedSteps, steps, values });\r\n    }\r\n  };\r\n\r\n  isInputValueEmpty = () => {\r\n    const { inputValue } = this.state;\r\n    return !inputValue || inputValue.length === 0;\r\n  };\r\n\r\n  isLastPosition = step => {\r\n    const { renderedSteps } = this.state;\r\n    const { length } = renderedSteps;\r\n    const stepIndex = renderedSteps.map(s => s.key).indexOf(step.key);\r\n\r\n    if (length <= 1 || stepIndex + 1 === length) {\r\n      return true;\r\n    }\r\n\r\n    const nextStep = renderedSteps[stepIndex + 1];\r\n    const hasMessage = nextStep.message || nextStep.asMessage;\r\n\r\n    if (!hasMessage) {\r\n      return true;\r\n    }\r\n\r\n    const isLast = step.user !== nextStep.user;\r\n    return isLast;\r\n  };\r\n\r\n  isFirstPosition = step => {\r\n    const { renderedSteps } = this.state;\r\n    const stepIndex = renderedSteps.map(s => s.key).indexOf(step.key);\r\n\r\n    if (stepIndex === 0) {\r\n      return true;\r\n    }\r\n\r\n    const lastStep = renderedSteps[stepIndex - 1];\r\n    const hasMessage = lastStep.message || lastStep.asMessage;\r\n\r\n    if (!hasMessage) {\r\n      return true;\r\n    }\r\n\r\n    const isFirst = step.user !== lastStep.user;\r\n    return isFirst;\r\n  };\r\n\r\n  handleKeyPress = event => {\r\n    if (event.key === 'Enter') {\r\n      this.submitUserMessage();\r\n    }\r\n  };\r\n\r\n  handleSubmitButton = () => {\r\n    const { speaking, recognitionEnable } = this.state;\r\n\r\n    if ((this.isInputValueEmpty() || speaking) && recognitionEnable) {\r\n      this.recognition.speak();\r\n      if (!speaking) {\r\n        this.setState({ speaking: true });\r\n      }\r\n      return;\r\n    }\r\n\r\n    this.submitUserMessage();\r\n  };\r\n\r\n  submitUserMessage = () => {\r\n    const { defaultUserSettings, inputValue, previousSteps, renderedSteps } = this.state;\r\n    let { currentStep } = this.state;\r\n\r\n    const isInvalid = currentStep.validator && this.checkInvalidInput();\r\n\r\n    if (!isInvalid) {\r\n      const step = {\r\n        message: inputValue,\r\n        value: inputValue\r\n      };\r\n\r\n      currentStep = Object.assign({}, defaultUserSettings, currentStep, step);\r\n\r\n      renderedSteps.push(currentStep);\r\n      previousSteps.push(currentStep);\r\n\r\n      this.setState(\r\n        {\r\n          currentStep,\r\n          renderedSteps,\r\n          previousSteps,\r\n          disabled: true,\r\n          inputValue: ''\r\n        },\r\n        () => {\r\n          if (this.input) {\r\n            this.input.blur();\r\n          }\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  checkInvalidInput = () => {\r\n    const { enableMobileAutoFocus } = this.props;\r\n    const { currentStep, inputValue } = this.state;\r\n    const result = currentStep.validator(inputValue);\r\n    const value = inputValue;\r\n\r\n    if (typeof result !== 'boolean' || !result) {\r\n      this.setState(\r\n        {\r\n          inputValue: result.toString(),\r\n          inputInvalid: true,\r\n          disabled: true\r\n        },\r\n        () => {\r\n          setTimeout(() => {\r\n            this.setState(\r\n              {\r\n                inputValue: value,\r\n                inputInvalid: false,\r\n                disabled: false\r\n              },\r\n              () => {\r\n                if (enableMobileAutoFocus || !isMobile()) {\r\n                  if (this.input) {\r\n                    this.input.focus();\r\n                  }\r\n                }\r\n              }\r\n            );\r\n          }, 2000);\r\n        }\r\n      );\r\n\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  toggleChatBot = opened => {\r\n    const { toggleFloating } = this.props;\r\n\r\n    if (toggleFloating) {\r\n      toggleFloating({ opened });\r\n    } else {\r\n      this.setState({ opened });\r\n    }\r\n  };\r\n\r\n  renderStep = (step, index) => {\r\n    const { renderedSteps } = this.state;\r\n    const {\r\n      avatarStyle,\r\n      bubbleStyle,\r\n      bubbleOptionStyle,\r\n      customStyle,\r\n      hideBotAvatar,\r\n      hideUserAvatar,\r\n      speechSynthesis\r\n    } = this.props;\r\n    const { options, component, asMessage } = step;\r\n    const steps = this.generateRenderedStepsById();\r\n    const previousStep = index > 0 ? renderedSteps[index - 1] : {};\r\n\r\n    if (component && !asMessage) {\r\n      return (\r\n        <CustomStep\r\n          key={index}\r\n          speak={this.speak}\r\n          step={step}\r\n          steps={steps}\r\n          style={customStyle}\r\n          previousStep={previousStep}\r\n          previousValue={previousStep.value}\r\n          triggerNextStep={this.triggerNextStep}\r\n        />\r\n      );\r\n    }\r\n\r\n    if (options) {\r\n      return (\r\n        <OptionsStep\r\n          key={index}\r\n          step={step}\r\n          previousValue={previousStep.value}\r\n          triggerNextStep={this.triggerNextStep}\r\n          bubbleOptionStyle={bubbleOptionStyle}\r\n        />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <TextStep\r\n        key={index}\r\n        step={step}\r\n        steps={steps}\r\n        speak={this.speak}\r\n        previousStep={previousStep}\r\n        previousValue={previousStep.value}\r\n        triggerNextStep={this.triggerNextStep}\r\n        avatarStyle={avatarStyle}\r\n        bubbleStyle={bubbleStyle}\r\n        hideBotAvatar={hideBotAvatar}\r\n        hideUserAvatar={hideUserAvatar}\r\n        speechSynthesis={speechSynthesis}\r\n        isFirst={this.isFirstPosition(step)}\r\n        isLast={this.isLastPosition(step)}\r\n      />\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      currentStep,\r\n      disabled,\r\n      inputInvalid,\r\n      inputValue,\r\n      opened,\r\n      renderedSteps,\r\n      speaking,\r\n      recognitionEnable\r\n    } = this.state;\r\n    const {\r\n      className,\r\n      contentStyle,\r\n      extraControl,\r\n      controlStyle,\r\n      floating,\r\n      floatingIcon,\r\n      floatingStyle,\r\n      footerStyle,\r\n      headerComponent,\r\n      headerTitle,\r\n      hideHeader,\r\n      hideSubmitButton,\r\n      inputStyle,\r\n      placeholder,\r\n      inputAttributes,\r\n      recognitionPlaceholder,\r\n      style,\r\n      submitButtonStyle,\r\n      width,\r\n      height\r\n    } = this.props;\r\n\r\n    const header = headerComponent || (\r\n      <Header className=\"rsc-header\">\r\n        <HeaderTitle className=\"rsc-header-title\">{headerTitle}</HeaderTitle>\r\n        {floating && (\r\n          <HeaderIcon className=\"rsc-header-close-button\" onClick={() => this.toggleChatBot(false)}>\r\n            <CloseIcon />\r\n          </HeaderIcon>\r\n        )}\r\n      </Header>\r\n    );\r\n\r\n    let customControl;\r\n    if (extraControl !== undefined) {\r\n      customControl = React.cloneElement(extraControl, {\r\n        disabled,\r\n        speaking,\r\n        invalid: inputInvalid\r\n      });\r\n    }\r\n\r\n    const icon =\r\n      (this.isInputValueEmpty() || speaking) && recognitionEnable ? <MicIcon /> : <SubmitIcon />;\r\n\r\n    const inputPlaceholder = speaking\r\n      ? recognitionPlaceholder\r\n      : currentStep.placeholder || placeholder;\r\n\r\n    const inputAttributesOverride = currentStep.inputAttributes || inputAttributes;\r\n\r\n    return (\r\n      <div className={`rsc ${className}`}>\r\n        {floating && (\r\n          <FloatButton\r\n            className=\"rsc-float-button\"\r\n            style={floatingStyle}\r\n            opened={opened}\r\n            onClick={() => this.toggleChatBot(true)}\r\n          >\r\n            {typeof floatingIcon === 'string' ? <FloatingIcon src={floatingIcon} /> : floatingIcon}\r\n          </FloatButton>\r\n        )}\r\n        <ChatBotContainer\r\n          className=\"rsc-container\"\r\n          floating={floating}\r\n          floatingStyle={floatingStyle}\r\n          opened={opened}\r\n          style={style}\r\n          width={width}\r\n          height={height}\r\n        >\r\n          {!hideHeader && header}\r\n          <Content\r\n            className=\"rsc-content\"\r\n            ref={this.setContentRef}\r\n            floating={floating}\r\n            style={contentStyle}\r\n            height={height}\r\n            hideInput={currentStep.hideInput}\r\n          >\r\n            {renderedSteps.map(this.renderStep)}\r\n          </Content>\r\n          <Footer className=\"rsc-footer\" style={footerStyle}>\r\n            {!currentStep.hideInput && (\r\n              <Input\r\n                type=\"textarea\"\r\n                style={inputStyle}\r\n                ref={this.setInputRef}\r\n                className=\"rsc-input\"\r\n                placeholder={inputInvalid ? '' : inputPlaceholder}\r\n                onKeyPress={this.handleKeyPress}\r\n                onChange={this.onValueChange}\r\n                value={inputValue}\r\n                floating={floating}\r\n                invalid={inputInvalid}\r\n                disabled={disabled}\r\n                hasButton={!hideSubmitButton}\r\n                {...inputAttributesOverride}\r\n              />\r\n            )}\r\n            <div style={controlStyle} className=\"rsc-controls\">\r\n              {!currentStep.hideInput && !currentStep.hideExtraControl && customControl}\r\n              {!currentStep.hideInput && !hideSubmitButton && (\r\n                <SubmitButton\r\n                  className=\"rsc-submit-button\"\r\n                  style={submitButtonStyle}\r\n                  onClick={this.handleSubmitButton}\r\n                  invalid={inputInvalid}\r\n                  disabled={disabled}\r\n                  speaking={speaking}\r\n                >\r\n                  {icon}\r\n                </SubmitButton>\r\n              )}\r\n            </div>\r\n          </Footer>\r\n        </ChatBotContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nChatBot.propTypes = {\r\n  avatarStyle: PropTypes.objectOf(PropTypes.any),\r\n  botAvatar: PropTypes.string,\r\n  botName: PropTypes.string,\r\n  botDelay: PropTypes.number,\r\n  bubbleOptionStyle: PropTypes.objectOf(PropTypes.any),\r\n  bubbleStyle: PropTypes.objectOf(PropTypes.any),\r\n  cache: PropTypes.bool,\r\n  cacheName: PropTypes.string,\r\n  className: PropTypes.string,\r\n  contentStyle: PropTypes.objectOf(PropTypes.any),\r\n  customDelay: PropTypes.number,\r\n  customStyle: PropTypes.objectOf(PropTypes.any),\r\n  controlStyle: PropTypes.objectOf(PropTypes.any),\r\n  enableMobileAutoFocus: PropTypes.bool,\r\n  enableSmoothScroll: PropTypes.bool,\r\n  extraControl: PropTypes.objectOf(PropTypes.element),\r\n  floating: PropTypes.bool,\r\n  floatingIcon: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\r\n  floatingStyle: PropTypes.objectOf(PropTypes.any),\r\n  footerStyle: PropTypes.objectOf(PropTypes.any),\r\n  handleEnd: PropTypes.func,\r\n  headerComponent: PropTypes.element,\r\n  headerTitle: PropTypes.string,\r\n  height: PropTypes.string,\r\n  hideBotAvatar: PropTypes.bool,\r\n  hideHeader: PropTypes.bool,\r\n  hideSubmitButton: PropTypes.bool,\r\n  hideUserAvatar: PropTypes.bool,\r\n  inputAttributes: PropTypes.objectOf(PropTypes.any),\r\n  inputStyle: PropTypes.objectOf(PropTypes.any),\r\n  opened: PropTypes.bool,\r\n  toggleFloating: PropTypes.func,\r\n  placeholder: PropTypes.string,\r\n  recognitionEnable: PropTypes.bool,\r\n  recognitionLang: PropTypes.string,\r\n  recognitionPlaceholder: PropTypes.string,\r\n  speechSynthesis: PropTypes.shape({\r\n    enable: PropTypes.bool,\r\n    lang: PropTypes.string,\r\n    voice:\r\n      typeof window !== 'undefined'\r\n        ? PropTypes.instanceOf(window.SpeechSynthesisVoice)\r\n        : PropTypes.any\r\n  }),\r\n  steps: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  style: PropTypes.objectOf(PropTypes.any),\r\n  submitButtonStyle: PropTypes.objectOf(PropTypes.any),\r\n  userAvatar: PropTypes.string,\r\n  userDelay: PropTypes.number,\r\n  width: PropTypes.string\r\n};\r\n\r\nChatBot.defaultProps = {\r\n  avatarStyle: {},\r\n  botDelay: 1000,\r\n  botName: 'The bot',\r\n  bubbleOptionStyle: {},\r\n  bubbleStyle: {},\r\n  cache: false,\r\n  cacheName: 'rsc_cache',\r\n  className: '',\r\n  contentStyle: {},\r\n  customStyle: {},\r\n  controlStyle: { position: 'absolute', right: '0', top: '0' },\r\n  customDelay: 1000,\r\n  enableMobileAutoFocus: false,\r\n  enableSmoothScroll: false,\r\n  extraControl: undefined,\r\n  floating: false,\r\n  floatingIcon: <ChatIcon />,\r\n  floatingStyle: {},\r\n  footerStyle: {},\r\n  handleEnd: undefined,\r\n  headerComponent: undefined,\r\n  headerTitle: 'Chat',\r\n  height: '520px',\r\n  hideBotAvatar: false,\r\n  hideHeader: false,\r\n  hideSubmitButton: false,\r\n  hideUserAvatar: false,\r\n  inputStyle: {},\r\n  opened: undefined,\r\n  placeholder: 'Type the message ...',\r\n  inputAttributes: {},\r\n  recognitionEnable: false,\r\n  recognitionLang: 'en',\r\n  recognitionPlaceholder: 'Listening ...',\r\n  speechSynthesis: {\r\n    enable: false,\r\n    lang: 'en',\r\n    voice: null\r\n  },\r\n  style: {},\r\n  submitButtonStyle: {},\r\n  toggleFloating: undefined,\r\n  userDelay: 1000,\r\n  width: '350px',\r\n  botAvatar:\r\n    \"data:image/svg+xml,%3csvg version='1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3e%3cpath d='M303 70a47 47 0 1 0-70 40v84h46v-84c14-8 24-23 24-40z' fill='%2393c7ef'/%3e%3cpath d='M256 23v171h23v-84a47 47 0 0 0-23-87z' fill='%235a8bb0'/%3e%3cpath fill='%2393c7ef' d='M0 240h248v124H0z'/%3e%3cpath fill='%235a8bb0' d='M264 240h248v124H264z'/%3e%3cpath fill='%2393c7ef' d='M186 365h140v124H186z'/%3e%3cpath fill='%235a8bb0' d='M256 365h70v124h-70z'/%3e%3cpath fill='%23cce9f9' d='M47 163h419v279H47z'/%3e%3cpath fill='%2393c7ef' d='M256 163h209v279H256z'/%3e%3cpath d='M194 272a31 31 0 0 1-62 0c0-18 14-32 31-32s31 14 31 32z' fill='%233c5d76'/%3e%3cpath d='M380 272a31 31 0 0 1-62 0c0-18 14-32 31-32s31 14 31 32z' fill='%231e2e3b'/%3e%3cpath d='M186 349a70 70 0 1 0 140 0H186z' fill='%233c5d76'/%3e%3cpath d='M256 349v70c39 0 70-31 70-70h-70z' fill='%231e2e3b'/%3e%3c/svg%3e\",\r\n  userAvatar:\r\n    \"data:image/svg+xml,%3csvg viewBox='-208.5 21 100 100' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ccircle cx='-158.5' cy='71' fill='%23F5EEE5' r='50'/%3e%3cdefs%3e%3ccircle cx='-158.5' cy='71' id='a' r='50'/%3e%3c/defs%3e%3cclipPath id='b'%3e%3cuse overflow='visible' xlink:href='%23a'/%3e%3c/clipPath%3e%3cpath clip-path='url(%23b)' d='M-108.5 121v-14s-21.2-4.9-28-6.7c-2.5-.7-7-3.3-7-12V82h-30v6.3c0 8.7-4.5 11.3-7 12-6.8 1.9-28.1 7.3-28.1 6.7v14h100.1z' fill='%23E6C19C'/%3e%3cg clip-path='url(%23b)'%3e%3cdefs%3e%3cpath d='M-108.5 121v-14s-21.2-4.9-28-6.7c-2.5-.7-7-3.3-7-12V82h-30v6.3c0 8.7-4.5 11.3-7 12-6.8 1.9-28.1 7.3-28.1 6.7v14h100.1z' id='c'/%3e%3c/defs%3e%3cclipPath id='d'%3e%3cuse overflow='visible' xlink:href='%23c'/%3e%3c/clipPath%3e%3cpath clip-path='url(%23d)' d='M-158.5 100.1c12.7 0 23-18.6 23-34.4 0-16.2-10.3-24.7-23-24.7s-23 8.5-23 24.7c0 15.8 10.3 34.4 23 34.4z' fill='%23D4B08C'/%3e%3c/g%3e%3cpath d='M-158.5 96c12.7 0 23-16.3 23-31 0-15.1-10.3-23-23-23s-23 7.9-23 23c0 14.7 10.3 31 23 31z' fill='%23F2CEA5'/%3e%3c/svg%3e\"\r\n};\r\n\r\nexport default ChatBot;\r\n","import { stringify, parse } from 'flatted/cjs'\r\n\r\n/* istanbul ignore next */\r\nconst getData = (params, callback) => {\r\n  const { cacheName, cache, firstStep, steps } = params;\r\n  const currentStep = firstStep;\r\n  const renderedSteps = [steps[currentStep.id]];\r\n  const previousSteps = [steps[currentStep.id]];\r\n  const previousStep = {};\r\n  const unParsedCache = localStorage.getItem(cacheName);\r\n\r\n  if (cache && unParsedCache) {\r\n    try {\r\n      const data = parse(unParsedCache);\r\n      const lastStep = data.renderedSteps[data.renderedSteps.length - 1];\r\n\r\n      if (lastStep && lastStep.end) {\r\n        localStorage.removeItem(cacheName);\r\n      } else {\r\n        for (let i = 0, len = data.renderedSteps.length; i < len; i += 1) {\r\n          const renderedStep = data.renderedSteps[i];\r\n          // remove delay of cached rendered steps\r\n          data.renderedSteps[i].delay = 0;\r\n          // flag used to avoid call triggerNextStep in cached rendered steps\r\n          data.renderedSteps[i].rendered = true;\r\n\r\n          // an error is thrown when render a component from localStorage.\r\n          // So it's necessary reassing the component\r\n          if (renderedStep.component) {\r\n            const { id } = renderedStep;\r\n            data.renderedSteps[i].component = steps[id].component;\r\n          }\r\n        }\r\n\r\n        const { trigger, end, options } = data.currentStep;\r\n        const { id } = data.currentStep;\r\n\r\n        if (options) {\r\n          delete data.currentStep.rendered;\r\n        }\r\n\r\n        // add trigger function to current step\r\n        if (!trigger && !end) {\r\n          if (options) {\r\n            for (let i = 0; i < options.length; i += 1) {\r\n              data.currentStep.options[i].trigger = steps[id].options[i].trigger;\r\n            }\r\n          } else {\r\n            data.currentStep.trigger = steps[id].trigger;\r\n          }\r\n        }\r\n\r\n        // execute callback function to enable input if last step is\r\n        // waiting user type\r\n        if (data.currentStep.user) {\r\n          callback();\r\n        }\r\n\r\n        return data;\r\n      }\r\n    } catch (error) {\r\n      console.info(`Unable to parse cache named:${cacheName}. \\nThe cache where probably created with an older version of react-simple-chatbot.\\n`, error);\r\n    }\r\n  }\r\n\r\n  return {\r\n    currentStep,\r\n    previousStep,\r\n    previousSteps,\r\n    renderedSteps\r\n  };\r\n};\r\n\r\n/* istanbul ignore next */\r\nconst setData = (cacheName, cachedData) => {\r\n  const data = parse(stringify(cachedData));\r\n  // clean components\r\n  for (const key in data) {\r\n    for (let i = 0, len = data[key].length; i < len; i += 1) {\r\n      if (data[key][i].component) {\r\n        data[key][i].component = data[key][i].id;\r\n      }\r\n    }\r\n  }\r\n\r\n  localStorage.setItem(cacheName, stringify(data));\r\n};\r\n\r\nexport { getData, setData };\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Menu from './pizzaMenu.json';\r\nimport '../css/OrderStyle.css';\r\n\r\nclass OrderStep extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const stepOvr = this.props.stepOvr;\r\n    const order = this.props.step.metadata;\r\n    const curStep = (stepOvr? this.props.stepID:this.props.step.id);    \r\n    const pID = (stepOvr? order.EditID:(order.NextPizzaID-1));    \r\n    const pizza = (stepOvr? order.selectPizza(pID): order.CurrentPizza);\r\n    const sizeStep= curStep==='crusts'||curStep==='sizes'? true:false;\r\n    const topStep = curStep==='meats'||curStep==='nonmeats'? true:false;\r\n    const notTopStep = curStep==='cheeses'||curStep==='sauces'? true:false;\r\n    const multiSel = curStep==='cheeses'||'meats'||curStep==='nonmeats'? true:false;\r\n    const opts = Menu[curStep];\r\n    const qty = Menu.qty;\r\n    this.state ={\r\n      stepOvr:stepOvr,\r\n      stepType: curStep,\r\n      itemOptions: opts,\r\n      optionQty: qty,      \r\n      isSizeStep: sizeStep,\r\n      isTopStep: topStep,\r\n      isNotTopStep: notTopStep,\r\n      multiSel:multiSel,\r\n      currentSel: [],\r\n      pizza: pizza,\r\n      trigger: false,\r\n      label: {\r\n        crusts: '',\r\n        sizes: '',\r\n        sauces: '',\r\n        cheeses: '',\r\n        meats: '',\r\n        nonmeats: '',\r\n      },\r\n    };   \r\n    this.triggerNext = this.triggerNext.bind(this);\r\n    this.handleClick = this.handleClick.bind(this);\r\n  } \r\n  handleClick(value){\r\n    const {stepType, /*currentSel, multiSel,*/ pizza, label } = this.state;\r\n    let updateSel;\r\n    let newPizza = pizza;\r\n    let lbl = label; \r\n    const newSel = GetItemInfo(value);\r\n    /*\r\n    const i = currentSel.findIndex(item => item.type === newSel.type && item.step === newSel.step);\r\n    if((i===-1 && multiSel) || currentSel.length===0) {\r\n      //add selection\r\n      updateSel = currentSel.concat(newSel);\r\n    } else if(i===-1 && !multiSel) {\r\n      //change selection\r\n      updateSel = newSel;\r\n    } else {\r\n      //change/delete selection\r\n      if(newSel===currentSel[i]) {\r\n        updateSel =currentSel.splice(i,1);\r\n      } else {\r\n        updateSel =currentSel.splice(i,1,newSel);\r\n      }\r\n    }*/\r\n    switch(stepType){\r\n      case 'crusts':\r\n        newPizza.Crust = newSel;\r\n        lbl.crusts = newPizza.Crust;\r\n        break;\r\n      case 'sizes':\r\n        newPizza.Size = newSel;\r\n        lbl.sizes = newPizza.Size;\r\n        break;\r\n      case 'sauces':\r\n        newPizza.Sauce = newSel;\r\n        lbl.sauces = newPizza.Sauce;\r\n        break;\r\n      case 'cheeses':\r\n        newPizza.Cheese = newSel;\r\n        lbl.cheeses = newPizza.Cheese;\r\n        break;\r\n      case 'meats':\r\n        newPizza.Topping = newSel;\r\n        lbl.meats = newPizza.MeatToppings;\r\n        break;\r\n      case 'nonmeats':\r\n        newPizza.Topping = newSel;\r\n        lbl.nonmeats = newPizza.NonMeatToppings;\r\n        break;\r\n      default:\r\n    }\r\n    this.setState({\r\n      currentSel: updateSel,\r\n      pizza: newPizza,\r\n      label: lbl,\r\n    });\r\n    if(newSel.type==='None'||newSel.step==='crusts'||newSel.step==='sizes'||newSel.step==='sauces'){\r\n      this.triggerNext();\r\n    }\r\n  }\r\n  triggerNext(v){\r\n    const type = this.state.stepType;\r\n    const label = new Array(this.state.label[type]);\r\n    const msg = label[0];\r\n    if(msg===''){\r\n      const r = type + ':None:None';\r\n      this.handleClick(r);\r\n      return null;\r\n    }\r\n    const data = {\r\n      value: label,\r\n      type: type,\r\n      msg: msg,\r\n    };\r\n    const p = this.state.pizza;\r\n    this.props.step.metadata=p;\r\n    this.setState({trigger: true}, () => {\r\n      this.props.triggerNextStep(data);\r\n    });\r\n  }\r\n  render(){\r\n    const {stepType, itemOptions, optionQty, isNotTopStep, isSizeStep, isTopStep,stepOvr } = this.state;    \r\n    return (\r\n      <div className='orderStep'>\r\n        {isNotTopStep && \r\n          <NotToppingStep stepType={stepType} itemOptions={itemOptions} optionQty={optionQty} stepOvr={stepOvr}    \r\n        onClick={(value)=>this.handleClick(value)} onTrigger={(v)=>this.triggerNext(v)}/>}\r\n        {isSizeStep && \r\n          <SizeCrustStep stepType={stepType} stepOvr={stepOvr} itemOptions={itemOptions} onClick={(value)=>this.handleClick(value)} onTrigger={(v)=>this.triggerNext(v)}/>        \r\n        }\r\n        {isTopStep && \r\n          <ToppingStep stepType={stepType} itemOptions={itemOptions} optionQty={optionQty} stepOvr={stepOvr}  \r\n        onClick={(value)=>this.handleClick(value)} onTrigger={(v)=>this.triggerNext(v)}/>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\nfunction SizeCrustStep(props){\r\n  const step = props.stepType;\r\n  const stepOvr = props.stepOvr;\r\n\r\n    const list = props.itemOptions;\r\n    let c = list.map((i) => {\r\n      const cName = i.type;\r\n      const code = step+':'+cName+':No';\r\n      return (\r\n        <li key={code} className=\"menuListOptsEle\">\r\n          <button className=\"menuListOptsBtn\" onClick={()=> {\r\n            return props.onClick(code);}}>{cName}</button>        \r\n        </li>\r\n      )\r\n    })\r\n    if(stepOvr){\r\n      c = c.concat(<button className=\"nextStep\" onClick={()=> props.onTrigger(stepOvr)}>Finished edits</button>)\r\n    }\r\n    return (\r\n      <div className=\"menuList\">\r\n        <ul className=\"menuOptions\">{c}</ul>\r\n      </div>\r\n    )\r\n}\r\nfunction HalfBtn(){\r\n  const [half, setHalf] = useState(0);\r\n  let btn = {\r\n    b: null,\r\n    v: null,\r\n  };\r\n  if(half===0){\r\n    btn.b = <button className=\"wpBtn\" onClick={()=>setHalf(half+1)}>wp</button>\r\n    btn.v = 'wp';\r\n  } else if(half===1){\r\n    btn.b = <button className=\"lhBtn\" onClick={()=>setHalf(half+1)}>L</button>\r\n    btn.v = 'LH';\r\n  } else if(half===2){\r\n    btn.b = <button className=\"rhBtn\" onClick={()=>setHalf(half+1)}>R</button>\r\n    btn.v = 'RH';\r\n  } else if(half===3){\r\n    btn.b = <button className=\"nBtn\" onClick={()=>setHalf(0)}>N</button>\r\n    btn.v = 'N';\r\n  } else{\r\n    setHalf(0);\r\n    btn = null;\r\n  }\r\n  return btn;\r\n}\r\nfunction InnerQtyList(props){\r\n  const q = props.qty;\r\n  //const sel = props.sel;\r\n  let h=null;\r\n  if(props.hKey){\r\n    h = props.hKey;\r\n  }\r\n  const oLiKey = props.oLiKey;\r\n  const qList = q.map((qty) => {\r\n    const qName = qty.type;\r\n    const short = qty.short;    \r\n    const code = oLiKey+':'+qName +(h?':'+h:'');    \r\n    /*const i = sel.findIndex(item => item.type === sel.type && item.step === sel.step);\r\n    console.log('Currently selected index = ' + i);\r\n    let btnCapt = \"menuListOptsBtn\";\r\n    if(i!==-1){\r\n      btnCapt = \"selMenuListOptsBtn\";\r\n    }*/\r\n    return (\r\n      <li key={code} className=\"menuListOptsEle\">\r\n        <button className=\"menuListOptsBtn\" onClick={()=> {\r\n          return props.onClick(code);}}>{short}</button>        \r\n      </li>\r\n    )\r\n  })\r\n  return qList; \r\n}\r\nfunction NotToppingStep(props){\r\n  const {stepType, itemOptions, optionQty, stepOvr } = props;\r\n  const nxt = NextStep({value: stepType, stepOvr:stepOvr});\r\n  const itemList = itemOptions.map((i) => {\r\n    const itemName = i.type;\r\n    const oLiKey = stepType+':'+itemName;\r\n    if(itemName==='None'){      \r\n      const nncode = oLiKey+':None';\r\n      const none = 'No ' + stepType;     \r\n      return (        \r\n        <li key={oLiKey} className=\"menuOptionsEle\">\r\n          <ul className=\"menuListOpts\">  \r\n          <li key={nncode} className=\"menuListOptsEleNone\">\r\n          <button className=\"menuListOptsBtnNone\" onClick={()=> {\r\n            return props.onClick(nncode);}}>{none}</button>        \r\n        </li></ul></li>        \r\n      );\r\n    }               \r\n    return (      \r\n      <li key={oLiKey}  className=\"menuOptionsEle\"> <div className=\"menuOptionName\">{itemName}</div>\r\n        <ul className=\"menuListOpts\"><InnerQtyList oLiKey={oLiKey} qty={optionQty} onClick={(value)=>props.onClick(value)}/></ul>\r\n      </li> \r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"menuList\">\r\n      <ul className=\"menuOptions\">{itemList}</ul>\r\n      <button className=\"nextStep\" onClick={()=> props.onTrigger(stepOvr)}>{nxt}</button>\r\n    </div>\r\n  )\r\n  \r\n}\r\nfunction ToppingStep(props){\r\n  const {stepType, itemOptions, optionQty, stepOvr } = props;\r\n  const nxt = NextStep({value: stepType, stepOvr:stepOvr});\r\n  const itemList = itemOptions.map((i) => {\r\n    const itemName = i.type;\r\n    const oLiKey = stepType+':'+itemName;\r\n    const b = HalfBtn();\r\n    const btn = b.b;\r\n    const v = b.v;\r\n    const bKey = oLiKey+ ':'+v;                   \r\n    return (      \r\n      <li key={oLiKey}  className=\"menuOptionsEle\"> <div className=\"menuOptionName\">{itemName}</div>\r\n        <ul className=\"menuHalfOpts\">\r\n          <li key={bKey} className=\"halfList\">{btn}</li>\r\n        </ul>\r\n        <ul className=\"menuListOpts\"><InnerQtyList oLiKey={oLiKey} hKey={v} qty={optionQty} onClick={(value)=>props.onClick(value)}/></ul>\r\n      </li> \r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"menuList\">\r\n      <ul className=\"menuOptions\">{itemList}</ul>\r\n      <button className=\"nextStep\" onClick={()=> props.onTrigger(stepOvr)}>{nxt}</button>\r\n    </div>\r\n  )\r\n}\r\nfunction GetItemInfo(value){\r\n  if(value.length===0){\r\n    return null;\r\n  }\r\n  let x = value.indexOf(':');\r\n  let s = [];\r\n  let i = 0;\r\n  let rem = value+':';\r\n  while (x>0){\r\n    s[i] = rem.substring(0,x);\r\n    rem = rem.substring(x+1);\r\n    x = rem.indexOf(':');\r\n    i++;    \r\n  }\r\n  let ret = {\r\n    step: (i>=1?s[0]:''),\r\n    type: (i>=2?s[1]:''),\r\n    qty: (i>=3?s[2]:''),\r\n    on: '',\r\n    onMsg: '',\r\n  };\r\n  if(i===4){\r\n    ret.on = s[3];\r\n    const z = Menu.half.findIndex(h => h.value === s[3]);\r\n    if(z!==-1){\r\n      ret.onMsg = Menu.half[z].msg;\r\n    } else {\r\n      ret.qty = 'None';\r\n      ret.on = '';\r\n      ret.onMsg = '';\r\n    }\r\n  }\r\n  return ret;\r\n}\r\nfunction NextStep(props){\r\n  const curStep = props.value;\r\n  const stepOvr = props.stepOvr;\r\n  if(stepOvr){\r\n    return 'Finished edits';\r\n  }\r\n  switch(curStep){\r\n    case 'crusts':\r\n      return '';\r\n    case 'sizes':\r\n      return '';\r\n    case 'sauces':\r\n      return 'Go to Cheeses';\r\n    case 'cheeses':\r\n      return 'Go to meats';\r\n    case 'meats':\r\n      return 'Go to non-meats';\r\n    case 'nonmeats':\r\n      return 'Go to summary';\r\n    default:\r\n      return '';\r\n  }\r\n}\r\nOrderStep.propTypes = {\r\n  steps: PropTypes.object,\r\n  step: PropTypes.object,\r\n  triggerNextStep: PropTypes.func,\r\n  pizza: PropTypes.object,  \r\n};\r\nOrderStep.defaultProps = {\r\n  steps: undefined,\r\n  triggerNextStep: undefined,    \r\n};\r\n\r\nexport default OrderStep;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Summary extends Component {\r\n  constructor(props) {\r\n    super(props);    \r\n    this.state = {\r\n      pizza: null,\r\n      cnt:0,\r\n      msg:'',\r\n    };\r\n  }\r\n  componentDidMount(){\r\n    const order = this.props.order;\r\n    const isSpc = this.props.steps.spcQues.value;\r\n\r\n    const spec = (isSpc==='yesSpc'?this.props.steps.userInst.value:'');\r\n    const p = order.CurrentPizza;\r\n    p.SpecialInstructions = spec;\r\n    const c = order.PizzaCnt;\r\n    const pizzaID = p.PizzaID;\r\n    const msg = order.getPizza(pizzaID);\r\n    this.setState({\r\n      pizza: p,\r\n      cnt:c,\r\n      msg:msg,\r\n    })\r\n  }\r\n\r\n  render() {   \r\n    const msg = this.state.msg;   \r\n    return (\r\n      <div className=\"summary\" style={{ width: '100%' }}>\r\n        <h3>{msg.title}</h3>\r\n        <h6>{msg.type}</h6>\r\n        <h6>With:</h6>        \r\n        <table className=\"summaryTable\">\r\n          <tbody>\r\n            <tr className=\"summarySauce\">\r\n               <td>{msg.sauce}</td>\r\n            </tr>\r\n            <tr className=\"summaryCheese\">\r\n              <td>{msg.cheeses}</td>\r\n            </tr>\r\n            <tr className=\"summaryMeats\">\r\n              <td>{msg.meats}</td>\r\n            </tr>\r\n            <tr className=\"summaryNonMeats\"> \r\n              <td>{msg.nonMeats}</td>\r\n            </tr>\r\n            <tr className=\"summaryInst\"> \r\n              <td>{msg.noninst}</td>\r\n            </tr>            \r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSummary.propTypes = {\r\n  steps: PropTypes.object,\r\n};\r\n\r\nSummary.defaultProps = {\r\n  steps: undefined,\r\n};\r\n\r\nexport default Summary;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nclass AddPizza extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      order: this.props.order,\r\n      pizza:'',\r\n      cnt:0,\r\n      edt:false,\r\n    };\r\n  }\r\n  componentDidMount(){\r\n    let order = this.state.order;\r\n    const step = this.props.step.id;\r\n    const edt = order.IsOrderEdit;    \r\n    if(order.Name === ''){\r\n      const name = this.props.steps.ordername.value;\r\n      order.Name = name;\r\n    }\r\n    if(step==='addNewPizza'&& !edt){\r\n      const cnt = order.PizzaCnt;\r\n      const p = order.addNewPizza(cnt+1);\r\n      this.setState({\r\n        pizza:p,\r\n        cnt:cnt+1,\r\n        edt:false,\r\n      });      \r\n    }    \r\n  }\r\n  render(){\r\n    const edt = this.state.edt;\r\n    let ret;\r\n    if(edt){\r\n      ret = (\r\n        <div className=\"editPizzaMsg\">Select a crust style:</div>\r\n      )\r\n    } else{\r\n      ret=<div className=\"addPizzaMsg\">Select a crust style:</div>\r\n    }\r\n    return ret;  \r\n  }  \r\n}\r\nAddPizza.propTypes = {\r\n  steps: PropTypes.object,\r\n};\r\n\r\nAddPizza.defaultProps = {\r\n  steps: undefined,\r\n};\r\nexport default AddPizza;","import React, { Component } from 'react';\r\nimport ChatBot from './chatbot/ChatBot';\r\nimport { ThemeProvider } from 'styled-components';\r\nimport OrderStep from './OrderStep';\r\nimport Summary from './Summary';\r\nimport AddPizza from './AddPizza'; \r\n\r\nclass SimpleForm extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.handleEnd = this.handleEnd.bind(this);\r\n  }\r\n  handleEnd(){\r\n    //load order summary page\r\n    const order = this.props.order;\r\n    this.props.end(order)\r\n  }\r\n  componentDidMount(){\r\n    \r\n  }\r\n  render() {\r\n    const order = this.props.order;\r\n    let cnt = 0;      \r\n    return (\r\n      <ThemeProvider theme={{\r\n              background: '#f5f5f5',\r\n              fontFamily: 'Montserrat',\r\n              headerBgColor: '#DD841F',\r\n              headerFontColor: '#fff',\r\n              headerFontSize: '15px',\r\n              botBubbleColor: '#DD841F',\r\n              botFontColor: '#fff',\r\n              userBubbleColor: '#fff',\r\n              userFontColor: '#4a4a4a',\r\n              marginTop: '60px',\r\n          }}>\r\n      <ChatBot headerTitle=\"Slice Bot\"\r\n        handleEnd = {this.handleEnd}\r\n        steps={[\r\n          {\r\n            id: '1',\r\n            message: 'Welcome to Slice!',\r\n            trigger: '2',            \r\n          },\r\n          {\r\n            id: '2',\r\n            message: 'Please enter a name for the order',\r\n            trigger: 'ordername',            \r\n          },\r\n          {\r\n            id: 'ordername',\r\n            user:true,\r\n            placeholder: 'Please enter a name...',\r\n            trigger: 'addNewPizza',   \r\n          },\r\n          {\r\n            id: 'addNewPizza',\r\n            component: <AddPizza order={order}/>,       \r\n            asMessage: true,\r\n            trigger: 'crusts',           \r\n          },          \r\n          {\r\n            id: 'crusts',\r\n            placeholder: 'Choose an option',\r\n            component: <OrderStep/>,              \r\n            waitAction: true, \r\n            replace: true,\r\n            metadata: order,\r\n            trigger: '4',\r\n          },\r\n          {\r\n            id: '4',\r\n            message:'Please choose a pizza size:',\r\n            trigger: 'sizes',\r\n          },\r\n          {\r\n            id: 'sizes',\r\n            placeholder: 'Choose an option',\r\n            component: <OrderStep/>,              \r\n            waitAction: true, \r\n            replace: true,\r\n            metadata: order,\r\n            trigger: '5',\r\n          },\r\n          {\r\n            id: '5',\r\n            message: 'Please choose a sauce:',\r\n            trigger: 'sauces',            \r\n          },\r\n          {\r\n            id: 'sauces',\r\n            placeholder: 'Choose an option',\r\n            component: <OrderStep/>,\r\n            waitAction: true,\r\n            replace: true,\r\n            metadata: order,\r\n            trigger: '6',\r\n          },\r\n          {\r\n            id: '6',\r\n            message: 'Please choose your cheeses:',\r\n            trigger: 'cheeses',\r\n          },          \r\n          {\r\n            id: 'cheeses',\r\n            placeholder: 'Choose an option',\r\n            component: <OrderStep/>,              \r\n            waitAction: true, \r\n            replace: true,\r\n            metadata: order,               \r\n            trigger: '7',                        \r\n          },         \r\n          {\r\n            id: '7',\r\n            message: 'Please choose your meat toppings:',\r\n            trigger: 'meats',            \r\n          },\r\n          {\r\n            id: 'meats',\r\n            placeholder: 'Choose an option',\r\n            component: <OrderStep/>,              \r\n            waitAction: true, \r\n            replace: true,\r\n            metadata: order,               \r\n            trigger: '8',\r\n          },\r\n          {\r\n            id: '8',\r\n            message: 'Please choose your non-meat toppings:',\r\n            trigger: 'nonmeats',            \r\n          },\r\n          {\r\n            id: 'nonmeats',\r\n            placeholder: 'Choose an option',\r\n            component: <OrderStep/>,              \r\n            waitAction: true, \r\n            replace: true,\r\n            metadata: order,               \r\n            trigger: '9'\r\n          },\r\n          {\r\n            id: '9',\r\n            message: 'Any Special instructions?',\r\n            trigger: 'spcQues',            \r\n          },\r\n          {\r\n            id: 'spcQues',\r\n            options: [\r\n              {value: 'yesSpc', label: 'Yes', trigger: 'yesSpc'},\r\n              {value: 'noSpc', label: 'No', trigger: '10'},\r\n            ],\r\n            placeholder: 'Choose an option',\r\n          },\r\n          {\r\n            id: 'yesSpc',\r\n            message: 'Please enter your special instructions below',\r\n            trigger: 'userInst',\r\n          },\r\n          {\r\n            id: 'userInst',\r\n            user: true,\r\n            placeholder: 'Enter instructions here...',\r\n            trigger: '10',\r\n          },\r\n          {\r\n            id: '10',\r\n            message: 'Please review your pizza:',\r\n            trigger: 'pizzareview',            \r\n          },\r\n          {\r\n            id: 'pizzareview',\r\n            component: <Summary order={order} cnt={cnt}/>,\r\n            asMessage: true,                       \r\n            metadata: cnt,\r\n            trigger: '11'\r\n          },\r\n          {\r\n            id: '11',\r\n            options: [\r\n              {value: 'editP', label: 'Edit this pizza', trigger: 'editPizza'},\r\n              {value: 'addP', label: 'Add another pizza', trigger: 'addNewPizza'},\r\n              {value: 'compOr', label: 'Complete Order', trigger: 'end-message'},\r\n            ],            \r\n          },\r\n          {\r\n            id: 'editPizza',\r\n            message: 'Please review your pizza:',\r\n            trigger: 'end-message',\r\n          },            \r\n          {\r\n            id: 'end-message',\r\n            message: 'Thank you for choosing Slice!',\r\n            end: true,\r\n          },\r\n          ]}\r\n        />\r\n          </ThemeProvider>\r\n      );\r\n    }\r\n  }\r\n  \r\n  export default SimpleForm;","class Pizza {\r\n  id= 0;\r\n  size='';\r\n  crust='';  \r\n  sauce={type: '', qty: ''};\r\n  cheeses=[];\r\n  toppings= [];  \r\n  specialInstructions='';          \r\n  \r\n  constructor(value){\r\n    this.id = value;    \r\n  }\r\n  set Size(value){\r\n    this.size = value.type;\r\n  }\r\n  set Crust(value) {\r\n    this.crust = value.type;\r\n  }\r\n  set Sauce(props) {\r\n    const t = props.type;\r\n    const q = props.qty;\r\n    if(t!=='None'){\r\n      if(q===this.sauce.qty){\r\n        this.sauce = {type: 'No', qty: ''};\r\n      } else {\r\n        this.sauce = {type: t, qty: q};\r\n      }\r\n    } else {\r\n      this.sauce = {type: 'No', qty: ''};\r\n    }    \r\n  }\r\n  set Cheese(props){\r\n    const t = props.type;\r\n    const q = props.qty;\r\n    const i = this.cheeses.findIndex(cheese => cheese.type === t);\r\n    if(t!=='None'){\r\n      if(i===-1){\r\n        const cheese = {type: t, qty: q};\r\n        this.cheeses = this.cheeses.concat(cheese);\r\n      } else {\r\n        if(this.cheeses[i].qty===q) {\r\n          this.cheeses.splice(i,1);\r\n        } else {\r\n          this.cheeses[i].qty=q;\r\n        }\r\n      }\r\n    } else {\r\n      this.cheeses = [{type: 'No', qty: ''}];\r\n    }\r\n  }\r\n  set Topping(props) {\r\n    const t = props.step;\r\n    const q = props.qty;\r\n    const n = props.type;\r\n    const o = props.on;\r\n    const oMsg = props.onMsg;       \r\n    const i = this.toppings.findIndex(topping => \r\n      topping.step === t && topping.type===n);\r\n    const newTopping = {step: t, type: n, qty: q, on:o, onMsg:oMsg, };\r\n    if(i===-1){\r\n      if(o!=='N'&& q!=='None'){       \r\n        this.toppings = this.toppings.concat(newTopping);\r\n      }\r\n    } else if(q!=='None'){\r\n      if(o==='N'){\r\n        this.toppings.splice(i,1);\r\n      } else {\r\n        const top = this.toppings[i];\r\n        if(top===newTopping){\r\n          this.toppings.splice(i,1);\r\n        } else {\r\n          this.toppings.splice(i,1, newTopping);\r\n        }\r\n      }                       \r\n    }    \r\n  } \r\n  set SpecialInstructions(value){\r\n    this.specialInstructions=value;\r\n  }\r\n  get PizzaID(){\r\n    return this.id;\r\n  }\r\n  get Size(){\r\n      return this.size;  \r\n  }\r\n  get Crust(){\r\n      return this.crust;\r\n  }\r\n  get Sauce(){\r\n    return (\r\n      (this.sauce.qty!=='Regular'? this.sauce.qty+ ' ' : '')  + this.sauce.type + ' Sauce'\r\n    );\r\n  }\r\n  get Cheese(){\r\n    const cheeseCnt = this.cheeses.length;\r\n    const chez = this.cheeses.map(cheese => {\r\n      let obj = (\r\n        (cheese.qty!=='Regular'? cheese.qty : '') + ' ' + cheese.type + ' Cheese'\r\n      );\r\n      return obj;\r\n    });       \r\n    let str= '';\r\n    let i;\r\n    for(i=0; i<cheeseCnt; i++){\r\n      str = str + (i===cheeseCnt-1? (i===0?chez[i]:'and '+ chez[i]): chez[i] + ', ');\r\n    }    \r\n    return str;\r\n  }\r\n  get MeatToppings(){\r\n    const meats = this.toppings.map(topping => {\r\n      if(topping.step === 'meats') {\r\n        let obj = (\r\n          ((topping.qty!=='Regular'? topping.qty : '') + ' ' + topping.type)\r\n           + (topping.on==='wp'? '' : ' ' + topping.onMsg)          \r\n        );       \r\n        return obj;        \r\n      } else {\r\n        return '';\r\n      } \r\n    });\r\n    let str = '';\r\n    let i;\r\n    for(i=0; i<meats.length; i++){\r\n      if(meats[i]!==''){\r\n        str = str + (i===meats.length-1? (i===0?meats[i]:'and '+ meats[i]): meats[i] + ', ');\r\n      }\r\n    }\r\n    if(str===''){\r\n      str= 'No meats';\r\n    }    \r\n    return str;\r\n  }\r\n  get NonMeatToppings(){\r\n    let m = 0;\r\n    const nonmeats = this.toppings.map(topping => {\r\n      if(topping.step === 'nonmeats') {\r\n        let obj = (\r\n          ((topping.qty!=='Regular'? topping.qty : '') + ' ' + topping.type)\r\n           + (topping.on==='wp'? '' : ' ' + topping.onMsg)          \r\n        );       \r\n        return obj;        \r\n      } else {\r\n        m++;\r\n        return '';\r\n      }\r\n    });\r\n\r\n    let str='';\r\n    let i;\r\n    for(i=m; i<nonmeats.length; i++){\r\n      if(nonmeats[i]!==''){\r\n        str = str + (i===nonmeats.length-1? (i===m?nonmeats[i]:'and '+ nonmeats[i]): nonmeats[i] + ', ');\r\n      }      \r\n    }\r\n    if(str===''){\r\n      str= 'No non-meats';\r\n    }    \r\n    return str;  \r\n  }\r\n  get SpecialInstructions(){\r\n    if(this.specialInstructions===''){\r\n      return 'No special instructions';\r\n    }\r\n    return this.specialInstructions;\r\n  }\r\n  get PizzaStringArray(){\r\n    const title = 'Pizza #'+ this.PizzaID + ' is a:';\r\n    const pizzaType = this.Size + ' ' + this.Crust;\r\n    const pizzaSauce = this.Sauce;\r\n    const cheese = this.Cheese;\r\n    const meats = this.MeatToppings;\r\n    const nonmeats = this.NonMeatToppings;\r\n    const inst = this.SpecialInstructions;\r\n    return ([title,pizzaType,pizzaSauce,cheese,meats,nonmeats,inst,]);\r\n  }\r\n}\r\n\r\nexport default Pizza;","import Random from 'random-id';\r\nimport Pizza from './Pizza';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass PizzaOrder {\r\n\r\n  constructor() {\r\n    this.orderDate= new Date();    \r\n    const mon = this.orderDate.getMonth()+1;\r\n    const day = this.orderDate.getDate()+1;\r\n    const m = mon<10?'0'+mon: mon+ '';\r\n    const d = day<10?'0'+day: day+ '';\r\n    this.shortID='-'+m+d;\r\n    this.receiptNum = Random(8)+this.shortID;\r\n    this.orderName= '';\r\n    this.pickUpID= '';\r\n    this.pizzas= [];\r\n    this.pizzaCnt = 0;\r\n    this.isEdit = false;\r\n    this.editID = 0;      \r\n  }\r\n  set Name(value){    \r\n    this.orderName= value;\r\n    const x =value.indexOf(' ');    \r\n    if(x!==-1){\r\n      const str = value.substring(x+1);\r\n      this.pickUpID= str + this.shortID;\r\n    } else {\r\n      this.pickUpID= value + this.shortID;\r\n    }\r\n  }  \r\n  get Name(){\r\n    return this.orderName;  \r\n  }\r\n  get PizzaCnt(){\r\n    return this.pizzaCnt;\r\n  }  \r\n  get ReceiptNum(){\r\n    return this.receiptNum;\r\n  }\r\n  get PickUpID(){\r\n    return this.pickUpID;\r\n  }\r\n  get NextPizzaID(){\r\n    return this.pizzaCnt+1;\r\n  }\r\n  get CurrentPizza(){\r\n    if(this.PizzaCnt===0){\r\n      return null;\r\n    } \r\n    return this.pizzas[this.pizzaCnt-1];\r\n  }\r\n  get OrderDate(){\r\n    return this.orderDate;\r\n  }\r\n  get Pizzas(){    \r\n    return this.pizzas;\r\n  }\r\n  set EditID(v){\r\n    this.editID = v;\r\n  }\r\n  get EditID(){\r\n    return this.editID;\r\n  }\r\n  set IsOrderEdit(val){\r\n    this.isEdit = val;\r\n  }\r\n  get IsOrderEdit(){\r\n    return this.isEdit;\r\n  }\r\n  addNewPizza(id){        \r\n    const oSize = this.pizzas.length;\r\n    const cnt = this.pizzaCnt;    \r\n    if(oSize!==cnt){\r\n      new Error(\"Pizza Array Size Error\");\r\n    } else if(id!==(cnt+1)){\r\n      new Error(\"New Pizza ID Error\");\r\n    } else {\r\n      const p = new Pizza(id);\r\n      this.pizzas = this.pizzas.concat(p);\r\n      this.pizzaCnt++;\r\n      return p;\r\n    }\r\n  }\r\n  selectPizza(id){\r\n    const i = this.pizzas.findIndex(p => p.PizzaID === id);\r\n    if(i!==-1){\r\n      return this.pizzas[i]\r\n    }\r\n    else {\r\n      return null;\r\n    }\r\n  }\r\n  editPizza(pizza){\r\n    const newID = pizza.PizzaID;\r\n    const i = this.pizzas.findIndex(p => p.PizzaID === newID);\r\n    if(i!==-1){\r\n      const p = pizza;      \r\n      this.pizzas.splice(i,1,p);\r\n    }\r\n  }\r\n  removePizza(id){    \r\n    const i = this.pizzas.findIndex(p => p.PizzaID === id);\r\n    if(i!==-1){\r\n      this.pizzas.splice(i,1);\r\n      this.pizzaCnt--;\r\n    }\r\n  }\r\n  getPizza(id){\r\n    const pizza = this.pizzas.filter(p => p.PizzaID === id)[0];\r\n    if(pizza===null){\r\n      return null;\r\n    }\r\n    const title = 'Pizza #'+ pizza.PizzaID + ' is a:';\r\n    const pizzaType = pizza.Size + ' ' + pizza.Crust;\r\n    const pizzaSauce = pizza.Sauce;\r\n    const cheese = pizza.Cheese;\r\n    const meats = pizza.MeatToppings;\r\n    const nonmeats = pizza.NonMeatToppings;\r\n    const inst = pizza.SpecialInstructions;\r\n    return ({\r\n      title: title,\r\n      type: pizzaType,\r\n      sauce: pizzaSauce,\r\n      cheeses: cheese,\r\n      meats: meats,\r\n      nonMeats:nonmeats,\r\n      inst:inst,\r\n    });\r\n  }  \r\n}\r\nPizzaOrder.propTypes = {\r\n  orderName: PropTypes.string,\r\n  pickUpID: PropTypes.string,\r\n  receiptNum: PropTypes.string,\r\n  shortID: PropTypes.string,  \r\n  pizzas: PropTypes.object,\r\n  orderDate: PropTypes.Date,\r\n};\r\n\r\nexport default PizzaOrder;\r\n","import React from 'react';\r\nimport '../css/App.css';\r\n\r\nclass OrderComplete extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state= {\r\n      order:this.props.order,\r\n    };\r\n    this.confirm = this.confirm.bind(this);\r\n  }\r\n  confirm(){\r\n    alert(\"Thank you for choosing Slice!\");\r\n    alert(\"Returning to the main page...\");\r\n    window.location.reload(false);\r\n  }\r\n  render(){\r\n    const order = this.state.order;\r\n    const cnt = 'Number of Pizzas: ' + order.PizzaCnt;\r\n    const name = 'Please review the following order for '+order.Name;\r\n    const pickup = 'Your pickup number for this order is: ' + order.PickUpID;\r\n    const recpt = 'Receipt #' + order.ReceiptNum;\r\n    const oDt = 'Order Date: ' + order.OrderDate;\r\n    \r\n    const pizzas = order.Pizzas;\r\n    const pizzaMsg = pizzas.map( (p)=> {\r\n      const id = p.PizzaID;\r\n      const msg = p.PizzaStringArray;\r\n      const t = 'sumT-' +id;      \r\n      const ret = msg.map((m, index)=> {\r\n        const r = t + '-'+(index+1);\r\n        return (<li key={r} className=\"sumListRow\">{m}</li>);\r\n      })\r\n      return(<ul key={t} className={t}>{ret}</ul>);\r\n    })\r\n    return (\r\n      <div className=\"finalSummary\">      \r\n        <div className=\"or-cm-Greet\">{name}</div>\r\n        <div className=\"or-cm-Date\">{oDt}</div>\r\n        <div className=\"or-cm-Rec\">{recpt}</div>\r\n        <div className=\"or-cm-Cnt\">{cnt}</div>\r\n        <div className=\"or-cm-Table\">{pizzaMsg}</div>\r\n        <div className=\"or-cm-Pick\">{pickup}</div>\r\n        <div className=\"or-cm-Btns\">\r\n          <button className=\"or-cm-Confirm\" onClick={()=>this.confirm()}>Confirm Order</button>\r\n          <button className=\"or-cm-Edit\" onClick={()=>{return (this.props.onEdit(order))}}>Edit this Order</button>\r\n          <button className=\"or-cm-Cancel\" onClick={()=>this.props.onCancel()}>Cancel Order and start over</button>\r\n        </div>\r\n      </div>\r\n      );\r\n  }\r\n}\r\nexport default OrderComplete;","import React from 'react';\r\n\r\nclass EditPizzzaSelect extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      trigger:false,\r\n    };\r\n    this.triggerNext = this.triggerNext.bind(this);\r\n  }\r\n  triggerNext(id){\r\n    const pID = id;\r\n    const label = new Array(pID);\r\n    const i = label[0];\r\n    const msg = 'Pizza '+i;\r\n    const data = {\r\n      value: label,\r\n      msg: msg,\r\n    };\r\n    const o = this.props.step.metadata;\r\n    o.EditID = pID;\r\n\r\n    this.setState({trigger: true}, () => {\r\n      this.props.triggerNextStep(data);\r\n    });\r\n  }\r\n  render() {\r\n    const o = this.props.step.metadata;\r\n    const p = o.Pizzas;  \r\n    const m = p.map((i)=>{\r\n      const id = i.PizzaID;\r\n      const r = `Edit Pizza ${id}`;\r\n      const k = `pizza-${id}`;\r\n      return (\r\n        <li key={k} className='menuListOptsEle'>\r\n          <button className=\"menuListOptsBtn\" onClick={()=> {\r\n              this.triggerNext(id)}}>{r}</button>\r\n        </li>\r\n      )\r\n    })\r\n    return(\r\n      <ul key='pizza-edit' className='menuOptions'>\r\n        {m}\r\n      </ul>\r\n    )\r\n  }   \r\n}\r\n\r\nexport default EditPizzzaSelect;","import React, { Component } from 'react';\r\nimport ChatBot from './chatbot/ChatBot';\r\nimport { ThemeProvider } from 'styled-components';\r\nimport OrderStep from './OrderStep';\r\nimport Summary from './Summary';\r\nimport AddPizza from './AddPizza'; \r\nimport EditPizzzaSelect from './EditPizzaSelect';\r\n\r\nclass EditForm extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      order: null,\r\n      cnt:0,\r\n      pizzas: [],\r\n      edt: true,\r\n      trigger: false,\r\n      pizzaID:'',\r\n    };\r\n    this.handleEnd = this.handleEnd.bind(this);\r\n    this.triggerCan = this.triggerCan.bind(this);    \r\n  }\r\n  triggerCan(val){\r\n    if(val==='-7'){\r\n      window.location.reload(false);\r\n    }\r\n  }\r\n  handleEnd(){\r\n    //load order summary page\r\n    const order = this.props.order;\r\n    this.props.end(order)\r\n  }\r\n  componentDidMount(){\r\n    const o = this.props.order;\r\n    const c = o.PizzaCnt;\r\n    const p = o.Pizzas;\r\n    const e = o.IsOrderEdit;\r\n    this.setState({\r\n      order: o,\r\n      cnt:c,\r\n      pizzas: p,\r\n      edt: e,\r\n    });\r\n  }\r\n  render() {\r\n    const order = this.props.order;    \r\n    \r\n    const sOvr = true;\r\n    return (\r\n      <ThemeProvider theme={{\r\n              background: '#f5f5f5',\r\n              fontFamily: 'Montserrat',\r\n              headerBgColor: '#DD841F',\r\n              headerFontColor: '#fff',\r\n              headerFontSize: '15px',\r\n              botBubbleColor: '#DD841F',\r\n              botFontColor: '#fff',\r\n              userBubbleColor: '#fff',\r\n              userFontColor: '#4a4a4a',\r\n              marginTop: '60px',\r\n          }}>\r\n      <ChatBot headerTitle=\"Slice Bot\"\r\n        handleEnd = {this.handleEnd}\r\n        steps={[\r\n          {\r\n            id: '1',\r\n            message: 'How would you like to modify this order?',\r\n            trigger: 'editQuesResp',            \r\n          },         \r\n          {\r\n            id: 'editQuesResp',\r\n            options: [\r\n              {value: 'editP', label:'Edit a Pizza', trigger:'editPizzaSel'},\r\n              {value: 'addP', label:'Add a Pizza', trigger:'addNewPizza'},\r\n              {value: 'remP', label:'Remove a Pizza', trigger:'remPizza'},\r\n              {value: 'canOrd', label:'Cancel Order', trigger:'canorder'},\r\n              {value: 'endEdit', label:'Finished Editting', trigger:'end-message'},\r\n            ],\r\n            placeholder: 'Select an option...',\r\n          },\r\n          {\r\n            id: 'editPizzaSel',\r\n            placeholder: 'Choose an option',\r\n            component: <EditPizzzaSelect/>,              \r\n            waitAction: true, \r\n            replace: true,\r\n            metadata: order,            \r\n            trigger: 'editQ',            \r\n          },\r\n          {\r\n            id:'editQ',\r\n            message:'Please select something to edit:',\r\n            trigger: 'editP',\r\n          },\r\n          {\r\n            id: 'editP',\r\n            options:[\r\n              {value:'crusts', label: \"Crust\", trigger: 'crustsEdt'},\r\n              {value:'sizes', label: \"Size\", trigger: 'sizesEdt'},\r\n              {value:'sauces', label: \"Sauce\", trigger: 'saucesEdt'},\r\n              {value:'cheeses', label: \"Cheese\", trigger: 'cheesesEdt'},\r\n              {value:'meats', label: \"Meats\", trigger: 'meatsEdt'},\r\n              {value:'nonmeats', label: \"Non-Meats\", trigger: 'nonmeatsEdt'},\r\n              {value:'noEdit', label: \"Go Back\", trigger: '1'},\r\n            ],\r\n            placeholder: 'Please select something to change...',              \r\n          },          \r\n          {\r\n            id: 'addNewPizza',\r\n            component: <AddPizza order={order}/>,       \r\n            asMessage: true,\r\n            trigger: 'crusts',           \r\n          },          \r\n          {\r\n            id: 'crusts',\r\n            placeholder: 'Choose an option',\r\n            component: <OrderStep/>,              \r\n            waitAction: true, \r\n            replace: true,\r\n            metadata: order,\r\n            trigger: '4',\r\n          },\r\n          {\r\n            id: '4',\r\n            message:'Please choose a pizza size:',\r\n            trigger: 'sizes'\r\n          },\r\n          {\r\n            id: 'sizes',\r\n            placeholder: 'Choose an option',\r\n            component: <OrderStep/>,              \r\n            waitAction: true, \r\n            replace: true,\r\n            metadata: order,\r\n            trigger: '5'\r\n          },\r\n          {\r\n            id: '5',\r\n            message: 'Please choose a sauce:',\r\n            trigger: 'sauces',            \r\n          },\r\n          {\r\n            id: 'sauces',\r\n            placeholder: 'Choose an option',\r\n            component: <OrderStep/>,\r\n            waitAction: true,\r\n            replace: true,\r\n            metadata: order,\r\n            trigger: '6',\r\n          },\r\n          {\r\n            id: '6',\r\n            message: 'Please choose your cheeses:',\r\n            trigger: 'cheeses',\r\n          },          \r\n          {\r\n            id: 'cheeses',\r\n            placeholder: 'Choose an option',\r\n            component: <OrderStep/>,              \r\n            waitAction: true, \r\n            replace: true,\r\n            metadata: order,               \r\n            trigger: '7',                        \r\n          },         \r\n          {\r\n            id: '7',\r\n            message: 'Please choose your meat toppings:',\r\n            trigger: 'meats',            \r\n          },\r\n          {\r\n            id: 'meats',\r\n            placeholder: 'Choose an option',\r\n            component: <OrderStep/>,              \r\n            waitAction: true, \r\n            replace: true,\r\n            metadata: order,               \r\n            trigger: '8',\r\n          },\r\n          {\r\n            id: '8',\r\n            message: 'Please choose your non-meat toppings:',\r\n            trigger: 'nonmeats',            \r\n          },\r\n          {\r\n            id: 'nonmeats',\r\n            placeholder: 'Choose an option',\r\n            component: <OrderStep/>,              \r\n            waitAction: true, \r\n            replace: true,\r\n            metadata: order,               \r\n            trigger: '9'\r\n          },\r\n          {\r\n            id: '9',\r\n            message: 'Any Special instructions?',\r\n            trigger: 'spcQues',            \r\n          },\r\n          {\r\n            id: 'spcQues',\r\n            options: [\r\n              {value: 'yesSpc', label: 'Yes', trigger: 'yesSpc'},\r\n              {value: 'noSpc', label: 'No', trigger: '10'},\r\n            ],\r\n            placeholder: 'Choose an option',\r\n          },\r\n          {\r\n            id: 'yesSpc',\r\n            message: 'Please enter your special instructions below',\r\n            trigger: 'userInst',\r\n          },\r\n          {\r\n            id: 'userInst',\r\n            user: true,\r\n            placeholder: 'Enter instructions here...',\r\n            trigger: '10',\r\n          },\r\n          {\r\n            id: '10',\r\n            message: 'Please review your pizza:',\r\n            trigger: 'pizzareview',            \r\n          },\r\n          {\r\n            id: 'pizzareview',\r\n            component: <Summary order={order} />,\r\n            asMessage: true,          \r\n            trigger: '11'\r\n          },\r\n          {\r\n            id: '11',\r\n            options: [\r\n              {value: 'editP', label: 'Edit this pizza', trigger: 'editPizza'},\r\n              {value: 'addP', label: 'Add another pizza', trigger: 'addNewPizza'},\r\n              {value: 'compOr', label: 'Complete Order', trigger: 'end-message'},\r\n            ],            \r\n          },\r\n          {\r\n            id:'remPizza',\r\n            message:'Remove',\r\n            trigger: 'end-message',\r\n          },\r\n          {\r\n            id: 'editPizza',\r\n            message: 'EDIT',\r\n            trigger: 'end-message',\r\n          },\r\n          {\r\n            id: 'crustsEdt',\r\n            placeholder: 'Choose an option',\r\n            component: <OrderStep stepID='crusts' stepOvr={sOvr}/>,              \r\n            waitAction: true, \r\n            replace: true,\r\n            metadata: order,\r\n            trigger: 'editQ',\r\n          },\r\n          {\r\n            id: 'sizesEdt',\r\n            placeholder: 'Choose an option',\r\n            component: <OrderStep stepID='sizes' stepOvr={sOvr}/>,              \r\n            waitAction: true, \r\n            replace: true,\r\n            metadata: order,\r\n            trigger: 'editQ',\r\n          },\r\n          {\r\n            id: 'saucesEdt',\r\n            placeholder: 'Choose an option',\r\n            component: <OrderStep stepID='sauces' stepOvr={sOvr}/>,              \r\n            waitAction: true, \r\n            replace: true,\r\n            metadata: order,\r\n            trigger: 'editQ',\r\n          },\r\n          {\r\n            id: 'cheesesEdt',\r\n            placeholder: 'Choose an option',\r\n            component: <OrderStep stepID='cheeses' stepOvr={sOvr}/>,              \r\n            waitAction: true, \r\n            replace: true,\r\n            metadata: order,\r\n            trigger: 'editQ',\r\n          },\r\n          {\r\n            id: 'meatsEdt',\r\n            placeholder: 'Choose an option',\r\n            component: <OrderStep stepID='meats' stepOvr={sOvr}/>,              \r\n            waitAction: true, \r\n            replace: true,\r\n            metadata: order,\r\n            trigger: 'editQ',\r\n          },\r\n          {\r\n            id: 'nonmeatsEdt',\r\n            placeholder: 'Choose an option',\r\n            component: <OrderStep stepID='nonmeats' stepOvr={sOvr}/>,              \r\n            waitAction: true, \r\n            replace: true,\r\n            metadata: order,\r\n            trigger: 'editQ',\r\n          },\r\n          {\r\n            id: 'canorder',\r\n            message: 'Are you sure you want to cancel this order?',\r\n            trigger: 'canorderQ',\r\n            placeholder:'Select an option...',\r\n          },\r\n          {\r\n            id: 'canorderQ',\r\n            options:[\r\n              {value: 'yesCan', label: 'Yes', trigger: 'canorderYes'},\r\n              {value: 'noCan', label: 'No', trigger: '1'},\r\n            ],\r\n            placeholder: 'Choose an option',          \r\n          },\r\n          {\r\n            id: 'canorderYes',\r\n            component: <CancelOrder onTrigger={(v)=>{this.triggerCan(v)}}/>,\r\n            replace:true,\r\n            waitAction: true,\r\n            trigger: 'end-message',\r\n          },            \r\n          {\r\n            id: 'end-message',\r\n            message: 'Thank you for choosing Slice!',\r\n            end: true,\r\n          },\r\n          ]}\r\n        />\r\n          </ThemeProvider>\r\n      );\r\n    }\r\n  }\r\n\r\nfunction CancelOrder(props){\r\n  return props.onTrigger('-7')\r\n}\r\nexport default EditForm;","import React from 'react';\r\nimport SimpleForm from './SimpleForm';\r\nimport '../css/DisplayMainArea.css';\r\nimport df from \"../resources/dairyfree.svg\";\r\nimport gf from \"../resources/glutenfree.svg\";\r\nimport veggie from \"../resources/vegetarian.svg\";\r\nimport vegan from \"../resources/vegan.svg\";\r\nimport PizzaOrder from './PizzaOrder'\r\nimport OrderComplete from './OrderComplete';\r\nimport EditForm from './EditForm';\r\n\r\nclass DisplayMainArea extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      order: new PizzaOrder(),\r\n      showSum: false,\r\n      showEdit: false,\r\n    };\r\n    this.orderEnd = this.orderEnd.bind(this);    \r\n    this.editOrder = this.editOrder.bind(this);\r\n    this.cancelOrder = this.cancelOrder.bind(this);\r\n  }\r\n  editOrder(val){\r\n    const o = val;\r\n    this.setState({\r\n      order: o,\r\n      showSum: false,\r\n      showEdit: true,\r\n    });\r\n  }\r\n  cancelOrder(){\r\n    this.setState({\r\n      order: new PizzaOrder(),\r\n      showSum: false,\r\n    })\r\n  }\r\n  orderEnd(val){\r\n    const o = val;\r\n    const t = true;\r\n    this.setState({\r\n      order: o,\r\n      showSum: t,\r\n    })\r\n  }  \r\n  render() {\r\n    const showPage= this.props.data.showPage;\r\n    if (showPage!=='Main') {\r\n      return null;\r\n    } else if (this.state.showSum) {\r\n      return <OrderComplete order={this.state.order} onEdit={(val)=>{return (this.editOrder(val))}} onCancel={()=>{this.cancelOrder()}}/>\r\n    } else if(this.state.showEdit){\r\n      return <EditForm order={this.state.order} end={(val)=>this.orderEnd(val)}/>\r\n    } else {\r\n    return (\r\n      <>\r\n      <div className=\"displayArea\">\r\n        <div className=\"menuSummary\">\r\n            <h2>Menu</h2>\r\n            <div className=\"leftPanel\">\r\n            <h3>Sizes</h3>\r\n            <hr/>\r\n            <div className=\"menuItem\">\r\n            <p>Small 10\"</p>\r\n            </div>\r\n            <div className=\"menuItem\">\r\n                <p>Medium 12\"</p>\r\n            </div>\r\n            <div className=\"menuItem\">\r\n                <p>Large 14\"</p>\r\n            </div>\r\n            <div className=\"menuItem\">\r\n                <p>X-Large 16\"</p>\r\n            </div>\r\n            <h3>Crust</h3>\r\n            <hr/>\r\n            <div className=\"menuItem\">\r\n                <p>Original</p>\r\n                <img className=\"allergyInfo\" src={veggie} alt=\"Vegetarian\"></img>\r\n            </div>\r\n            <div className=\"menuItem\">\r\n                <p>Thin Crust</p>\r\n                <img className=\"allergyInfo\" src={veggie} alt=\"Vegetarian\"></img>\r\n            </div>\r\n            <div className=\"menuItem\">\r\n                <p>Gluten Free</p>\r\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>\r\n            </div>\r\n            <h3>Cheese</h3>\r\n            <hr/>\r\n            <div className=\"menuItem\">\r\n                <p>None</p>\r\n            </div>\r\n            <div className=\"menuItem\">\r\n                <p>Light</p>\r\n                <img className=\"allergyInfo\" src={veggie} alt=\"Vegetarian\"></img>\r\n            </div>\r\n            <div className=\"menuItem\">\r\n                <p>Normal</p>\r\n                <img className=\"allergyInfo\" src={veggie} alt=\"Vegetarian\"></img>\r\n            </div>\r\n            <div className=\"menuItem\">\r\n                <p>Double</p>\r\n                <img className=\"allergyInfo\" src={veggie} alt=\"Vegetarian\"></img>\r\n            </div>\r\n            <h3>Sauce</h3>\r\n            <hr/>\r\n            <div className=\"menuItem\">\r\n                <p>Tomato</p>\r\n                <img className=\"allergyInfo\" src={vegan} alt=\"Vegan\"></img>\r\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>\r\n            </div>\r\n            <div className=\"menuItem\">\r\n                <p>Marinara</p>\r\n                <img className=\"allergyInfo\" src={vegan} alt=\"Vegan\"></img>\r\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>            </div>\r\n            <div className=\"menuItem\">\r\n                <p>Honey BBQ</p>\r\n                <img className=\"allergyInfo\" src={veggie} alt=\"Vegetarian\"></img>\r\n            </div>\r\n            <div className=\"menuItem\">\r\n                <p>Alfredo</p>\r\n                <img className=\"allergyInfo\" src={veggie} alt=\"Vegetarian\"></img>\r\n            </div>\r\n            </div>\r\n            <div className=\"rightPanel\">\r\n            <h3>Meats</h3>\r\n            <hr/>\r\n            <div className=\"menuItem\">\r\n                <p>Pepperoni</p>\r\n                <img className=\"allergyInfo\" src={df} alt=\"Dairy Free\"></img>\r\n            </div>\r\n            <div className=\"menuItem\">\r\n                <p>Beef</p>\r\n                <img className=\"allergyInfo\" src={df} alt=\"Dairy Free\"></img>\r\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>\r\n            </div>\r\n            <div className=\"menuItem\">\r\n                <p>Philly Cheese Steak</p></div>\r\n            <div className=\"menuItem\">\r\n                <p>Italian Sausage</p>\r\n                <img className=\"allergyInfo\" src={df} alt=\"Dairy Free\"></img>\r\n            </div>\r\n            <div className=\"menuItem\">\r\n                <p>Grilled Chicken</p>\r\n                <img className=\"allergyInfo\" src={df} alt=\"Dairy Free\"></img>\r\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>\r\n            </div>\r\n            <div className=\"menuItem\">\r\n                <p>Bacon</p>\r\n                <img className=\"allergyInfo\" src={df} alt=\"Dairy Free\"></img>\r\n            </div>\r\n            <h3>Toppings</h3>\r\n            <hr/>\r\n            <div className=\"menuItem\">\r\n                <p>Tomatoes</p>\r\n                <img className=\"allergyInfo\" src={vegan} alt=\"Vegan\"></img>\r\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>            </div>\r\n            <div className=\"menuItem\">\r\n                <p>Mushrooms</p>\r\n                <img className=\"allergyInfo\" src={vegan} alt=\"Vegan\"></img>\r\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>               </div>\r\n            <div className=\"menuItem\">\r\n                <p>Jalapeo Peppers</p>\r\n                <img className=\"allergyInfo\" src={vegan} alt=\"Vegan\"></img>\r\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>               </div>\r\n            <div className=\"menuItem\">\r\n                <p>Onions</p>\r\n                <img className=\"allergyInfo\" src={vegan} alt=\"Vegan\"></img>\r\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>               </div>\r\n            <div className=\"menuItem\">\r\n                <p>Pineapple</p>\r\n                <img className=\"allergyInfo\" src={vegan} alt=\"Vegan\"></img>\r\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>               </div>\r\n            <div className=\"menuItem\">\r\n                <p>Green Peppers</p>\r\n                <img className=\"allergyInfo\" src={vegan} alt=\"Vegan\"></img>\r\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>               </div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"chatBot\">\r\n          <SimpleForm order={this.state.order} end={(val)=>this.orderEnd(val)}/>\r\n      </div>\r\n      </>\r\n    );\r\n    }\r\n    }\r\n  }\r\n  export default DisplayMainArea;","import React from 'react';\r\nimport '../css/App.css';\r\nimport {DisplayStoreSelect, StoreDetails} from './DisplayStoreSelect';\r\nimport ShowSearchMenu from './ShowSearchMenu';\r\nimport DisplayMainArea from './DisplayMainArea';\r\nimport logo from '../resources/SliceLogo.png';\r\n/*import ResolveLocation from './GeoLoc';*/\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);    \r\n    this.state = {\r\n      searchedBy: '',\r\n      searchedLocation: '',          \r\n      selectedStore: '0',\r\n      previousStore: '0',\r\n      showPage: 'Search', \r\n      hasError: false,\r\n      errorMsg: '',\r\n      userLoc: this.props.userLocObj,\r\n    };\r\n    this.handleStoreSearch = this.handleStoreSearch.bind(this);\r\n    this.handleStoreSelect = this.handleStoreSelect.bind(this);   \r\n    this.updateLocation = this.updateLocation.bind(this);\r\n    this.input = React.createRef();        \r\n  }\r\n   \r\n  handleStoreSearch(geoReturn) {\r\n    const userEntered = this.input.current.value; \r\n    const geoRetLength = geoReturn.length;  \r\n    const userLoc = this.state.userLoc;\r\n    if(userEntered==='' && geoReturn==='') {\r\n      console.log('Empty values');\r\n      this.setState({\r\n        hasError: true,\r\n        errorMsg: \"You must enter a US Zip Code\"\r\n      });\r\n    } else if(geoRetLength>4) {\r\n      this.setState({\r\n        searchedBy: 'Geo Locate',\r\n        searchedLocation: geoReturn,\r\n        showPage: 'Select',\r\n        hasError: false,\r\n        errorMsg: '',\r\n      });\r\n    } else {         \r\n      userLoc.userEntry = userEntered;\r\n      const locString = userLoc.userString;\r\n      if(userLoc.userEntry){\r\n        this.setState({\r\n          searchedBy: 'User Entry',\r\n          searchedLocation: locString,\r\n          showPage: 'Select',\r\n          hasError: false,\r\n          errorMsg: '',\r\n        });\r\n      } else {\r\n        this.setState({\r\n          hasError: true,\r\n          errorMsg: \"You must enter a US Zip Code\"\r\n        });\r\n      }\r\n    }           \r\n  }\r\n  updateLocation() {\r\n    const prevStore = this.state.selectedStore;\r\n    this.setState({\r\n      searchedBy: '',      \r\n      selectedStore: '0',\r\n      previousStore: prevStore,\r\n      showPage: 'Search',\r\n      hasError: false,\r\n      errorMsg: '',\r\n    });\r\n  }\r\n  handleStoreSelect(i) {\r\n    const prevStore = this.state.selectedStore;\r\n    this.setState({\r\n      selectedStore: i,\r\n      previousStore: prevStore,\r\n      showPage: 'Main',\r\n    });\r\n  }\r\n  render(){\r\n    const {selectedStore} = this.state;          \r\n    let banner = null;       \r\n    if (selectedStore!=='0'){\r\n      const storeInfo = StoreDetails(selectedStore);      \r\n      banner = (\r\n        <div className=\"bannerHead\">\r\n          <div className=\"bannerName\">{storeInfo.name}</div>\r\n          <div className=\"bannerHours\">{storeInfo.hours}</div>\r\n          <div className=\"bannerChange\" onClick={() => this.updateLocation()}>Change Location</div>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <>\r\n      <div className=\"mainPageArea\">\r\n      <header>\r\n        <img src={logo} alt=\"Logo\" onClick={() => this.updateLocation()}></img>\r\n        <h1>Slice</h1>\r\n        {banner}\r\n      </header>      \r\n      <ShowSearchMenu data={this.state} refIn={this.input} confirmLocation={this.handleStoreSelect} onClick={this.handleStoreSearch}/>\r\n      <DisplayStoreSelect data={this.state} updateLocation={this.updateLocation} onClick={this.handleStoreSelect}/>\r\n      <DisplayMainArea data={this.state} />\r\n      </div>\r\n      </>     \r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './css/index.css';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'jquery/dist/jquery.js';\r\nimport 'popper.js/dist/umd/popper.js';\r\nimport 'bootstrap/dist/js/bootstrap.js';\r\nimport UserLocation from './components/ZipLookUp'\r\n\r\n\r\n/*LocationFactory().then(obj => {\r\n  console.log('Inside factory object');*/\r\n  const obj = LocationFactory();\r\n  ReactDOM.render(\r\n  <React.StrictMode>\r\n    <App userLocObj={obj}/>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n  );\r\n/*})*/\r\nfunction LocationFactory(loc){\r\n  let x = new UserLocation();\r\n  return x.initLoc();\r\n}\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import * as opencage from 'opencage-api-client';\r\nimport {lookup} from 'zipcodes';\r\n\r\nclass UserLocation {\r\n  #geoIsResolved = false;\r\n  #userEntLocation = '';\r\n  #geoZip = '';\r\n  #geoLocString = '';\r\n  #userZip = '';\r\n  #userLocString = '';\r\n  #userLocSet = false;  \r\n\r\n  get geoLoc() {\r\n    return this.#geoZip;\r\n  }\r\n  get geoString(){\r\n    return this.#geoLocString;\r\n  }\r\n  get userLoc() {\r\n    if(this.#userLocSet){\r\n      return this.#userZip;      \r\n    } else if(this.#geoIsResolved) {\r\n      return this.#geoZip;\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n  get userString() {\r\n    if(this.#userLocSet){\r\n      return this.#userLocString;      \r\n    } else if(this.#geoIsResolved) {\r\n      return this.#geoLocString;\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n  get userEntry() {\r\n    return this.#userEntLocation;\r\n  }\r\n  set userEntry(value){\r\n    let rZ = '';\r\n    let rS = '';\r\n    let lSet = false;\r\n    let uel = value.trim();\r\n    rS = this.zipLookUp(uel); \r\n    if(!isNaN(value) && value.length === 5){\r\n      /*is a zip code*/\r\n      rS = this.zipLookUp(uel);      \r\n      if(rS!=='Invalid ZipCode'){\r\n        lSet = true;\r\n        rZ = uel;\r\n      } else {\r\n        rZ = '';\r\n        rS = '';\r\n        uel = '';\r\n        lSet = false;\r\n      }\r\n    } else {\r\n      /*invalid entry*/\r\n      rZ = '';\r\n      rS = '';\r\n      uel = '';\r\n      lSet = false;\r\n    }\r\n    this.#userEntLocation = uel;\r\n    this.#userZip = rZ;\r\n    this.#userLocString = rS;\r\n    this.#userLocSet = lSet;\r\n  }\r\n  zipLookUp(value){\r\n    const l = lookup(value);\r\n    if(typeof l !==\"undefined\"){\r\n      const c = l.city;\r\n      const s = l.state;\r\n      return c + ', ' + s;\r\n    }\r\n    return 'Invalid ZipCode';        \r\n  }  \r\n  initLoc() {\r\n    /*Factory method commented out for testing\r\n    return (this.handleGeoLocation()\r\n      .then(data => {\r\n        console.log('Setting geo zip property: ' + data)\r\n        this.#geoZip = data;\r\n        if(data!==null||data!==''){\r\n          this.#geoIsResolved = true;\r\n          const l = lookup(data);\r\n          const c = l.city;\r\n          const s = l.state;\r\n          this.#geoLocString = c + ', ' + s;\r\n        }\r\n        return this;\r\n      })\r\n    )*/\r\n      //geo location hard coded for testing\r\n      const data = '22060';    \r\n      const l = lookup(data);\r\n      const c = l.city;\r\n      const s = l.state;\r\n      this.#geoLocString = c + ', ' + s;\r\n      this.#geoZip = data;\r\n      this.#geoIsResolved = true;\r\n    \r\n    return this;\r\n       \r\n  }  \r\n  resolveGeoLoc(){\r\n    let response = '';  \r\n    let locOpt = {\r\n      timeout: 5000,\r\n      maximumAge: 0\r\n    };\r\n    let query = '';\r\n    console.log('Resolving Location...');\r\n    return (new Promise((resolve, reject) => {\r\n      if(\"geolocation\" in navigator) {\r\n        navigator.geolocation.getCurrentPosition((position) => {\r\n          console.log('Browser location resolved');\r\n          let lat = position.coords.latitude;\r\n          let long = position.coords.longitude;\r\n          query = lat + ', ' + long;\r\n          resolve(query);\r\n        },(error) => {\r\n          console.log('Error getting location');\r\n          console.error(\"Error Code = \" + error.code + \" - \" + error.message);\r\n          response = 'GeoFail';\r\n          resolve(response);  \r\n        },locOpt);\r\n      }\r\n    }, ()=>{\r\n      console.log(\"Promise reject\");\r\n      response = 'NoGeo';    \r\n      }\r\n    ).then(query => {   \r\n      let newQ = query+'';\r\n      console.log('Passing location to API: ' + newQ);\r\n      if(newQ!=='') {\r\n        return this.resolveOpenCage(newQ)       \r\n      } else {\r\n        console.log('Query is empty');\r\n        response = 'NoGeo';\r\n        return response;\r\n      }\r\n    }))        \r\n  }\r\n  handleGeoLocation() {    \r\n    let results = '';\r\n    console.log('Entering location handler');  \r\n    const newGeoLoc = this.resolveGeoLoc();    \r\n    const r = newGeoLoc.then(data => {\r\n      if(data==='NoGeo') {\r\n        results = 'NoGeo';\r\n      } else if(data==='GeoFail') {\r\n        results = '';        \r\n      } else {        \r\n        const x2 = data.lastIndexOf(\" \");       \r\n        const newRes = data.substring(x2+1);\r\n        results = newRes;        \r\n      }      \r\n      return results;}\r\n    )\r\n    .catch(err => {\r\n      console.error(err);    \r\n    });\r\n    return r;\r\n  }\r\n  resolveOpenCage(query) {\r\n    const apiKey = 'af85575e9f8d4e71a402d1962a1361d1';\r\n    const addressFormatter = require('@fragaria/address-formatter');\r\n    let response = '';\r\n    console.log('Querying API');\r\n    const p = opencage.geocode({ q: query, key: apiKey, pretty: '1', no_annotations: '1'})\r\n      .then(geoData => {                              \r\n        const data = geoData.results;          \r\n        const formatted = addressFormatter.format(data[0].components, {output: 'array'});\r\n        response = formatted[2];\r\n        return response;\r\n      })    \r\n  return(p.then(response => {\r\n    return response;}))\r\n  }\r\n}\r\n\r\nexport default UserLocation;\r\n","module.exports = __webpack_public_path__ + \"static/media/glutenfree.15f41c40.svg\";"],"sourceRoot":""}