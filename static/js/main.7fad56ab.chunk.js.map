{"version":3,"sources":["components/PizzaOrder.jsx","components/AppElements/Util/ProgressBar.jsx","components/AppElements/Util/PizzaCartIcon.jsx","resources/SliceLogo.png","components/Header.jsx","resources/GeoIcon.jsx","components/StoreLoc.jsx","resources/pizza-main-area.jpg","components/AppElements/Elements/MenuToolTip.jsx","components/AppElements/Elements/RowTitle.jsx","components/AppElements/Buttons/ChangeHalfButton.jsx","components/AppElements/Buttons/ChangeQtyBtn.jsx","components/AppElements/Buttons/NavButton.jsx","components/AppElements/Elements/RowElement.jsx","components/AppElements/Elements/TableDisplay.jsx","components/AppElements/Elements/PopupMenu.jsx","components/ConfirmationPage.jsx","components/MainArea.jsx","components/chatbot/common/rgba.js","components/chatbot/common/animations.jsx","components/chatbot/steps_components/common/LoadingStep.jsx","components/chatbot/steps_components/common/Loading.jsx","components/chatbot/steps_components/custom/CustomStepContainer.jsx","components/chatbot/steps_components/custom/CustomStep.jsx","components/chatbot/steps_components/options/Option.jsx","components/chatbot/theme.js","components/chatbot/steps_components/options/OptionElement.jsx","components/chatbot/steps_components/options/Options.jsx","components/chatbot/steps_components/options/OptionsStepContainer.jsx","components/chatbot/steps_components/options/OptionsStep.jsx","components/chatbot/steps_components/text/Bubble.jsx","components/chatbot/steps_components/text/Image.jsx","components/chatbot/steps_components/text/ImageContainer.jsx","components/chatbot/steps_components/text/TextStepContainer.jsx","components/chatbot/steps_components/text/TextStep.jsx","components/chatbot/schemas/userSchema.js","components/chatbot/schemas/textSchema.js","components/chatbot/schemas/optionsSchema.js","components/chatbot/schemas/customSchema.js","components/chatbot/schemas/updateSchema.js","components/chatbot/schemas/schema.js","components/chatbot/components/ChatBotContainer.jsx","components/chatbot/components/Content.jsx","components/chatbot/components/Header.jsx","components/chatbot/components/HeaderTitle.jsx","components/chatbot/components/HeaderIcon.jsx","components/chatbot/components/FloatButton.jsx","components/chatbot/components/FloatingIcon.jsx","components/chatbot/components/Footer.jsx","components/chatbot/components/Input.jsx","components/chatbot/components/SubmitButton.jsx","components/chatbot/recognition.js","components/chatbot/icons/ChatIcon.jsx","components/chatbot/icons/CloseIcon.jsx","components/chatbot/icons/SubmitIcon.jsx","components/chatbot/icons/MicIcon.jsx","components/chatbot/utils.js","components/chatbot/speechSynthesis.js","components/chatbot/ChatBot.jsx","components/chatbot/storage.js","components/AppElements/Steps/MenuSteps/PizzaType.jsx","components/AppElements/Steps/MenuSteps/Sauce.jsx","components/AppElements/Steps/MenuSteps/Topping.jsx","components/AppElements/Steps/MenuStep.jsx","components/AppElements/Steps/CancelStep.jsx","components/AppElements/Steps/EditItemStep.jsx","components/AppElements/Steps/RemoveStep.jsx","components/AppElements/Steps/ReviewOrderStep.jsx","components/AppElements/Steps/ReviewPizzaStep.jsx","components/AppElements/Steps/SpecialStep.jsx","components/SliceBot/BotStep.jsx","components/SliceBot/BotDisplay.jsx","components/AppElements/Util/BotAlertMsg.jsx","components/AppReducer.jsx","components/Pizza.jsx","components/itemMenu.jsx","components/App.js","serviceWorker.js","index.js","components/Location.jsx"],"names":["PizzaOrder","UpdateOrder","props","item","orderName","name","pizza","PizzaID","lastID","pizzas","current","all","id","i","findIndex","p","splice","concat","SavePizzaToOrder","this","val","length","map","cnt","ProgressBar","arrowRight","width","height","viewBox","className","fill","xmlns","fillRule","d","role","style","href","onClick","console","log","React","Component","StyledBadge","withStyles","theme","badge","right","top","border","palette","background","paper","padding","Badge","HtmlTooltip","tooltip","backgroundColor","color","maxWidth","fontSize","typography","pxToRem","Tooltip","getModalStyle","display","alignItems","justifyContent","useStyles","makeStyles","position","boxShadow","shadows","spacing","PizzaCartIcon","classes","useState","modalStyle","open","setOpen","body","title","Fragment","Typography","arrow","placement","enterDelay","IconButton","badgeContent","Modal","onClose","Header","updateAppState","locObj","curStore","curStoreInfo","isStore","storeName","storeHours","hours","storeChange","src","logo","alt","type","values","GeoIcon","preserveAspectRatio","version","transform","defaultProps","undefined","StoreSearchMenu","MakeGeoDialog","updateLoc","MakeUserDialog","forwardedRef","MakePrevDialog","hasErr","geoErr","capStr","geoErrMsg","geoZip","clsStr","ret","userErr","userErrMsg","onKeyDown","event","key","preventDefault","ref","prev","prevStoreID","storeInfo","StoreSelectMenu","searchLoc","storeList","storeID","store","sel","dist","StoreLoc","loc","resetLoc","obj","method","usrStr","value","storeSearch","storeLoc","searchStep","setState","locMode","appValues","mode","state","bind","prevProps","show","MenuToolTip","caption","description","replace","component","StaticTitle","rowTitle","root","ChangeHalfButton","half","setHalf","icon","PizzaHalfIcon","x","changeHalf","trans","path","SvgIcon","margin","IncreaseQty","itemTypeName","QtyButton","ariaLabel","changeQty","DecreaseQty","iconButton","CustomNavButton","textTransform","lineHeight","borderColor","fontFamily","join","Button","NavButton","isDisabled","hasOwnProperty","variant","disabled","flexGrow","textAlign","text","secondary","createRowString","stringVal","hasHalf","qty","StaticRowElement","typeCaption","itemID","captions","hasQty","maxQty","setQty","handleMenuSelect","des","cap","qtyDescription","halfDescription","qtyCaption","halfCaption","displayName","displayCaption","halfDisplay","Grid","xs","lowerQty","lowQtyDescription","raiseQty","highQtyDescription","container","direction","justify","StyledTableCell","head","common","black","white","TableCell","StyledTableRow","action","hover","TableRow","flex","paddingLeft","paddingRight","marginBottom","table","minWidth","SingleTableDisplay","selected","setSelected","pizzaId","selByPizza","rows","pizzaInfo","menuList","pizzaItems","items","itemMsg","hasSpecInst","specinst","itemSum","itemSummary","specInt","SummaryRows","PizzaInfo","menu","stepList","summaryMsg","Toolbar","align","TableContainer","Paper","Table","size","TableHead","TableBody","row","index","isItemSelected","newSelect","retSel","handleSelect","handleClick","tabIndex","scope","MultiTableDisplay","pizzaList","handlePizzaSelect","toolBar","lentgh","pInfo","PopupMenu","anchorEl","setAnchorEl","itemTypeCaption","itemList","initialLabel","menuToolTipCaption","menuToolTipDescription","label","menuItems","menuItem","MenuItem","handleMenuItemSelect","button","currentTarget","Menu","keepMounted","Boolean","ConfirmationPage","botState","getBotState","order","locName","locHours","oSum","OrderSummary","msg","MainArea","showPage","passThroughProps","pizzaImage","dispComp","hexToRgb","hex","m","r","g","b","result","exec","parseInt","rgba","alpha","loading","keyframes","scale","invalidInput","LoadingStep","styled","span","delay","Loading","ChatStepContainer","div","CustomStep","renderComponent","step","steps","previousStep","triggerNextStep","cloneElement","speak","previousValue","waitAction","setTimeout","rendered","CustomStepContainer","Option","li","headerBgColor","headerFontColor","headerFontSize","botBubbleColor","botFontColor","userBubbleColor","userFontColor","OptionElement","defaultTheme","Options","ul","OptionsStepContainer","OptionsStep","onOptionClick","renderOption","option","bubbleOptionStyle","user","options","Object","keys","Bubble","isFirst","isLast","showAvatar","Image","img","ImageContainer","TextStepContainer","TextStep","getMessage","message","renderMessage","isComponentWatingUser","avatarStyle","bubbleStyle","hideBotAvatar","hideUserAvatar","avatar","botName","imageAltText","types","required","schema","parse","parser","userSchema","textSchema","optionsSchema","customSchema","update","Error","stringify","updateSchema","len","indexOf","error","checkInvalidIds","triggerId","trigger","optionsTriggerIds","filter","optionTriggerId","ChatBotContainer","floating","floatingStyle","bottom","left","opened","transformOrigin","Content","hideInput","HeaderTitle","h2","HeaderIcon","a","FloatButton","FloatingIcon","Footer","Input","input","invalid","css","hasButton","SubmitButton","speaking","instance","noop","Recognition","onChange","onEnd","onStop","lang","inputValue","onResult","setup","interimTranscript","finalTranscript","recognition","stop","force","resultIndex","results","isFinal","transcript","onFinal","nextState","assign","isSupported","webkitSpeechRecognition","window","continuous","interimResults","onresult","onend","start","ChatIcon","CloseIcon","SubmitIcon","points","MicIcon","isMobile","test","navigator","userAgent","isString","speakFn","speechSynthesisOptions","voice","enable","SpeechSynthesisUtterance","speechSynthesis","metadata","getSpeakText","ChatBot","onNodeInserted","target","enableSmoothScroll","supportsScrollBehavior","scroll","scrollHeight","behavior","scrollTop","onResize","content","onRecognitionChange","onRecognitionEnd","handleSubmitButton","onRecognitionStop","onValueChange","getTriggeredStep","generateRenderedStepsById","getStepMessage","previousSteps","lastStepIndex","data","enableMobileAutoFocus","defaultUserSettings","renderedSteps","currentStep","isEnd","end","hideExtraControl","handleEnd","o","pop","push","userMsg","stepMsg","botStepMsg","hasUserMessage","preserveMsg","defaultBotSettings","isSpecialStep","botAvatar","thisStepMsg","nextS","settings","out","nextStep","updateStep","Random","focus","cache","cacheName","cachedData","localStorage","setItem","storage","isInputValueEmpty","isLastPosition","stepIndex","s","asMessage","isFirstPosition","lastStep","handleKeyPress","submitUserMessage","recognitionEnable","validator","checkInvalidInput","blur","toString","inputInvalid","toggleChatBot","toggleFloating","renderStep","customStyle","setContentRef","element","setInputRef","botDelay","customDelay","userAvatar","chatSteps","userDelay","defaultCustomSettings","firstStep","recognitionLang","document","documentElement","addEventListener","params","callback","unParsedCache","getItem","renderedStep","removeItem","info","removeEventListener","customControl","contentStyle","extraControl","controlStyle","floatingIcon","footerStyle","headerComponent","headerTitle","hideHeader","hideSubmitButton","inputStyle","placeholder","inputAttributes","recognitionPlaceholder","submitButtonStyle","header","inputPlaceholder","inputAttributesOverride","onKeyPress","PizzaTypeStep","initialized","setInitialzied","updateItem","stepData","setSize","crust","setCrust","ini","initial","crusts","sizes","menuType","selMenuType","selItem","c","initializeSelection","displayElements","doUpdate","chk","SauceStep","sauce","setSauce","sauces","find","q","selName","qtyVal","ToppingStep","setItems","forEach","e","itemRows","h","qVal","hVal","itemVal","DisplayComponents","PizzaType","Sauce","topping","Topping","NewOrderStep","updateData","botStepData","prevStepValue","stepValues","botStepKey","prevState","triggerNext","nextProps","StepComponents","menuStep","botData","StepObject","GetPizzaItems","triggerRet","botDisplay","botMsg","StepDisplay","t","displayType","stepID","getStepNum","stepName","getStep","incItem","status","checkAlert","GetUserMsg","PizzaItems","cancel","handleNext","editItem","remove","reviewOrder","editID","editIsDisabled","editCapt","remCapt","ordername","reviewPizza","newOrder","changeName","retVal","usermsg","isuser","onTrigger","specialInstructions","prevStepID","BotStep","bot","substring","genericStep","pizzabuilder","StepComponent","SliceBot","completeOrder","showBot","marginTop","BotAlertMsg","handleClose","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","Pizza","ItemMenu","arr","Items","optList","stepNum","outOfScope","n","GetStepProper","sID","cID","itemValues","inc","v","vHalf","vQty","hID","sort","cheeses","meats","nonmeats","f","opt","allergy","checkStep","properU","properL","next","App","currentPizza","l","alert","botDisp","GetPizzaByID","page","updateProps","newO","SpecialInstructions","inst","prevDisplay","prevBot","ChangeLoc","NewOrder","NewPizza","Order","createRef","PizzaCount","location","hostname","match","initLoc","resolveGeoLoc","isResolved","entryErr","errMsg","zip","cityState","previous","search","didChange","z","trim","cs","lookup","city","searchErr","res","err","userZip","userCityState","geoCityState","stores","then","locOpt","timeout","maximumAge","Promise","resolve","reject","geolocation","getCurrentPosition","lat","coords","latitude","long","longitude","tZip","lookupByCoords","code","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.7fad56ab.chunk.js","sourcesContent":["class PizzaOrder {\n  constructor() {\n    this.orderName= false;\n    this.pizzas= [];    \n    this.lastID = 0;                        \n  }\n  get NewOrder(){\n    const n = new PizzaOrder();\n    return n;\n  }\n  UpdateOrder = (props) => {\n    switch(props.item){\n      case 'name':\n        this.orderName = props.name;\n        break;      \n      case 'savePizza':\n        const pizza = props.pizza;\n        const id = pizza.PizzaID\n        if(id===0){\n          pizza.PizzaID = this.lastID+1;\n          this.lastID++;\n        }\n        this.pizzas = SavePizzaToOrder(props.pizza, this.pizzas);\n        break;      \n      case 'removePizza':\n        if(props.id!==0){           \n          const i = this.pizzas.findIndex(p => p.PizzaID === props.id);    \n          if(i!==-1){\n            this.pizzas.splice(i,1);      \n          }\n        }  \n        break;\n      default:        \n    }\n    return this;\n  }\n  GetPizzaByID(id){\n    const i = this.pizzas.findIndex(p => p.PizzaID === id);\n    if(i!==-1){\n      return this.pizzas[i];      \n    } else {\n      return false;\n    }\n  }\n  set ordername(val){\n    this.orderName = val;\n  }   \n  get ordername(){\n    return this.orderName;\n  }      \n  get PizzaCount(){\n    return this.pizzas.length;\n  }  \n  get PizzaList(){\n    return this.pizzas.map((p)=> {return p.PizzaID})\n  }\n  get OrderSummary(){\n    return {name:this.orderName, pizzas:this.pizzas, cnt:this.pizzas.length}\n  }\n}\nexport default PizzaOrder;\n\nfunction SavePizzaToOrder(current, all){    \n  if(current===null) return null;      \n  const id = current.PizzaID;\n  const i = all.findIndex(p => p.PizzaID === id);\n  if(i!==-1){\n    //Override existing pizza\n    return all.splice(i,1,current);\n  }\n  else {    \n    return all.concat(current);\n  }  \n}","import React from 'react';\n\nclass ProgressBar extends React.Component{\nrender(){\n  const arrowRight = <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-arrow-right\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path fillRule=\"evenodd\" d=\"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z\"/>\n   </svg>;\n  return (\n    <div className=\"container\">\n        <div className=\"progress\">\n          <div className=\"progress-bar bg-warning progress-bar-striped progress-bar-animated\" role=\"progressbar\" style={{width: '25%'}} aria-valuenow=\"25\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n        </div>\n        <ul className=\"nav justify-content-center info\">\n          <li className=\"nav-item\">\n            <a className=\"nav-link disabled\" href=\"/pizza-chatbot\">Search for location</a>\n          </li>\n          {arrowRight}\n          <li className=\"nav-item\">\n            <a className=\"nav-link disabled\" href=\"/pizza-chatbot\" onClick={()=> console.log('Hello!')}>Select location</a>\n          </li>\n          {arrowRight}\n          <li className=\"nav-item\">\n            <a className=\"nav-link disabled\" href=\"/slicebot\">Order pizzas</a>\n          </li>\n          {arrowRight}\n          <li className=\"nav-item\">\n            <a className=\"nav-link disabled\" href=\"/review\">Review order</a>\n          </li>\n          {arrowRight}\n          <li className=\"nav-item\">\n            <a className=\"nav-link disabled\" href=\"/summary\">Payment \t&amp; Confirmation</a>\n          </li>\n        </ul>\n        </div>\n  )\n}\n}\nexport default ProgressBar;","import React from 'react';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport {Badge,Modal,Typography,Tooltip,IconButton} from '@material-ui/core/';\nimport { withStyles,makeStyles } from '@material-ui/core/styles';\n\nconst StyledBadge = withStyles((theme) => ({\n  badge: {\n    right: -3,\n    top: 0,\n    border: `2px solid ${theme.palette.background.paper}`,\n    padding: '0 4px',\n  },\n}))(Badge);\nconst HtmlTooltip = withStyles((theme) => ({\n  tooltip: {\n    backgroundColor: '#f5f5f9',\n    color: 'rgba(0, 0, 0, 0.87)',\n    maxWidth: 400,\n    fontSize: theme.typography.pxToRem(12),\n    border: '1px solid #dadde9',\n  },\n}))(Tooltip);\nfunction getModalStyle() {\n  return {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  };\n}\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: 'absolute',\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\nfunction PizzaCartIcon(props){\n  const cnt = props.cnt;\n  const classes = useStyles();  \n  const [modalStyle] = React.useState(getModalStyle);\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const body = (\n    <div style={modalStyle} className={classes.paper}>\n      <h2 id=\"simple-modal-title\">Cart</h2>\n      <p id=\"simple-modal-description\">\n        Your cart is empty.\n      </p>\n      <PizzaCartIcon />\n    </div>\n  );  \n  return (\n    <>\n    <HtmlTooltip title={\n        <React.Fragment><Typography color=\"inherit\">Pizza Cart</Typography>Click here to view your pizza cart</React.Fragment>}\n        arrow placement=\"bottom-end\" enterDelay={100}>\n      <IconButton aria-label=\"cart\">\n        <StyledBadge badgeContent={cnt} color=\"secondary\">\n          <ShoppingCartIcon onClick={handleOpen}/>\n        </StyledBadge>\n      </IconButton>\n    </HtmlTooltip>\n    <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n      >\n        {body}\n      </Modal>\n      </>\n  )\n}\nexport default PizzaCartIcon;","export default \"data:image/png;base64,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\"","import React from 'react';\nimport ProgressBar from './AppElements/Util/ProgressBar';\nimport PizzaCartIcon from './AppElements/Util/PizzaCartIcon';\nimport logo from '../resources/SliceLogo.png';\n\nclass Header extends React.Component {  \n  render(){    \n    const updateAppState = this.props.updateAppState;\n    const locObj = this.props.locObj;\n    const cnt = this.props.cnt;\n    const curStore = locObj.curStoreInfo;\n    const isStore = curStore.isStore;              \n    const storeName = curStore.name;\n    const storeHours = isStore?curStore.hours:null;\n    const storeChange = isStore?'Change Location':null;\n      \n    return (\n      <header>\n        <a href=\"/pizza-chatbot\"><img src={logo} alt=\"Logo\"></img>\n        <h1>Slice</h1></a>\n        <PizzaCartIcon cnt={cnt} />\n        <div className=\"bannerHead\">\n          <div className=\"bannerName\">{storeName}</div>\n          <div className=\"bannerHours\">{storeHours}</div>\n          <div className=\"bannerChange\" onClick={() => {return updateAppState({type:'location', values:{type:'change'}})}}>{storeChange}</div>\n        </div>\n        <ProgressBar/>                \n      </header>\n    );\n  } \n}\nexport default Header;","\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction GeoIcon({className, fill, viewBox}) {\n  return (\n    <svg width=\"15%\" height=\"15%\" viewBox={viewBox} className={className} preserveAspectRatio=\"xMidYMid meet\" version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g fill={fill} transform=\"translate(0.000000,670.000000) scale(0.100000,-0.100000)\">\n      <path d=\"M2847 6654 c-931 -135 -1617 -925 -1617 -1862 0 -583 266 -1292 776 -2069 283 -432 655 -901 1014 -1280 l88 -92 84 87 c409 422 845 984 1150 1482 378 617 586 1166 638 1679 100 1004 -599 1904 -1595 2052 -155 23 -391 24 -538 3z m506 -898 c170 -44 321 -132 452 -265 118 -120 204 -269 246 -428 32 -119 37 -320 11 -445 -33 -160 -105 -306 -211 -431 -297 -350 -799 -447 -1199 -230 -234 126 -399 330 -479 590 -25 81 -27 102 -27 263 -1 154 2 184 22 255 111 383 416 653 808 715 97 15 267 4 377 -24z\"/>\n      <path d=\"M1699 2095 c-888 -178 -1471 -496 -1574 -859 -13 -42 -16 -84 -13 -147 4 -78 9 -97 46 -172 121 -244 442 -456 947 -623 412 -136 861 -220 1430 -266 242 -20 979 -17 1215 5 561 52 974 131 1365 261 516 172 838 387 957 642 43 92 50 219 18 314 -114 340 -639 639 -1426 814 -183 40 -343 70 -348 65 -11 -14 -186 -261 -186 -264 0 -1 24 -5 53 -9 92 -12 389 -75 494 -105 302 -87 526 -204 598 -313 38 -58 45 -130 17 -184 -147 -285 -1046 -484 -2187 -484 -1017 0 -1877 167 -2124 412 -56 56 -73 90 -73 149 1 84 48 146 175 229 162 107 430 197 789 265 106 20 203 39 215 41 20 4 14 15 -70 134 -84 118 -95 130 -122 129 -16 0 -105 -15 -196 -34z\"/>\n    </g>\n    </svg>\n  );\n}\nGeoIcon.propTypes= {\n  className: PropTypes.string,\n  fill: PropTypes.string,\n  viewBox: PropTypes.string,\n};\nGeoIcon.defaultProps = {\n  className: undefined,\n  fill: \"#000000\",\n  viewBox: \"0 0 620.000000 670.000000\",\n};\nexport default GeoIcon","import React from 'react';\n//import {Route,Redirect} from 'react-router-dom';\nimport GeoIcon from '../resources/GeoIcon.jsx';\nimport '../css/StoreLoc.css';\n\nclass StoreLoc extends React.Component {\n  constructor(props){\n    super(props);    \n    const mode = this.props.locObj===undefined?'':this.props.locObj.searchStep\n    this.state = {\n      locMode:mode,           \n    };\n    this.updateLoc = this.updateLoc.bind(this);   \n  }\n  componentDidUpdate(prevProps){\n    if(this.props.locObj!==prevProps.locObj){\n      this.setState({     \n        locMode:this.props.locObj.searchStep,              \n      });\n    }\n  }\n  updateLoc = (p)=>{\n    const loc = this.props.locObj\n    const values = {type:'loc', locObj:null};\n    switch(p.type){\n      case 'reset':\n        loc.resetLoc();\n        \n        break;\n      case 'search':\n        const obj = {method: p.values,\n          usrStr: p.values==='User Entry'?this.props.forwardedRef.current.value:''};\n        loc.storeSearch = obj;\n        break;\n      case 'select':\n        loc.storeLoc = p.values;\n      break;\n      default:\n    }\n    values.locObj = loc;\n    values.type = loc.searchStep;\n    this.setState({locMode:loc.searchStep}, ()=> {\n      this.props.updateAppState({type:'location',values:{appValues:values}})\n    });\n  }  \n  render(){    \n    const show= (type)=>{\n      switch(type){\n        case 'search':\n          return <StoreSearchMenu locObj={this.props.locObj} forwardedRef={this.props.forwardedRef} updateLoc={(p)=>{return this.updateLoc(p)}}/>\n        case 'select':\n          return (/*<><Redirect to=\"/pizza-chatbot/locations\" /><Route path=\"/pizza-chatbot/locations\" component={() =>*/ \n          <StoreSelectMenu locObj={this.props.locObj} updateLoc={(p)=>{return this.updateLoc(p)}}/>\n          /*}}/></>*/)\n        default:\n          return null;\n      }\n    }    \n    return(\n      <>{show(this.state.locMode)}</>\n    )\n  }\n}\n\nfunction StoreSearchMenu(props) {\n  const locObj = props.locObj;\n  return (\n    <>\n    <div className=\"searchPage\">\n    <div className=\"searchGreeting\">Find your Slice</div>\n    <div className=\"srchGrtCaption\">Available Menu Items, Special Offers, and Pricing can vary by location.</div>\n    <div className=\"searchContentWrapper\">\n    <div className=\"searchBox\">\n      <div className=\"searchBoxBanner\">Find Locations</div>\n      <div className=\"searchOptions\">\n        <MakeGeoDialog locObj={locObj} updateLoc={props.updateLoc}/>\n        <MakeUserDialog locObj={locObj} updateLoc={props.updateLoc} forwardedRef={props.forwardedRef} />\n      </div>\n    </div>              \n      <MakePrevDialog locObj={locObj} updateLoc={props.updateLoc}/>\n    </div>\n    </div> \n    </>\n  );\n}\nfunction MakeGeoDialog(props) {\n  const locObj = props.locObj;\n  const hasErr = locObj.geoErr;\n  const capStr = hasErr?locObj.geoErrMsg:'Locations near ' + locObj.geoZip;    \n  const clsStr = hasErr?\"geoSearchFail\": \"geoSearchBtn\";  \n  const ret = {type:'search', values:'Geo Locate'};\n  return (\n    <div className=\"geoSearchArea\">\n      <button className={clsStr} onClick={() => props.updateLoc(ret)}>\n        <GeoIcon fill=\"#000000\" className=\"geoSearchIcon\"/>\n        <div className=\"geoSearchBtnCapt\">{capStr}</div>\n      </button>\n    </div>\n  );\n}\nfunction MakeUserDialog(props) {\n  const locObj = props.locObj;\n  const hasErr = locObj.userErr;\n  const capStr = hasErr?locObj.userErrMsg:null;    \n  const ret = {type:'search', values:'User Entry'};\n  return (\n    <>\n    <div className=\"userSearchArea\">\n    <div className=\"userSearchLabel\">Enter a Zip Code</div>\n    <form className=\"searchForm\" onKeyDown={(event, i) => {\n      if(event.key === 'Enter') {\n        props.updateLoc(ret); \n        event.preventDefault();}}}>\n      <input className=\"userInputString\" type=\"text\" ref={props.forwardedRef}/>\n      {capStr}\n    </form>\n      <button className=\"userSearchBtn\" type=\"button\" onClick={() => props.updateLoc(ret)}>\n      Submit</button>\n    </div>\n    </>\n  );\n}\nfunction MakePrevDialog(props) {\n  const locObj = props.locObj;\n  const prev = locObj.prevStoreID;              \n  if (prev==='0'){\n    return null;\n  }\n  const ret = {type:'select', values:prev};\n  const storeInfo = locObj.curStoreInfo;    \n  return(\n    <>\n    <div className=\"searchOrPrev\">Or</div>\n    <div className=\"prevLocBox\">    \n      <div className=\"prevLocBanner\">Keep this location</div>        \n      <div className=\"prevLocName\">{storeInfo.name}</div>\n      <div className=\"prevLocHours\">{storeInfo.hours}</div>\n      <button className=\"prevLocConfirm\" onClick={() => props.updateLoc(ret)}>Select</button>\n    </div>\n    </>\n  );\n}\nfunction StoreSelectMenu(props){\n  const locObj = props.locObj;  \n  const searchLoc = locObj.searchLoc;    \n  const storeIDs = ['1','2','3'];\n  const ret = {type:'reset', values:false};\n  const storeList = storeIDs.map((storeID) => {\n    const store = locObj.storeInfo(storeID);\n    const sel = {type:'select', values:storeID};\n    return (\n      <li key={storeID} className=\"resultElement\"> \n        <div className=\"store\">\n        <div className=\"storeAddress\">{store.name}</div>\n        <div className=\"storeDetails\">Store is {store.hours}, and is located {store.dist} miles away</div>\n        </div>\n        <div>\n        <button className=\"selectBtn\" onClick={() => {\n          props.updateLoc(sel)\n          }}>Select</button> \n        </div>\n      </li> \n      );\n    });\n  return (\n    <>\n    <div className=\"storeSelect\">\n    <div className=\"storeSelectBanner\">\n      <h2>Results</h2>\n      <div className=\"resultsCapt\">Showing results near: {searchLoc}</div>\n      <div className=\"resultsChange\" onClick={() => props.updateLoc(ret)}>Change Location</div>\n      </div>\n      <ul className=\"resultsList\">\n        {storeList}\n      </ul>\n    </div>\n    </>\n  );  \n}\nexport default StoreLoc;","export default __webpack_public_path__ + \"static/media/pizza-main-area.90296f53.jpg\";","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { withStyles} from '@material-ui/core/styles';\n\nconst HtmlTooltip = withStyles((theme) => ({\n  tooltip: {\n    backgroundColor: '#f5f5f9',\n    color: 'rgba(0, 0, 0, 0.87)',\n    maxWidth: 400,\n    fontSize: theme.typography.pxToRem(12),\n    border: '1px solid #dadde9',\n  },\n}))(Tooltip);\n\nexport default class MenuToolTip extends React.Component{  \n  render(){\n    const caption = this.props.caption;\n    const description = this.props.description?this.props.description:'';\n    description.replace(\"{i}\",this.props.caption);\n    return (\n    <HtmlTooltip \n      title={\n        <React.Fragment>\n          <Typography color=\"inherit\">\n            {caption}\n          </Typography>\n            {description}\n        </React.Fragment>}\n      arrow placement=\"bottom-end\" enterDelay={1000}>      \n      {this.props.component}\n    </HtmlTooltip>\n    )\n  }  \n}","import React from 'react';\nimport MenuToolTip from './MenuToolTip'\n\nexport function StaticTitle(props){\n  return(\n    <div className=\"rowTitle\">\n      <MenuToolTip caption={props.rowTitle} description={props.description} component={<div>{props.rowTitle}</div>}/>\n    </div>\n  )  \n}","import React, {useState} from 'react'\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MenuToolTip from '../Elements/MenuToolTip';\nimport IconButton from '@material-ui/core/IconButton';\n\nconst useStyles = makeStyles ({\n  root:{\n    color:\"black\",\n  }\n});\n\nexport default function ChangeHalfButton(props){\n  const [half, setHalf] = useState(2);\n  const classes = useStyles();\n  \n  const handleClick = (event)=>{\n    const x = (half+1)>3?1:half+1;\n    setHalf(x);\n    props.changeHalf(x);\n  }\n  const icon = <PizzaHalfIcon half={half}/>;\n\n  const component = <IconButton aria-label=\"half-button\" classes={{root:classes.root}} onClick={handleClick}>{icon}</IconButton>\n  return (\n    <MenuToolTip caption={props.caption} description={props.description} component={component}/>\n  )\n}\n\nfunction PizzaHalfIcon(props){  \n  const half = props.half;\n  const rot = half!==2?((half-1)*90):0;\n  const trans = `rotate(${rot} 12 12)`;\n  const path = half!==2?<path  d=\"M12 2A10 10 0 0 0 2 12A10 10 0 0 0 12 22A10 10 0 0 0 22 12A10 10 0 0 0 12 2M12 4A8 8 0 0 1 20 12A8 8 0 0 1 12 20V4Z\"\n        transform={trans} />:<path d=\"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\" />;\n  return <SvgIcon>{path}</SvgIcon>\n}","import AddCircleIcon from '@material-ui/icons/AddCircle';\nimport RemoveCircleIcon from '@material-ui/icons/RemoveCircle';\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuToolTip from '../Elements/MenuToolTip';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n      \n\n    },\n  },\n}));\n\nexport function IncreaseQty(props){\n  const icon = <AddCircleIcon/>\n  const ariaLabel ='increase-qty';\n  const caption = `Add more ${props.itemTypeName}`;\n  const val = 1\n  return <QtyButton ariaLabel={ariaLabel} caption={caption} description={props.description} icon={icon} value={val} onClick={(p)=>{props.changeQty(p)}}/>\n}\nexport function DecreaseQty(props){\n  const icon = <RemoveCircleIcon/>  \n  const ariaLabel ='decrease-qty';\n  const caption = `Add less ${props.itemTypeName}`;\n  const val  =-1\n  return <QtyButton ariaLabel={ariaLabel} caption={caption} description={props.description} icon={icon} value={val} onClick={(p)=>{props.changeQty(p)}}/>\n}\nfunction QtyButton(props){\n  const classes = useStyles();\n  const val = props.value;\n  const iconButton = <IconButton aria-label={props.ariaLabel} onClick={()=>{return props.onClick(val)}}>{props.icon}</IconButton>\n  return (\n    <div className={classes.root}>        \n      <MenuToolTip caption={props.caption} description={props.description} component={iconButton}/>     \n    </div>\n  );\n}","import React from 'react';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nconst CustomNavButton = withStyles({\n  root: {\n    boxShadow: 'none',\n    textTransform: 'none',\n    fontSize: 16,\n    padding: '6px 12px',\n    border: '1px solid',\n    lineHeight: 1.5,\n    backgroundColor: '#0063cc',\n    borderColor: '#0063cc',\n    fontFamily: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Roboto',\n      '\"Helvetica Neue\"',\n      'Arial',\n      'sans-serif',\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"',\n    ].join(','),\n    '&:hover': {\n      backgroundColor: '#0069d9',\n      borderColor: '#0062cc',\n      boxShadow: 'none',\n    },\n    '&:active': {\n      boxShadow: 'none',\n      backgroundColor: '#0062cc',\n      borderColor: '#005cbf',\n    },\n    '&:focus': {\n      boxShadow: '0 0 0 0.2rem rgba(0,123,255,.5)',\n    },\n  },\n})(Button);\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(1),\n  },\n}));\n\nexport function NavButton(props){\n  const classes = useStyles();\n  const isDisabled = props.hasOwnProperty('isDisabled')?props.isDisabled:false;\n  return (\n    <CustomNavButton variant=\"contained\" color=\"primary\" disabled={isDisabled} className={classes.margin} onClick={props.onClick}>\n      {props.caption}\n    </CustomNavButton>\n  )\n}\n","import React from 'react';\nimport MenuToolTip from './MenuToolTip';\nimport {ChangeHalfButton, IncreaseQty, DecreaseQty} from '../Buttons/index'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width:'100%',\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n}));\nfunction createRowString(stringVal){\n  if(stringVal===null||stringVal===undefined){\n    return false;\n  }\n  const hasHalf = stringVal.hasOwnProperty('half');\n  const hasQty = stringVal.hasOwnProperty('qty');\n  return {\n    half:hasHalf?stringVal.half:'',\n    qty:hasHalf?stringVal.qty:'',\n  }\n}\nexport function StaticRowElement(props){\n  const classes = useStyles();\n  const {typeCaption,itemID,sel,description,captions,hasHalf,hasQty} = props;\n  const [maxQty] = React.useState(hasQty?sel.maxQty:2);\n  const [qty, setQty] = React.useState(hasQty?sel.qty:2);\n  const [half,setHalf] = React.useState(hasHalf?sel.half:2);  \n  const handleMenuSelect = props.handleMenuSelect;\n  const name = description.name;\n  const des = itemID!=='0'?createRowString(description):false;\n  const cap = itemID!=='0'?createRowString(captions):false;\n  const qtyDescription = `${des?des.qty:''} `;\n  const halfDescription = `${des?des.half:''}`;\n  const qtyCaption = `${cap?(cap.qty.replace('{i}',name)):name}`;\n  const halfCaption = `${cap?(cap.half.replace('{i}',qtyCaption)):qtyCaption}`\n  const displayName = `${halfDescription!==''?`(${halfDescription}) `:''}${qtyDescription}${name}`;\n  const displayCaption = halfCaption;\n  const changeHalf = (val)=>{    \n    setHalf(val);\n    handleMenuSelect({itemID:itemID, type:'half', value:`${val}`});\n  }\n  const changeQty = (val)=>{\n    setQty(qty+val);\n    handleMenuSelect({itemID:itemID, type:'qty', value:`${qty+val}`});\n  }\n  const halfDisplay = hasHalf?\n    <Grid item xs={1}>\n      <ChangeHalfButton caption={props.halfCaption} description={props.halfDescription} changeHalf={(p)=>{changeHalf(p)}}/>\n    </Grid>:null;\n  const lowerQty = hasQty?\n    <Grid item xs={1}>\n      <DecreaseQty itemTypeName={name} disabled={qty===0} description={props.lowQtyDescription} changeQty={(p)=>{changeQty(p)}}/>\n    </Grid>:null;\n  const raiseQty = hasQty?\n    <Grid item xs={1}>\n      <IncreaseQty itemTypeName={name} disabled={qty===maxQty} description={props.highQtyDescription} changeQty={(p)=>{changeQty(p)}}/>\n    </Grid>:null;\n\n  return (\n    <div className={classes.root}>      \n      <Grid container spacing={2}           \n            direction=\"row\"\n            justify=\"flex-start\"\n            alignItems=\"center\"\n            width='100%'\n          >        \n        {halfDisplay}            \n        {lowerQty}              \n      <Grid item xs={10}>              \n          <MenuToolTip caption={`Your current selection for ${typeCaption} is:`} description={displayCaption} component={<div className=\"menuItemDisplay\">{displayName}</div>}/>\n      </Grid>      \n        {raiseQty}           \n      </Grid>            \n    </div>\n  )\n}","import React from 'react';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nconst StyledTableCell = withStyles((theme) => ({\n  head: {\n    backgroundColor: theme.palette.common.black,\n    color: theme.palette.common.white,\n  },\n  body: {\n    fontSize: 14,\n  },\n}))(TableCell);\n\nconst StyledTableRow = withStyles((theme) => ({\n  root: {\n    '&:nth-of-type(odd)': {\n      backgroundColor: theme.palette.action.hover,\n    },\n  },\n}))(TableRow);\nconst useStyles = makeStyles((theme)=> ({\n  root: {\n    width: '100%',\n  },\n  title: {\n    flex: '1 1 100%',\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n    \n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    maxWidth: 650,\n    minWidth: 400,\n\n  },\n}));\n\nexport function SingleTableDisplay(props){\n  const classes = useStyles();\n  const [selected, setSelected] = React.useState(0);\n  const pizzaId = props.id;\n  const selByPizza = pizzaId!==0;\n  const pInfo = props.pizza.PizzaInfo;\n  const list = props.menu.stepList  \n  const rows = SummaryRows(pInfo,list);\n  const handleClick = (event, name) => {\n    const isSelected = selected===name;\n    let newSelect  = ''\n    if(isSelected){\n      newSelect = ''\n    } else {\n      newSelect=name;\n    }\n    const retSel = selByPizza?pizzaId:name\n    props.handleSelect(retSel);\n    setSelected(newSelect)\n  };\n  \n  const isSelected = (name) => name===selected;\n  const summaryMsg = `Pizza${pizzaId>0?` ${pizzaId} `:' '}Summary`  \n  return (\n    <div className={classes.root}>\n    <Toolbar className={classes.title}>\n      <Typography className={classes.title}  align=\"center\" variant=\"h6\" id=\"tableTitle\" component=\"div\">\n        {summaryMsg}\n      </Typography>\n    </Toolbar>\n    <TableContainer component={Paper}>\n      <Table className={classes.table} size={'small'} aria-label=\"customized table\">\n        <TableHead>\n          <TableRow>\n            <StyledTableCell>Item</StyledTableCell>\n            <StyledTableCell align=\"center\">Item Summary</StyledTableCell>            \n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {rows.map((row, index) => {\n            const isItemSelected = isSelected(row.name);\n            return (\n            <StyledTableRow hover\n                      onClick={(event) => handleClick(event, row.name)}                     \n                      tabIndex={-1}\n                      key={row.name}\n                      selected={isItemSelected}\n                    >\n              <StyledTableCell component=\"th\" scope=\"row\" padding=\"none\">\n                {row.name}\n              </StyledTableCell>\n              <StyledTableCell align=\"left\">{row.itemSummary}</StyledTableCell>    \n            </StyledTableRow>\n          )})}\n        </TableBody>\n      </Table>\n    </TableContainer>\n    </div>\n  );\n}\nexport function MultiTableDisplay(props){\n  const name = props.name;\n  const summaryMsg = `Order summary for ${name}`;\n  const classes = useStyles();\n  const [selected, setSelected] = React.useState(0);\n  const pizzaList = props.pizzas;  \n  const handleSelect = (id) => {\n    const isSelected = selected===id;\n    let newSelect  = ''\n    if(isSelected){\n      newSelect = ''\n    } else {\n      newSelect =id;\n    }\n    props.handlePizzaSelect(newSelect);\n    setSelected(newSelect)\n  };  \n  const isSelected = (id) => id===selected;\n  return (\n    <div className={classes.root}>\n    <Toolbar className={classes.toolBar}>\n      <Typography className={classes.title}  align=\"center\" variant=\"h6\" id=\"tableTitle\" component=\"div\">\n        {summaryMsg}\n      </Typography>\n    </Toolbar>\n    {pizzaList!==undefined&&pizzaList!==null&&pizzaList.lentgh>0&&pizzaList.map((p)=>{\n      const pInfo = p.PizzaInfo;\n      const isItemSelected = isSelected(pInfo.id);\n      return (\n        <TableContainer component={Paper}>\n          <Table className={classes.table} size={'small'} aria-label=\"customized table\" selected={isItemSelected} onClick={handleSelect(pInfo.id)}>\n            <SingleTableDisplay pizza={p} menu={props.menu} handleSelect={handleSelect} />\n          </Table>\n        </TableContainer>\n      )      \n    })}\n    </div>\n  )\n}\nfunction SummaryRows(pizzaInfo, menuList){  \n  const pizzaItems = pizzaInfo.items;\n  const itemMsg = pizzaInfo.itemMsg;\n  const hasSpecInst = pizzaInfo.specinst?true:false;\n  const list = menuList;\n  const rows = list.map((i)=>{\n    const chk = pizzaItems.hasOwnProperty(i.val)&&itemMsg.hasOwnProperty(i.val);\n    const itemSum = chk?itemMsg[i.val]:`No ${i.name} selected`    \n    const item = {name:i.name, itemSummary:itemSum}\n    return item;\n  })\n  const specInt = hasSpecInst?pizzaInfo.specinst:'No special instructions';\n  return rows.concat({name:'Instructions',itemSummary:specInt})\n}","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuToolTip from './MenuToolTip';\n/* \nPopupMenu expects props={    \n  type = content.type\n  itemTypeCaption = content.caption\n  selected = initialState(type)\n  items:(list): = content.list {\n    id:(string),    \n    caption:(string),\n    description:(string),\n    isDisabled:(boolean),\n  }\n}\n*/\nexport function PopupMenu(props) {\n  const hasPriorSelection = props.hasOwnProperty('selected')&&props.selected!==null&&props.selected!==0;\n  const sel = hasPriorSelection?props.selected:0;\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [selected, setSelected] = React.useState(sel);\n\n  \n  \n  const itemTypeCaption = props.itemTypeCaption;\n  const itemList = props.items;\n  const initialLabel = `No ${itemTypeCaption} selected`;\n  const noneItem = {id:'0', caption:`None`, description:`No ${itemTypeCaption} selected`}\n  \n  const menuList = [noneItem].concat(itemList);\n  const menuToolTipCaption = `${itemTypeCaption} menu`;\n  const menuToolTipDescription = `Click here to select a ${itemTypeCaption} for this pizza`;\n  \n  const label = selected===0?initialLabel:menuList[selected].caption;  \n  \n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleMenuItemSelect = (event, index) => {\n    setSelected(index);\n    setAnchorEl(null);\n    props.handleMenuSelect({type:props.type, value:menuList[index].id});\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const menuItems = menuList.map((item,index)=>{\n    const menuItem = <MenuItem key={`${props.type}-${item.id}`} selected={index === selected} onClick={(event) => handleMenuItemSelect(event, index)}>\n                        {item.caption}\n                      </MenuItem>\n    return <MenuToolTip caption={item.caption} description={item.description} component={menuItem}/>\n  })\n\n  const button = props.isDisabled?<Button disabled variant=\"outline\">{label}</Button>:\n    <Button aria-controls=\"popup-menu-select\" aria-haspopup=\"true\" onClick={handleClick}>\n      {label}\n    </Button>; \n  return (\n    <div>\n      <MenuToolTip caption={menuToolTipCaption} description={menuToolTipDescription} component={button}/>\n      <Menu\n        id=\"popup-menu-select\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        {menuItems}         \n      </Menu>\n    </div>\n  );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {MultiTableDisplay} from './AppElements/Elements/index';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: '75%',\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n}));\n\nexport default function ConfirmationPage(props){  \n  const classes = useStyles();\n  const botState = props.getBotState();\n  const order = botState.order;\n  const menu = botState.menu;\n  const loc = botState.loc.curStoreInfo;\n  const locName = loc.storeName;\n  const locHours = loc.storeHours\n  const oSum = order.OrderSummary;\n  const handlePizzaSelect = () =>{\n\n  }\n  const msg = `${oSum.name}, your order of ${oSum.cnt} pizzas will be available for pickup in 30 minutes at the ${locName}.\\nPlease ensure you arrive before closing time. As a reminder the store hours for this location are ${locHours}.\\nThank You.`;\n  return (\n    <div className={classes.root}>\n    <div className={classes.paper}>{msg}</div>\n      <MultiTableDisplay name={oSum.name} pizzas={oSum.pizzas} menu={menu} handlePizzaSelect={handlePizzaSelect}/>\n    </div>\n  )\n}\n\n    \n","import React from 'react';\nimport StoreLoc from './StoreLoc';\nimport pizzaImage from '../resources/pizza-main-area.jpg';\nimport ConfirmationPage from './ConfirmationPage';\nimport '../css/DisplayMainArea.css';\n\nclass MainArea extends React.Component{  \n    \n  render(){\n    const {showPage, ...passThroughProps} = this.props;\n    const dispComp = (type)=>{      \n      switch(type){\n        case 'Location':\n          return <StoreLoc {...passThroughProps}/>;\n        case 'NonMenuStep':\n          return <div className=\"bgImage-container\"><img className=\"pizza-bgImg img-fluid\" src={pizzaImage} alt=\"pizzaImage\"/></div>;\n        case 'Main':\n          return <div className=\"bgImage-container\"><img className=\"pizza-bgImg img-fluid\" src={pizzaImage} alt=\"pizzaImage\"/></div>;\n        case 'Final':\n          return <ConfirmationPage {...passThroughProps}/>;      \n        case 'Menu':\n          return <div className=\"bgImage-container\"><img className=\"pizza-bgImg img-fluid\" src={pizzaImage} alt=\"pizzaImage\" /></div>\n        default:\n          return <div className=\"bgImage-container\"><img className=\"pizza-bgImg img-fluid\" src={pizzaImage} alt=\"pizzaImage\"/></div>\n      }\n    }\n    const dis =showPage===null?'Location':showPage;     \n    return (dispComp(dis));\n  }\n}\nexport default MainArea;","const hexToRgb = hex => {\n  // http://stackoverflow.com/a/5624139\n  const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  hex = hex.replace(shorthandRegex, (m, r, g, b) => r + r + g + g + b + b);\n\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result\n    ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16)\n      }\n    : null;\n};\n\n/**\n * Transform hex+alpha to rgba\n * @param {string} hex hex color code\n * @param {number} [alpha=1]\n * @returns {string} the rgba as string\n */\nconst rgba = (hex, alpha = 1) => {\n  const color = hexToRgb(hex);\n  return `rgba(${color.r}, ${color.g}, ${color.b}, ${alpha})`;\n};\n\nexport default rgba;\n","import { keyframes } from 'styled-components';\nimport rgba from './rgba';\n\nconst loading = keyframes`\n  0% { opacity: .2; }\n  20% { opacity: 1; }\n  100% { opacity: .2; }\n`;\n\nconst scale = keyframes`\n  100% { transform: scale(1); }\n`;\n\nconst invalidInput = keyframes`\n  25% { transform: rotate(-1deg); }\n  100% { transform: rotate(1deg); }\n`;\n\nconst pulse = color => keyframes`\n  0% { box-shadow: 0 0 0 0 ${rgba(color, 0.4)}; }\n  70% { box-shadow: 0 0 0 10px ${rgba(color, 0)}; }\n  100% { box-shadow: 0 0 0 0 ${rgba(color, 0)}; }\n`;\n\nexport { loading, scale, invalidInput, pulse };\n","import styled from 'styled-components';\nimport { loading } from '../../common/animations';\n\nconst LoadingStep = styled.span`\n  animation: ${loading} 1.4s infinite both;\n  animation-delay: ${props => props.delay};\n`;\n\nexport default LoadingStep;\n","import React from 'react';\nimport LoadingStep from './LoadingStep';\n\nconst Loading = () => (\n  <span className=\"rsc-loading\">\n    <LoadingStep delay=\"0s\">.</LoadingStep>\n    <LoadingStep delay=\".2s\">.</LoadingStep>\n    <LoadingStep delay=\".4s\">.</LoadingStep>\n  </span>\n);\n\nexport default Loading;\n","import styled from 'styled-components';\n\nconst ChatStepContainer = styled.div`\n  background: #fff;\n  border-radius: 5px;\n  box-shadow: rgba(0, 0, 0, 0.15) 0px 1px 2px 0px;\n  display: flex;\n  justify-content: center;\n  margin: 0 6px 10px 6px;\n  padding: 16px;\n`;\n\nexport default ChatStepContainer;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from '../common/Loading';\nimport CustomStepContainer from './CustomStepContainer';\n\nclass CustomStep extends Component {\n  state = {\n    loading: true\n  };\n\n  componentDidMount() {\n    const { speak, step, previousValue, triggerNextStep } = this.props;\n    const { delay, waitAction } = step;\n\n    setTimeout(() => {\n      this.setState({ loading: false }, () => {\n        if (!waitAction && !step.rendered) {\n          triggerNextStep();\n        }\n        speak(step, previousValue);\n      });\n    }, delay);\n  }\n\n  renderComponent = () => {\n    const { step, steps, previousStep, triggerNextStep } = this.props;\n    const { component } = step;\n\n    return React.cloneElement(component, {\n      step,\n      steps,\n      previousStep,\n      triggerNextStep\n    });\n  };\n\n  render() {\n    const { loading } = this.state;\n    const { style } = this.props;\n\n    return (\n      <CustomStepContainer className=\"rsc-cs\" style={style}>\n        {loading ? <Loading /> : this.renderComponent()}\n      </CustomStepContainer>\n    );\n  }\n}\n\nCustomStep.propTypes = {\n  previousStep: PropTypes.objectOf(PropTypes.any).isRequired,\n  previousValue: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.bool,\n    PropTypes.number,\n    PropTypes.object,\n    PropTypes.array\n  ]),\n  speak: PropTypes.func,\n  step: PropTypes.objectOf(PropTypes.any).isRequired,\n  steps: PropTypes.objectOf(PropTypes.any).isRequired,\n  style: PropTypes.objectOf(PropTypes.any).isRequired,\n  triggerNextStep: PropTypes.func.isRequired\n};\nCustomStep.defaultProps = {\n  previousValue: '',\n  speak: () => {}\n};\n\nexport default CustomStep;\n","import styled from 'styled-components';\nimport { scale } from '../../common/animations';\n\nconst Option = styled.li`\n  animation: ${scale} 0.3s ease forwards;\n  cursor: pointer;\n  display: inline-block;\n  margin: 2px;\n  transform: scale(0);\n`;\n\nexport default Option;\n","export default {\n  background: '#f5f8fb',\n  fontFamily: 'monospace',\n  headerBgColor: '#6e48aa',\n  headerFontColor: '#fff',\n  headerFontSize: '16px',\n  botBubbleColor: '#6E48AA',\n  botFontColor: '#fff',\n  userBubbleColor: '#fff',\n  userFontColor: '#4a4a4a'\n};\n","import styled from 'styled-components';\nimport defaultTheme from '../../theme';\n\nconst OptionElement = styled.button`\n  background: ${({ theme }) => theme.botBubbleColor};\n  border: 0;\n  border-radius: 22px;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.15);\n  color: ${({ theme }) => theme.botFontColor};\n  display: inline-block;\n  font-size: 14px;\n  padding: 12px;\n\n  &:hover {\n    opacity: 0.7;\n  }\n  &:active,\n  &:hover:focus {\n    outline:none;\n  }\n`;\n\nOptionElement.defaultProps = {\n  theme: defaultTheme\n};\n\nexport default OptionElement;\n","import styled from 'styled-components';\n\nconst Options = styled.ul`\n  margin: 2px 0 12px 0;\n  padding: 0 6px;\n`;\n\nexport default Options;\n","import styled from 'styled-components';\n\nconst OptionsStepContainer = styled.div``;\n\nexport default OptionsStepContainer;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Option from './Option';\nimport OptionElement from './OptionElement';\nimport Options from './Options';\nimport OptionsStepContainer from './OptionsStepContainer';\n\nclass OptionsStep extends Component {\n  onOptionClick = ({ value }) => {\n    const { triggerNextStep } = this.props;\n\n    triggerNextStep({ value });\n  };\n\n  renderOption = option => {\n    const { bubbleOptionStyle, step } = this.props;\n    const { user } = step;\n    const { value, label } = option;\n\n    return (\n      <Option key={value} className=\"rsc-os-option\">\n        <OptionElement\n          className=\"rsc-os-option-element\"\n          style={bubbleOptionStyle}\n          user={user}\n          onClick={() => this.onOptionClick({ value })}\n        >\n          {label}\n        </OptionElement>\n      </Option>\n    );\n  };\n\n  render() {\n    const { step } = this.props;\n    const { options } = step;\n\n    return (\n      <OptionsStepContainer className=\"rsc-os\">\n        <Options className=\"rsc-os-options\">\n          {Object.keys(options).map(key => options[key]).map(this.renderOption)}\n        </Options>\n      </OptionsStepContainer>\n    );\n  }\n}\n\nOptionsStep.propTypes = {\n  bubbleOptionStyle: PropTypes.objectOf(PropTypes.any).isRequired,\n  step: PropTypes.objectOf(PropTypes.any).isRequired,\n  triggerNextStep: PropTypes.func.isRequired\n};\n\nexport default OptionsStep;\n","import styled from 'styled-components';\nimport { scale } from '../../common/animations';\nimport defaultTheme from '../../theme';\n\nconst Bubble = styled.div`\n  animation: ${scale} 0.3s ease forwards;\n  background: ${props => (props.user ? props.theme.userBubbleColor : props.theme.botBubbleColor)};\n  border-radius: ${props => {\n    const { isFirst, isLast, user } = props;\n\n    if (!isFirst && !isLast) {\n      return user ? '18px 0 0 18px' : '0 18px 18px 0px';\n    }\n\n    if (!isFirst && isLast) {\n      return user ? '18px 0 18px 18px' : '0 18px 18px 18px';\n    }\n\n    return props.user ? '18px 18px 0 18px' : '18px 18px 18px 0';\n  }};\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.15);\n  color: ${props => (props.user ? props.theme.userFontColor : props.theme.botFontColor)};\n  display: inline-block;\n  font-size: 14px;\n  max-width: 50%;\n  margin: ${props => {\n    const { isFirst, showAvatar, user } = props;\n\n    if (!isFirst && showAvatar) {\n      return user ? '-8px 46px 10px 0' : '-8px 0 10px 46px';\n    }\n\n    if (!isFirst && !showAvatar) {\n      return user ? '-8px 0px 10px 0' : '-8px 0 10px 0px';\n    }\n\n    return '0 0 10px 0';\n  }};\n  overflow: hidden;\n  position: relative;\n  padding: 12px;\n  transform: scale(0);\n  transform-origin: ${props => {\n    const { isFirst, user } = props;\n\n    if (isFirst) {\n      return user ? 'bottom right' : 'bottom left';\n    }\n\n    return user ? 'top right' : 'top left';\n  }};\n`;\n\nBubble.defaultProps = {\n  theme: defaultTheme\n};\n\nexport default Bubble;\n","import styled from 'styled-components';\nimport { scale } from '../../common/animations';\n\nconst Image = styled.img`\n  animation: ${scale} 0.3s ease forwards;\n  border-radius: ${props => (props.user ? '50% 50% 50% 0' : '50% 50% 0 50%')};\n  box-shadow: rgba(0, 0, 0, 0.15) 0px 1px 2px 0px;\n  height: 40px;\n  min-width: 40px;\n  padding: 3px;\n  transform: scale(0);\n  transform-origin: ${props => (props.user ? 'bottom left' : 'bottom right')};\n  width: 40;\n`;\n\nexport default Image;\n","import styled from 'styled-components';\n\nconst ImageContainer = styled.div`\n  display: inline-block;\n  order: ${props => (props.user ? '1' : '0')};\n  padding: 6px;\n`;\n\nexport default ImageContainer;\n","import styled from 'styled-components';\n\nconst TextStepContainer = styled.div`\n  align-items: flex-end;\n  display: flex;\n  justify-content: ${props => (props.user ? 'flex-end' : 'flex-start')};\n`;\n\nexport default TextStepContainer;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Bubble from './Bubble';\nimport Image from './Image';\nimport ImageContainer from './ImageContainer';\nimport Loading from '../common/Loading';\nimport TextStepContainer from './TextStepContainer';\n\nclass TextStep extends Component {\n  /* istanbul ignore next */\n  state = {\n    loading: true\n  };\n\n  componentDidMount() {\n    const { step, speak, previousValue, triggerNextStep } = this.props;\n    const { component, delay, waitAction } = step;\n    const isComponentWatingUser = component && waitAction;\n\n    setTimeout(() => {\n      this.setState({ loading: false }, () => {\n        if (!isComponentWatingUser && !step.rendered) {\n          triggerNextStep();\n        }\n        speak(step, previousValue);\n      });\n    }, delay);\n  }\n\n  getMessage = () => {\n    const { previousValue, step } = this.props;    \n    const { message } = step;      \n    return message ? message.replace(/{previousValue}/g, previousValue) : '';\n  };\n\n  renderMessage = () => {\n    const { step, steps, previousStep, triggerNextStep } = this.props;\n    const { component } = step;\n\n    if (component) {      \n      return React.cloneElement(component, {\n        step,\n        steps,\n        previousStep,\n        triggerNextStep\n      });\n    }    \n    return this.getMessage();\n  };\n\n  render() {\n    const {\n      step,\n      isFirst,\n      isLast,\n      avatarStyle,\n      bubbleStyle,\n      hideBotAvatar,\n      hideUserAvatar\n    } = this.props;\n    const { loading } = this.state;\n    const { avatar, user, botName } = step;\n\n    const showAvatar = user ? !hideUserAvatar : !hideBotAvatar;\n\n    const imageAltText = user ? \"Your avatar\" : `${botName}'s avatar`;\n    return (\n      <TextStepContainer className={`rsc-ts ${user ? 'rsc-ts-user' : 'rsc-ts-bot'}`} user={user}>\n        <ImageContainer className=\"rsc-ts-image-container\" user={user}>\n          {isFirst && showAvatar && (\n            <Image\n              className=\"rsc-ts-image\"\n              style={avatarStyle}\n              showAvatar={showAvatar}\n              user={user}\n              src={avatar}\n              alt={imageAltText}\n            />\n          )}\n        </ImageContainer>\n        <Bubble\n          className=\"rsc-ts-bubble\"\n          style={bubbleStyle}\n          user={user}\n          showAvatar={showAvatar}\n          isFirst={isFirst}\n          isLast={isLast}\n        >\n          {loading ? <Loading /> : this.renderMessage()}\n        </Bubble>\n      </TextStepContainer>\n    );\n  }\n}\n\nTextStep.propTypes = {\n  avatarStyle: PropTypes.objectOf(PropTypes.any).isRequired,\n  isFirst: PropTypes.bool.isRequired,\n  isLast: PropTypes.bool.isRequired,\n  bubbleStyle: PropTypes.objectOf(PropTypes.any).isRequired,\n  hideBotAvatar: PropTypes.bool.isRequired,\n  hideUserAvatar: PropTypes.bool.isRequired,\n  previousStep: PropTypes.objectOf(PropTypes.any),\n  previousValue: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.bool,\n    PropTypes.number,\n    PropTypes.object,\n    PropTypes.array\n  ]),\n  speak: PropTypes.func,\n  step: PropTypes.objectOf(PropTypes.any).isRequired,\n  steps: PropTypes.objectOf(PropTypes.any),\n  triggerNextStep: PropTypes.func.isRequired\n};\n\nTextStep.defaultProps = {\n  previousStep: {},\n  previousValue: '',\n  speak: () => {},\n  steps: {}\n};\n\nexport default TextStep;\n","export default [\n  {\n    key: 'id',\n    types: ['string', 'number'],\n    required: true\n  },\n  {\n    key: 'user',\n    types: ['boolean'],\n    required: true\n  },\n  {\n    key: 'hideExtraControl',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'trigger',\n    types: ['string', 'number', 'function'],\n    required: false\n  },\n  {\n    key: 'validator',\n    types: ['function'],\n    required: false\n  },\n  {\n    key: 'end',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'placeholder',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'inputAttributes',\n    types: ['object'],\n    required: false\n  },\n  {\n    key: 'metadata',\n    types: ['object'],\n    required: false\n  }\n];\n","export default [\n  {\n    key: 'id',\n    types: ['string', 'number'],\n    required: true\n  },\n  {\n    key: 'message',\n    types: ['string', 'function'],\n    required: true\n  },\n  {\n    key: 'avatar',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'trigger',\n    types: ['string', 'number', 'function'],\n    required: false\n  },\n  {\n    key: 'delay',\n    types: ['number'],\n    required: false\n  },\n  {\n    key: 'end',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'placeholder',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'hideInput',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'hideExtraControl',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'inputAttributes',\n    types: ['object'],\n    required: false\n  },\n  {\n    key: 'metadata',\n    types: ['object'],\n    required: false\n  }\n];\n","export default [\n  {\n    key: 'id',\n    types: ['string', 'number'],\n    required: true\n  },\n  {\n    key: 'options',\n    types: ['object'],\n    required: true\n  },\n  {\n    key: 'end',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'placeholder',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'hideInput',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'hideExtraControl',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'inputAttributes',\n    types: ['object'],\n    required: false\n  },\n  {\n    key: 'metadata',\n    types: ['object'],\n    required: false\n  }\n];\n","export default [\n  {\n    key: 'id',\n    types: ['string', 'number'],\n    required: true\n  },\n  {\n    key: 'component',\n    types: ['any'],\n    required: true\n  },\n  {\n    key: 'avatar',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'replace',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'waitAction',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'asMessage',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'trigger',\n    types: ['string', 'number', 'function'],\n    required: false\n  },\n  {\n    key: 'delay',\n    types: ['number'],\n    required: false\n  },\n  {\n    key: 'end',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'placeholder',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'hideInput',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'hideExtraControl',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'inputAttributes',\n    types: ['object'],\n    required: false\n  },\n  {\n    key: 'metadata',\n    types: ['object'],\n    required: false\n  }\n];\n","export default [\n  {\n    key: 'id',\n    types: ['string', 'number'],\n    required: true\n  },\n  {\n    key: 'update',\n    types: ['string', 'number'],\n    required: true\n  },\n  {\n    key: 'trigger',\n    types: ['string', 'number', 'function'],\n    required: true\n  },\n  {\n    key: 'placeholder',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'inputAttributes',\n    types: ['object'],\n    required: false\n  },\n  {\n    key: 'metadata',\n    types: ['object'],\n    required: false\n  }\n];\n","import userSchema from './userSchema';\nimport textSchema from './textSchema';\nimport optionsSchema from './optionsSchema';\nimport customSchema from './customSchema';\nimport updateSchema from './updateSchema';\nimport { stringify } from 'flatted/cjs';\n\nconst schema = {\n  parse(step) {\n    let parser = [];\n\n    if (step.user) {\n      parser = userSchema;\n    } else if (step.message) {\n      parser = textSchema;\n    } else if (step.options) {\n      parser = optionsSchema;\n    } else if (step.component) {\n      parser = customSchema;\n    } else if (step.update) {\n      parser = updateSchema;\n    } else {\n      throw new Error(`The step ${stringify(step)} is invalid`);\n    }\n\n    for (let i = 0, len = parser.length; i < len; i += 1) {\n      const { key, types, required } = parser[i];\n\n      if (!step[key] && required) {\n        throw new Error(`Key '${key}' is required in step ${stringify(step)}`);\n      } else if (step[key]) {\n        if (types[0] !== 'any' && types.indexOf(typeof step[key]) < 0) {\n          throw new Error(\n            `The type of '${key}' value must be ${types.join(' or ')} instead of ${typeof step[\n              key\n            ]}`\n          );\n        }\n      }\n    }\n\n    const keys = parser.map(p => p.key);\n\n    for (const key in step) {\n      if (keys.indexOf(key) < 0) {\n        console.error(`Invalid key '${key}' in step '${step.id}'`);\n        delete step[key];\n      }\n    }\n\n    return step;\n  },\n\n  checkInvalidIds(steps) {\n    for (const key in steps) {\n      const step = steps[key];\n      const triggerId = steps[key].trigger;\n\n      if (typeof triggerId !== 'function') {\n        if (step.options) {\n          const triggers = step.options.filter(option => typeof option.trigger !== 'function');\n          const optionsTriggerIds = triggers.map(option => option.trigger);\n\n          for (let i = 0, len = optionsTriggerIds.length; i < len; i += 1) {\n            const optionTriggerId = optionsTriggerIds[i];\n            if (optionTriggerId && !steps[optionTriggerId]) {\n              throw new Error(\n                `The id '${optionTriggerId}' triggered by option ${i + 1} in step '${\n                  steps[key].id\n                }' does not exist`\n              );\n            }\n          }\n        } else if (triggerId && !steps[triggerId]) {\n          throw new Error(\n            `The id '${triggerId}' triggered by step '${steps[key].id}' does not exist`\n          );\n        }\n      }\n    }\n  }\n};\n\nexport default schema;\n","import styled from 'styled-components';\nimport defaultTheme from '../theme';\n\nconst ChatBotContainer = styled.div`\n  background: ${({ theme }) => theme.background};\n  border-radius: 10px;\n  box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.15);\n  font-family: ${({ theme }) => theme.fontFamily};\n  overflow: hidden;\n  position: ${({ floating }) => (floating ? 'fixed' : 'relative')};\n  bottom: ${({ floating, floatingStyle }) =>\n    floating ? floatingStyle.bottom || '32px' : 'initial'};\n  top: ${({ floating, floatingStyle }) => (floating ? floatingStyle.top || 'initial' : 'initial')};\n  right: ${({ floating, floatingStyle }) => (floating ? floatingStyle.right || '32px' : 'initial')};\n  left: ${({ floating, floatingStyle }) =>\n    floating ? floatingStyle.left || 'initial' : 'initial'};\n  width: ${({ width }) => width};\n  height: ${({ height }) => height};\n  z-index: 999;\n  transform: ${({ opened }) => (opened ? 'scale(1)' : 'scale(0)')};\n  transform-origin: ${({ floatingStyle }) => floatingStyle.transformOrigin || 'bottom right'};\n  transition: transform 0.3s ease;\n\n  @media screen and (max-width: 568px) {\n    border-radius: ${({ floating }) => (floating ? '0' : '')};\n    bottom: 0 !important;\n    left: initial !important;\n    height: 100%;\n    right: 0 !important;\n    top: initial !important;\n    width: 100%;\n  }\n`;\n\nChatBotContainer.defaultProps = {\n  theme: defaultTheme\n};\n\nexport default ChatBotContainer;\n","import styled from 'styled-components';\n\nconst Content = styled.div`\n  height: calc(${props => props.height} - ${props => (props.hideInput ? '56px' : '112px')});\n  overflow-y: scroll;\n  margin-top: 2px;\n  padding-top: 6px;\n\n  @media screen and (max-width: 568px) {\n    height: ${props => (props.floating ? 'calc(100% - 112px)' : '')};\n  }\n`;\n\nexport default Content;\n","import styled from 'styled-components';\nimport defaultTheme from '../theme';\n\nconst Header = styled.div`\n  align-items: center;\n  background: ${({ theme }) => theme.headerBgColor};\n  color: ${({ theme }) => theme.headerFontColor};\n  display: flex;\n  fill: ${({ theme }) => theme.headerFontColor};\n  height: 56px;\n  justify-content: space-between;\n  padding: 0 10px;\n`;\n\nHeader.defaultProps = {\n  theme: defaultTheme\n};\n\nexport default Header;\n","import styled from 'styled-components';\nimport defaultTheme from '../theme';\n\nconst HeaderTitle = styled.h2`\n  margin: 0;\n  font-size: ${({ theme }) => theme.headerFontSize};\n`;\n\nHeaderTitle.defaultProps = {\n  theme: defaultTheme\n};\n\nexport default HeaderTitle;\n","import styled from 'styled-components';\n\nconst HeaderIcon = styled.a`\n  cursor: pointer;\n`;\n\nexport default HeaderIcon;\n","import styled from 'styled-components';\n\nconst FloatButton = styled.a`\n  align-items: center;\n  cursor: pointer;\n  background: ${({ theme }) => theme.headerBgColor};\n  bottom: 32px;\n  border-radius: 100%;\n  box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.15);\n  display: flex;\n  fill: ${({ theme }) => theme.headerFontColor};\n  height: 56px;\n  justify-content: center;\n  position: fixed;\n  right: 32px;\n  transform: ${props => (props.opened ? 'scale(0)' : 'scale(1)')};\n  transition: transform 0.3s ease;\n  width: 56px;\n  z-index: 999;\n`;\n\nFloatButton.defaultProps = {\n  theme: {\n    headerBgColor: '#6e48aa',\n    headerFontColor: '#fff'\n  }\n};\n\nexport default FloatButton;\n","import styled from 'styled-components';\n\nconst FloatingIcon = styled.img`\n  height: 24px;\n  width: 24px;\n`;\n\nexport default FloatingIcon;\n","import styled from 'styled-components';\n\nconst Footer = styled.div`\n  position: relative;\n`;\n\nexport default Footer;\n","import { invalidInput } from '../common/animations';\nimport styled, { css } from 'styled-components';\n\nconst Input = styled.input`\n  animation: ${props =>\n    props.invalid\n      ? css`\n          ${invalidInput} .2s ease\n        `\n      : ''};\n  border: 0;\n  border-radius: 0;\n  border-bottom-left-radius: 10px;\n  border-bottom-right-radius: 10px;\n  border-top: ${props => (props.invalid ? '0' : '1px solid #eee')};\n  box-shadow: ${props => (props.invalid ? 'inset 0 0 2px #E53935' : 'none')};\n  box-sizing: border-box;\n  color: ${props => (props.invalid ? '#E53935' : '')};\n  font-size: 16px;\n  opacity: ${props => (props.disabled && !props.invalid ? '.5' : '1')};\n  outline: none;\n  padding: ${props => (props.hasButton ? '16px 52px 16px 10px' : '16px 10px')};\n  width: 100%;\n  -webkit-appearance: none;\n\n  &:disabled {\n    background: #fff;\n  }\n\n  @media screen and (max-width: 568px) {\n    border-bottom-left-radius: ${props => (props.floating ? '0' : '10px')};\n    border-bottom-right-radius: ${props => (props.floating ? '0' : '10px')};\n  }\n`;\n\nexport default Input;\n","import styled, { css } from 'styled-components';\nimport defaultTheme from '../theme';\nimport { pulse } from '../common/animations';\n\nconst fillFunc = props => {\n  const { speaking, invalid, theme } = props;\n\n  if (speaking) {\n    return theme.headerBgColor;\n  }\n  return invalid ? '#E53935' : '#4a4a4a';\n};\n\nconst SubmitButton = styled.button`\n  background-color: transparent;\n  border: 0;\n  border-bottom-right-radius: 10px;\n  box-shadow: none;\n  cursor: ${props => (props.disabled ? 'default' : 'pointer')};\n  fill: ${fillFunc};\n  opacity: ${props => (props.disabled && !props.invalid ? '.5' : '1')};\n  outline: none;\n  padding: 14px 16px 12px 16px;\n  &:before {\n    content: '';\n    position: absolute;\n    width: 23px;\n    height: 23px;\n    border-radius: 50%;\n    animation: ${({ theme, speaking }) =>\n      speaking\n        ? css`\n            ${pulse(theme.headerBgColor)} 2s ease infinite\n          `\n        : ''};\n  }\n  &:not(:disabled):hover {\n    opacity: 0.7;\n  }\n`;\n\nSubmitButton.defaultProps = {\n  theme: defaultTheme\n};\n\nexport default SubmitButton;\n","let instance = null;\n\nconst noop = () => {};\n\nexport default class Recognition {\n  static isSupported() {\n    return 'webkitSpeechRecognition' in window;\n  }\n\n  /**\n   * Creates an instance of Recognition.\n   * @param {function} [onChange] callback on change\n   * @param {function} [onEnd]  callback on and\n   * @param {function} [onStop]  callback on stop\n   * @param {string} [lang='en'] recognition lang\n   * @memberof Recognition\n   * @constructor\n   */\n  constructor(onChange = noop, onEnd = noop, onStop = noop, lang = 'en') {\n    if (!instance) {\n      instance = this;\n    }\n    this.state = {\n      inputValue: '',\n      lang,\n      onChange,\n      onEnd,\n      onStop\n    };\n\n    this.onResult = this.onResult.bind(this);\n    this.onEnd = this.onEnd.bind(this);\n\n    this.setup();\n\n    return instance;\n  }\n\n  /**\n   * Handler for recognition change event\n   * @param {string} interimTranscript\n   * @memberof Recognition\n   * @private\n   */\n  onChange(interimTranscript) {\n    const { onChange } = this.state;\n    this.setState({\n      inputValue: interimTranscript\n    });\n    onChange(interimTranscript);\n  }\n\n  /**\n   * Handler for recognition change event when its final\n   * @param {string} finalTranscript\n   * @memberof Recognition\n   * @private\n   */\n  onFinal(finalTranscript) {\n    this.setState({\n      inputValue: finalTranscript\n    });\n    this.recognition.stop();\n  }\n\n  /**\n   * Handler for recognition end event\n   * @memberof Recognition\n   * @private\n   */\n  onEnd() {\n    const { onStop, onEnd, force } = this.state;\n    this.setState({ speaking: false });\n    if (force) {\n      onStop();\n    } else {\n      onEnd();\n    }\n  }\n\n  /**\n   * Handler for recognition result event\n   * @memberof Recognition\n   * @private\n   */\n  onResult(event) {\n    let interimTranscript = '';\n    let finalTranscript = '';\n\n    for (let i = event.resultIndex; i < event.results.length; i += 1) {\n      if (event.results[i].isFinal) {\n        finalTranscript += event.results[i][0].transcript;\n        this.onFinal(finalTranscript);\n      } else {\n        interimTranscript += event.results[i][0].transcript;\n        this.onChange(interimTranscript);\n      }\n    }\n  }\n\n  /**\n   * method for updating the instance state\n   * @param {object} nextState\n   * @memberof Recognition\n   * @private\n   */\n  setState(nextState) {\n    this.state = Object.assign({}, this.state, nextState);\n  }\n\n  /**\n   * setup the browser recognition\n   * @returns {Recognition}\n   * @memberof Recognition\n   * @public\n   */\n  setup() {\n    if (!Recognition.isSupported()) {\n      return this;\n    }\n\n    const { webkitSpeechRecognition } = window;\n\n    this.recognition = new webkitSpeechRecognition();\n    this.recognition.continuous = true;\n    this.recognition.interimResults = true;\n    this.recognition.lang = this.state.lang;\n    this.recognition.onresult = this.onResult;\n    this.recognition.onend = this.onEnd;\n    return this;\n  }\n\n  /**\n   * change the recognition lang and resetup\n   * @param {string} lang the new lang\n   * @returns {Recognition}\n   * @memberof Recognition\n   * @public\n   */\n  setLang(lang) {\n    this.setState({ lang });\n    this.setup();\n    return this;\n  }\n\n  /**\n   * toggle the recognition\n   * @returns {Recognition}\n   * @memberof Recognition\n   * @public\n   */\n  speak() {\n    if (!Recognition.isSupported()) {\n      return this;\n    }\n    const { speaking } = this.state;\n    if (!speaking) {\n      this.recognition.start();\n      this.setState({\n        speaking: true,\n        inputValue: ''\n      });\n    } else {\n      this.setState({\n        force: true\n      });\n      this.recognition.stop();\n    }\n    return this;\n  }\n}\n","import React from 'react';\n\nconst ChatIcon = () => (\n  <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z\" />\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n  </svg>\n);\n\nexport default ChatIcon;\n","import React from 'react';\n\nconst CloseIcon = () => (\n  <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path\n      d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12\n      13.41 17.59 19 19 17.59 13.41 12z\"\n    />\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n  </svg>\n);\n\nexport default CloseIcon;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst SubmitIcon = ({ size }) => (\n  <svg\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    viewBox=\"0 0 500 500\"\n  >\n    <g>\n      <g>\n        <polygon points=\"0,497.25 535.5,267.75 0,38.25 0,216.75 382.5,267.75 0,318.75\" />\n      </g>\n    </g>\n  </svg>\n);\n\nSubmitIcon.propTypes = {\n  size: PropTypes.number\n};\n\nSubmitIcon.defaultProps = {\n  size: 20\n};\n\nexport default SubmitIcon;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst MicIcon = ({ size }) => (\n  <svg\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    viewBox=\"0 0 400 400\"\n  >\n    <g>\n      <path d=\"M290.991,240.991c0,26.392-21.602,47.999-48.002,47.999h-11.529c-26.4,0-48.002-21.607-48.002-47.999V104.002   c0-26.4,21.602-48.004,48.002-48.004h11.529c26.4,0,48.002,21.604,48.002,48.004V240.991z\" />\n      <path d=\"M342.381,209.85h-8.961c-4.932,0-8.961,4.034-8.961,8.961v8.008c0,50.26-37.109,91.001-87.361,91.001   c-50.26,0-87.109-40.741-87.109-91.001v-8.008c0-4.927-4.029-8.961-8.961-8.961h-8.961c-4.924,0-8.961,4.034-8.961,8.961v8.008   c0,58.862,40.229,107.625,96.07,116.362v36.966h-34.412c-4.932,0-8.961,4.039-8.961,8.971v17.922c0,4.923,4.029,8.961,8.961,8.961   h104.688c4.926,0,8.961-4.038,8.961-8.961v-17.922c0-4.932-4.035-8.971-8.961-8.971h-34.43v-36.966   c55.889-8.729,96.32-57.5,96.32-116.362v-8.008C351.342,213.884,347.303,209.85,342.381,209.85z\" />\n    </g>\n  </svg>\n);\n\nMicIcon.propTypes = {\n  size: PropTypes.number\n};\n\nMicIcon.defaultProps = {\n  size: 20\n};\n\nexport default MicIcon;\n","export const isMobile = () => /iphone|ipod|android|ie|blackberry|fennec/i.test(navigator.userAgent);\n\nexport const isString = value => typeof value === 'string';\n","import { isString } from './utils';\n\nexport const getSpeakText = step => {\n  const { message, metadata = {} } = step;\n  if (isString(metadata.speak)) {\n    return metadata.speak;\n  }\n  if (isString(message)) {\n    return message;\n  }\n  return '';\n};\n\nexport const speakFn = speechSynthesisOptions => (step, previousValue) => {\n  const { lang, voice, enable } = speechSynthesisOptions;\n  const { user } = step;\n\n  if (!window.SpeechSynthesisUtterance || !window.speechSynthesis) {\n    return;\n  }\n  if (user) {\n    return;\n  }\n  if (!enable) {\n    return;\n  }\n  const text = getSpeakText(step);\n  const msg = new window.SpeechSynthesisUtterance();\n  msg.text = text.replace(/{previousValue}/g, previousValue);\n  msg.lang = lang;\n  msg.voice = voice;\n  window.speechSynthesis.speak(msg);\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Random from 'random-id';\nimport { CustomStep, OptionsStep, TextStep } from './steps_components';\nimport schema from './schemas/schema';\nimport * as storage from './storage';\nimport {\n  ChatBotContainer,\n  Content,\n  Header,\n  HeaderTitle,\n  HeaderIcon,\n  FloatButton,\n  FloatingIcon,\n  Footer,\n  Input,\n  SubmitButton\n} from './components';\nimport Recognition from './recognition';\nimport { ChatIcon, CloseIcon, SubmitIcon, MicIcon } from './icons';\nimport { isMobile } from './utils';\nimport { speakFn } from './speechSynthesis';\nclass ChatBot extends Component {\n  /* istanbul ignore next */\n  constructor(props) {\n    super(props);\n\n    this.content = null;\n    this.input = null;\n\n    this.supportsScrollBehavior = false;\n\n    this.setContentRef = element => {\n      this.content = element;\n    };\n\n    this.setInputRef = element => {\n      this.input = element;\n    };\n\n    this.state = {\n      renderedSteps: [],\n      previousSteps: [],\n      currentStep: {},\n      previousStep: {},\n      steps: {},\n      disabled: true,\n      opened: props.opened || !props.floating,\n      inputValue: '',\n      inputInvalid: false,\n      speaking: false,\n      recognitionEnable: props.recognitionEnable && Recognition.isSupported(),\n      defaultUserSettings: {}\n    };\n\n    this.speak = speakFn(props.speechSynthesis);\n  }\n\n  componentDidMount() {\n    const { steps } = this.props;\n    const {\n      botDelay,\n      botAvatar,\n      botName,\n      cache,\n      cacheName,\n      customDelay,\n      enableMobileAutoFocus,\n      userAvatar,\n      userDelay\n    } = this.props;\n    const chatSteps = {};\n\n    const defaultBotSettings = { delay: botDelay, avatar: botAvatar, botName };\n    const defaultUserSettings = {\n      delay: userDelay,\n      avatar: userAvatar,\n      hideInput: false,\n      hideExtraControl: false\n    };\n    const defaultCustomSettings = { delay: customDelay };\n\n    for (let i = 0, len = steps.length; i < len; i += 1) {\n      const step = steps[i];\n      let settings = {};\n\n      if (step.user) {\n        settings = defaultUserSettings;\n      } else if (step.message || step.asMessage) {\n        settings = defaultBotSettings;\n      } else if (step.component) {\n        settings = defaultCustomSettings;\n      }\n\n      chatSteps[step.id] = Object.assign({}, settings, schema.parse(step));\n    }\n\n    schema.checkInvalidIds(chatSteps);\n\n    const firstStep = steps[0];\n\n    if (firstStep.message) {\n      const { message } = firstStep;\n      firstStep.message = typeof message === 'function' ? message() : message;\n      chatSteps[firstStep.id].message = firstStep.message;\n    }\n\n    const { recognitionEnable } = this.state;\n    const { recognitionLang } = this.props;\n\n    if (recognitionEnable) {\n      this.recognition = new Recognition(\n        this.onRecognitionChange,\n        this.onRecognitionEnd,\n        this.onRecognitionStop,\n        recognitionLang\n      );\n    }\n\n    this.supportsScrollBehavior = 'scrollBehavior' in document.documentElement.style;\n\n    if (this.content) {\n      this.content.addEventListener('DOMNodeInserted', this.onNodeInserted);\n      window.addEventListener('resize', this.onResize);\n    }\n\n    const { currentStep, previousStep, previousSteps, renderedSteps } = storage.getData(\n      {\n        cacheName,\n        cache,\n        firstStep,\n        steps: chatSteps\n      },\n      () => {\n        // focus input if last step cached is a user step\n        this.setState({ disabled: false }, () => {\n          if (enableMobileAutoFocus || !isMobile()) {\n            if (this.input) {\n              this.input.focus();\n            }\n          }\n        });\n      }\n    );\n\n    this.setState({\n      currentStep,\n      defaultUserSettings,\n      previousStep,\n      previousSteps,\n      renderedSteps,\n      steps: chatSteps\n    });\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    const { opened, toggleFloating } = props;\n    if (toggleFloating !== undefined && opened !== undefined && opened !== state.opened) {\n      return {\n        ...state,\n        opened\n      };\n    }\n    return state;\n  }\n\n  componentWillUnmount() {\n    if (this.content) {\n      this.content.removeEventListener('DOMNodeInserted', this.onNodeInserted);\n      window.removeEventListener('resize', this.onResize);\n    }\n  }\n\n  onNodeInserted = event => {\n    const { currentTarget: target } = event;\n    const { enableSmoothScroll } = this.props;\n\n    if (enableSmoothScroll && this.supportsScrollBehavior) {\n      target.scroll({\n        top: target.scrollHeight,\n        left: 0,\n        behavior: 'smooth'\n      });\n    } else {\n      target.scrollTop = target.scrollHeight;\n    }\n  };\n\n  onResize = () => {\n    this.content.scrollTop = this.content.scrollHeight;\n  };\n\n  onRecognitionChange = value => {\n    this.setState({ inputValue: value });\n  };\n\n  onRecognitionEnd = () => {\n    this.setState({ speaking: false });\n    this.handleSubmitButton();\n  };\n\n  onRecognitionStop = () => {\n    this.setState({ speaking: false });\n  };\n\n  onValueChange = event => {\n    this.setState({ inputValue: event.target.value });\n  };\n\n  getTriggeredStep = (trigger, value) => {\n    const steps = this.generateRenderedStepsById();\n    return typeof trigger === 'function' ? trigger({ value, steps }) : trigger;\n  };\n\n  getStepMessage = message => {\n    const { previousSteps } = this.state;\n    const lastStepIndex = previousSteps.length > 0 ? previousSteps.length - 1 : 0;\n    const steps = this.generateRenderedStepsById();\n    const previousValue = previousSteps[lastStepIndex].value;\n    return typeof message === 'function' ? message({ previousValue, steps }) : message;\n  };\n\n  generateRenderedStepsById = () => {\n    const { previousSteps } = this.state;\n    const steps = {};\n\n    for (let i = 0, len = previousSteps.length; i < len; i += 1) {\n      const { id, message, value, metadata } = previousSteps[i];\n\n      steps[id] = {\n        id,\n        message,\n        value,\n        metadata\n      };\n    }\n\n    return steps;\n  };\n\n  triggerNextStep = data => {\n    const { enableMobileAutoFocus } = this.props;\n    const { defaultUserSettings, previousSteps, renderedSteps, steps } = this.state;\n\n    let { currentStep, previousStep } = this.state;\n    const isEnd = currentStep.end;\n    \n    if (data && data.value) {\n      currentStep.value = data.value;\n    }\n    if (data && data.hideInput) {\n      currentStep.hideInput = data.hideInput;\n    }\n    if (data && data.hideExtraControl) {\n      currentStep.hideExtraControl = data.hideExtraControl;\n    }\n    if (data && data.trigger) {\n      currentStep.trigger = this.getTriggeredStep(data.trigger, data.value);\n    }\n\n    if (isEnd) {\n      this.handleEnd();\n    } else if (currentStep.options && data) {\n      const option = currentStep.options.filter(o => o.value === data.value)[0];\n      const trigger = this.getTriggeredStep(option.trigger, currentStep.value);\n      delete currentStep.options;\n      \n      // replace choose option for user message\n      currentStep = Object.assign({}, currentStep, option, defaultUserSettings, {\n        user: true,\n        message: option.label,\n        trigger\n      });     \n      renderedSteps.pop();\n      previousSteps.pop();\n      renderedSteps.push(currentStep);\n      previousSteps.push(currentStep);\n\n      this.setState({\n        currentStep,\n        renderedSteps,\n        previousSteps\n      });\n    } else if (currentStep.trigger && currentStep.replace && data) {\n        const trigger = this.getTriggeredStep(currentStep.trigger, currentStep.value);      \n        const val = currentStep.value;\n        const msg = data.userMsg;//user message\n        const stepMsg = data.botStepMsg; //bot message\n        const hasUserMessage = data.preserveMsg;\n        const isSpecialStep = data.hasOwnProperty('isSpecialStep')?data.isSpecialStep:false;\n        const defaultBotSettings = { delay: 0, avatar: this.props.botAvatar, botName: this.props.botName };\n\n        //delete currentStep.component;  \n        if(hasUserMessage){        \n          const thisStepMsg = {id:currentStep.id, key: currentStep.key, msg: stepMsg, trigger: ''};\n          const nextS = Object.assign({}, thisStepMsg, 0, defaultBotSettings, {\n            user: false,\n            message: stepMsg,\n            rendered:true,\n            \n          }); \n          delete currentStep.component;\n          delete currentStep.trigger;\n\n          currentStep = Object.assign({}, currentStep, val, defaultUserSettings, {\n            user: true,\n            message: msg,\n            trigger: trigger,            \n          });\n          renderedSteps.pop();\n          previousSteps.pop();\n          renderedSteps.push(nextS);\n          previousSteps.push(nextS);\n          renderedSteps.push(currentStep);\n          previousSteps.push(currentStep);\n          this.setState({\n            currentStep,\n            renderedSteps,\n            previousSteps\n          });\n        }/* else if(isSpecialStep){\n          delete currentStep.component;              \n          const previousStep = this.state.previousStep;\n          const out = hasUserMessage?msg:stepMsg;\n          \n          const thisStepMsg = {id:previousStep.id, key: previousStep.key, msg: previousStep.value, trigger: \"\"};\n          const nextS = Object.assign({}, thisStepMsg, 0, defaultUserSettings, {\n            user: true,\n            message: previousStep.value,\n            rendered:isSpecialStep,           \n            \n          });\n\n          currentStep = Object.assign({}, currentStep, val, defaultBotSettings, {\n            user: hasUserMessage,\n            message: out,\n            rendered:false,\n            \n          });\n          renderedSteps.pop();\n          previousSteps.pop();\n          renderedSteps.pop();\n          previousSteps.pop();\n          renderedSteps.push(nextS);\n          previousSteps.push(nextS);\n          renderedSteps.push(currentStep);\n          previousSteps.push(currentStep);\n          \n          this.setState({\n            currentStep,\n            renderedSteps,\n            previousSteps\n          });\n        \n        } */else {\n          delete currentStep.component;\n              \n          const settings = hasUserMessage?defaultUserSettings:defaultBotSettings;\n          const out = hasUserMessage?msg:stepMsg;\n          currentStep = Object.assign({}, currentStep, val, settings, {\n            user: hasUserMessage,\n            message: out,\n            trigger,\n            \n          }); \n          \n          renderedSteps.pop();\n          previousSteps.pop();\n          renderedSteps.push(currentStep);\n          previousSteps.push(currentStep);\n          \n          this.setState({\n            currentStep,\n            renderedSteps,\n            previousSteps\n          });\n        }\n      } else if (currentStep.trigger) {      \n      \n       const trigger = this.getTriggeredStep(currentStep.trigger, currentStep.value);  \n        let nextStep = Object.assign({}, steps[trigger]);\n     \n      if (nextStep.message) {\n        nextStep.message = this.getStepMessage(nextStep.message);\n      } else if (nextStep.update) {\n        const updateStep = nextStep;\n        nextStep = Object.assign({}, steps[updateStep.update]);\n\n        if (nextStep.options) {\n          for (let i = 0, len = nextStep.options.length; i < len; i += 1) {\n            nextStep.options[i].trigger = updateStep.trigger;\n          }\n        } else {\n          nextStep.trigger = updateStep.trigger;\n        }\n      }\n\n      nextStep.key = Random(24);\n\n      previousStep = currentStep;\n      currentStep = nextStep;\n\n      this.setState({ renderedSteps, currentStep, previousStep }, () => {\n        if (nextStep.user) {\n          this.setState({ disabled: false }, () => {\n            if (enableMobileAutoFocus || !isMobile()) {\n              if (this.input) {\n                this.input.focus();\n              }\n            }\n          });\n        } else {\n          renderedSteps.push(nextStep);\n          previousSteps.push(nextStep);\n\n          this.setState({ renderedSteps, previousSteps });\n        }\n      });\n    }\n\n    const { cache, cacheName } = this.props;\n    if (cache) {\n      setTimeout(() => {\n        storage.setData(cacheName, {\n          currentStep,\n          previousStep,\n          previousSteps,\n          renderedSteps\n        });\n      }, 300);\n    }\n  };\n\n  handleEnd = () => {\n    const { handleEnd } = this.props;\n\n    if (handleEnd) {\n      const { previousSteps } = this.state;\n\n      const renderedSteps = previousSteps.map(step => {\n        const { id, message, value, metadata } = step;\n\n        return {\n          id,\n          message,\n          value,\n          metadata\n        };\n      });\n\n      const steps = [];\n\n      for (let i = 0, len = previousSteps.length; i < len; i += 1) {\n        const { id, message, value, metadata } = previousSteps[i];\n\n        steps[id] = {\n          id,\n          message,\n          value,\n          metadata\n        };\n      }\n\n      const values = previousSteps.filter(step => step.value).map(step => step.value);\n\n      handleEnd({ renderedSteps, steps, values });\n    }\n  };\n\n  isInputValueEmpty = () => {\n    const { inputValue } = this.state;\n    return !inputValue || inputValue.length === 0;\n  };\n\n  isLastPosition = step => {\n    const { renderedSteps } = this.state;\n    const { length } = renderedSteps;\n    const stepIndex = renderedSteps.map(s => s.key).indexOf(step.key);\n\n    if (length <= 1 || stepIndex + 1 === length) {\n      return true;\n    }\n\n    const nextStep = renderedSteps[stepIndex + 1];\n    const hasMessage = nextStep.message || nextStep.asMessage;\n\n    if (!hasMessage) {\n      return true;\n    }\n\n    const isLast = step.user !== nextStep.user;\n    return isLast;\n  };\n\n  isFirstPosition = step => {\n    const { renderedSteps } = this.state;\n    const stepIndex = renderedSteps.map(s => s.key).indexOf(step.key);\n\n    if (stepIndex === 0) {\n      return true;\n    }\n\n    const lastStep = renderedSteps[stepIndex - 1];\n    const hasMessage = lastStep.message || lastStep.asMessage;\n\n    if (!hasMessage) {\n      return true;\n    }\n\n    const isFirst = step.user !== lastStep.user;\n    return isFirst;\n  };\n\n  handleKeyPress = event => {\n    if (event.key === 'Enter') {\n      this.submitUserMessage();\n    }\n  };\n\n  handleSubmitButton = () => {\n    const { speaking, recognitionEnable } = this.state;\n\n    if ((this.isInputValueEmpty() || speaking) && recognitionEnable) {\n      this.recognition.speak();\n      if (!speaking) {\n        this.setState({ speaking: true });\n      }\n      return;\n    }\n\n    this.submitUserMessage();\n  };\n\n  submitUserMessage = () => {\n    const { defaultUserSettings, inputValue, previousSteps, renderedSteps } = this.state;\n    let { currentStep } = this.state;\n\n    const isInvalid = currentStep.validator && this.checkInvalidInput();\n\n    if (!isInvalid) {\n      const step = {\n        message: inputValue,\n        value: inputValue\n      };\n\n      currentStep = Object.assign({}, defaultUserSettings, currentStep, step);\n\n      renderedSteps.push(currentStep);\n      previousSteps.push(currentStep);\n\n      this.setState(\n        {\n          currentStep,\n          renderedSteps,\n          previousSteps,\n          disabled: true,\n          inputValue: ''\n        },\n        () => {\n          if (this.input) {\n            this.input.blur();\n          }\n        }\n      );\n    }\n  };\n\n  checkInvalidInput = () => {\n    const { enableMobileAutoFocus } = this.props;\n    const { currentStep, inputValue } = this.state;\n    const result = currentStep.validator(inputValue);\n    const value = inputValue;\n\n    if (typeof result !== 'boolean' || !result) {\n      this.setState(\n        {\n          inputValue: result.toString(),\n          inputInvalid: true,\n          disabled: true\n        },\n        () => {\n          setTimeout(() => {\n            this.setState(\n              {\n                inputValue: value,\n                inputInvalid: false,\n                disabled: false\n              },\n              () => {\n                if (enableMobileAutoFocus || !isMobile()) {\n                  if (this.input) {\n                    this.input.focus();\n                  }\n                }\n              }\n            );\n          }, 2000);\n        }\n      );\n\n      return true;\n    }\n\n    return false;\n  };\n\n  toggleChatBot = opened => {\n    const { toggleFloating } = this.props;\n\n    if (toggleFloating) {\n      toggleFloating({ opened });\n    } else {\n      this.setState({ opened });\n    }\n  };\n\n  renderStep = (step, index) => {\n    const { renderedSteps } = this.state;\n    const {\n      avatarStyle,\n      bubbleStyle,\n      bubbleOptionStyle,\n      customStyle,\n      hideBotAvatar,\n      hideUserAvatar,\n      speechSynthesis\n    } = this.props;\n    const { options, component, asMessage } = step;\n    const steps = this.generateRenderedStepsById();\n    const previousStep = index > 0 ? renderedSteps[index - 1] : {};\n\n    if (component && !asMessage) {\n      return (\n        <CustomStep\n          key={index}\n          speak={this.speak}\n          step={step}\n          steps={steps}\n          style={customStyle}\n          previousStep={previousStep}\n          previousValue={previousStep.value}\n          triggerNextStep={this.triggerNextStep}\n        />\n      );\n    }\n\n    if (options) {\n      return (\n        <OptionsStep\n          key={index}\n          step={step}\n          previousValue={previousStep.value}\n          triggerNextStep={this.triggerNextStep}\n          bubbleOptionStyle={bubbleOptionStyle}\n        />\n      );\n    }\n\n    return (\n      <TextStep\n        key={index}\n        step={step}\n        steps={steps}\n        speak={this.speak}\n        previousStep={previousStep}\n        previousValue={previousStep.value}\n        triggerNextStep={this.triggerNextStep}\n        avatarStyle={avatarStyle}\n        bubbleStyle={bubbleStyle}\n        hideBotAvatar={hideBotAvatar}\n        hideUserAvatar={hideUserAvatar}\n        speechSynthesis={speechSynthesis}\n        isFirst={this.isFirstPosition(step)}\n        isLast={this.isLastPosition(step)}\n      />\n    );\n  };\n\n  render() {\n    const {\n      currentStep,\n      disabled,\n      inputInvalid,\n      inputValue,\n      opened,\n      renderedSteps,\n      speaking,\n      recognitionEnable\n    } = this.state;\n    const {\n      className,\n      contentStyle,\n      extraControl,\n      controlStyle,\n      floating,\n      floatingIcon,\n      floatingStyle,\n      footerStyle,\n      headerComponent,\n      headerTitle,\n      hideHeader,\n      hideSubmitButton,\n      inputStyle,\n      placeholder,\n      inputAttributes,\n      recognitionPlaceholder,\n      style,\n      submitButtonStyle,\n      width,\n      height\n    } = this.props;\n\n    const header = headerComponent || (\n      <Header className=\"rsc-header\">\n        <HeaderTitle className=\"rsc-header-title\">{headerTitle}</HeaderTitle>\n        {floating && (\n          <HeaderIcon className=\"rsc-header-close-button\" onClick={() => this.toggleChatBot(false)}>\n            <CloseIcon />\n          </HeaderIcon>\n        )}\n      </Header>\n    );\n\n    let customControl;\n    if (extraControl !== undefined) {\n      customControl = React.cloneElement(extraControl, {\n        disabled,\n        speaking,\n        invalid: inputInvalid\n      });\n    }\n\n    const icon =\n      (this.isInputValueEmpty() || speaking) && recognitionEnable ? <MicIcon /> : <SubmitIcon />;\n\n    const inputPlaceholder = speaking\n      ? recognitionPlaceholder\n      : currentStep.placeholder || placeholder;\n\n    const inputAttributesOverride = currentStep.inputAttributes || inputAttributes;\n\n    return (\n      <div className={`rsc ${className}`}>\n        {floating && (\n          <FloatButton\n            className=\"rsc-float-button\"\n            style={floatingStyle}\n            opened={opened}\n            onClick={() => this.toggleChatBot(true)}\n          >\n            {typeof floatingIcon === 'string' ? <FloatingIcon src={floatingIcon} /> : floatingIcon}\n          </FloatButton>\n        )}\n        <ChatBotContainer\n          className=\"rsc-container\"\n          floating={floating}\n          floatingStyle={floatingStyle}\n          opened={opened}\n          style={style}\n          width={width}\n          height={height}\n        >\n          {!hideHeader && header}\n          <Content\n            className=\"rsc-content\"\n            ref={this.setContentRef}\n            floating={floating}\n            style={contentStyle}\n            height={height}\n            hideInput={currentStep.hideInput}\n          >\n            {renderedSteps.map(this.renderStep)}\n          </Content>\n          <Footer className=\"rsc-footer\" style={footerStyle}>\n            {!currentStep.hideInput && (\n              <Input\n                type=\"textarea\"\n                style={inputStyle}\n                ref={this.setInputRef}\n                className=\"rsc-input\"\n                placeholder={inputInvalid ? '' : inputPlaceholder}\n                onKeyPress={this.handleKeyPress}\n                onChange={this.onValueChange}\n                value={inputValue}\n                floating={floating}\n                invalid={inputInvalid}\n                disabled={disabled}\n                hasButton={!hideSubmitButton}\n                {...inputAttributesOverride}\n              />\n            )}\n            <div style={controlStyle} className=\"rsc-controls\">\n              {!currentStep.hideInput && !currentStep.hideExtraControl && customControl}\n              {!currentStep.hideInput && !hideSubmitButton && (\n                <SubmitButton\n                  className=\"rsc-submit-button\"\n                  style={submitButtonStyle}\n                  onClick={this.handleSubmitButton}\n                  invalid={inputInvalid}\n                  disabled={disabled}\n                  speaking={speaking}\n                >\n                  {icon}\n                </SubmitButton>\n              )}\n            </div>\n          </Footer>\n        </ChatBotContainer>\n      </div>\n    );\n  }\n}\n\nChatBot.propTypes = {\n  avatarStyle: PropTypes.objectOf(PropTypes.any),\n  botAvatar: PropTypes.string,\n  botName: PropTypes.string,\n  botDelay: PropTypes.number,\n  bubbleOptionStyle: PropTypes.objectOf(PropTypes.any),\n  bubbleStyle: PropTypes.objectOf(PropTypes.any),\n  cache: PropTypes.bool,\n  cacheName: PropTypes.string,\n  className: PropTypes.string,\n  contentStyle: PropTypes.objectOf(PropTypes.any),\n  customDelay: PropTypes.number,\n  customStyle: PropTypes.objectOf(PropTypes.any),\n  controlStyle: PropTypes.objectOf(PropTypes.any),\n  enableMobileAutoFocus: PropTypes.bool,\n  enableSmoothScroll: PropTypes.bool,\n  extraControl: PropTypes.objectOf(PropTypes.element),\n  floating: PropTypes.bool,\n  floatingIcon: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  floatingStyle: PropTypes.objectOf(PropTypes.any),\n  footerStyle: PropTypes.objectOf(PropTypes.any),\n  handleEnd: PropTypes.func,\n  headerComponent: PropTypes.element,\n  headerTitle: PropTypes.string,\n  height: PropTypes.string,\n  hideBotAvatar: PropTypes.bool,\n  hideHeader: PropTypes.bool,\n  hideSubmitButton: PropTypes.bool,\n  hideUserAvatar: PropTypes.bool,\n  inputAttributes: PropTypes.objectOf(PropTypes.any),\n  inputStyle: PropTypes.objectOf(PropTypes.any),\n  opened: PropTypes.bool,\n  toggleFloating: PropTypes.func,\n  placeholder: PropTypes.string,\n  recognitionEnable: PropTypes.bool,\n  recognitionLang: PropTypes.string,\n  recognitionPlaceholder: PropTypes.string,\n  speechSynthesis: PropTypes.shape({\n    enable: PropTypes.bool,\n    lang: PropTypes.string,\n    voice:\n      typeof window !== 'undefined'\n        ? PropTypes.instanceOf(window.SpeechSynthesisVoice)\n        : PropTypes.any\n  }),\n  steps: PropTypes.arrayOf(PropTypes.object).isRequired,\n  style: PropTypes.objectOf(PropTypes.any),\n  submitButtonStyle: PropTypes.objectOf(PropTypes.any),\n  userAvatar: PropTypes.string,\n  userDelay: PropTypes.number,\n  width: PropTypes.string\n};\n\nChatBot.defaultProps = {\n  avatarStyle: {},\n  botDelay: 1000,\n  botName: 'The bot',\n  bubbleOptionStyle: {},\n  bubbleStyle: {},\n  cache: false,\n  cacheName: 'rsc_cache',\n  className: '',\n  contentStyle: {},\n  customStyle: {},\n  controlStyle: { position: 'absolute', right: '0', top: '0' },\n  customDelay: 1000,\n  enableMobileAutoFocus: false,\n  enableSmoothScroll: false,\n  extraControl: undefined,\n  floating: false,\n  floatingIcon: <ChatIcon />,\n  floatingStyle: {},\n  footerStyle: {},\n  handleEnd: undefined,\n  headerComponent: undefined,\n  headerTitle: 'Chat',\n  height: '520px',\n  hideBotAvatar: false,\n  hideHeader: false,\n  hideSubmitButton: false,\n  hideUserAvatar: false,\n  inputStyle: {},\n  opened: undefined,\n  placeholder: 'Type the message ...',\n  inputAttributes: {},\n  recognitionEnable: false,\n  recognitionLang: 'en',\n  recognitionPlaceholder: 'Listening ...',\n  speechSynthesis: {\n    enable: false,\n    lang: 'en',\n    voice: null\n  },\n  style: {},\n  submitButtonStyle: {},\n  toggleFloating: undefined,\n  userDelay: 1000,\n  width: '350px',\n  botAvatar:\n    \"data:image/svg+xml,%3csvg version='1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3e%3cpath d='M303 70a47 47 0 1 0-70 40v84h46v-84c14-8 24-23 24-40z' fill='%2393c7ef'/%3e%3cpath d='M256 23v171h23v-84a47 47 0 0 0-23-87z' fill='%235a8bb0'/%3e%3cpath fill='%2393c7ef' d='M0 240h248v124H0z'/%3e%3cpath fill='%235a8bb0' d='M264 240h248v124H264z'/%3e%3cpath fill='%2393c7ef' d='M186 365h140v124H186z'/%3e%3cpath fill='%235a8bb0' d='M256 365h70v124h-70z'/%3e%3cpath fill='%23cce9f9' d='M47 163h419v279H47z'/%3e%3cpath fill='%2393c7ef' d='M256 163h209v279H256z'/%3e%3cpath d='M194 272a31 31 0 0 1-62 0c0-18 14-32 31-32s31 14 31 32z' fill='%233c5d76'/%3e%3cpath d='M380 272a31 31 0 0 1-62 0c0-18 14-32 31-32s31 14 31 32z' fill='%231e2e3b'/%3e%3cpath d='M186 349a70 70 0 1 0 140 0H186z' fill='%233c5d76'/%3e%3cpath d='M256 349v70c39 0 70-31 70-70h-70z' fill='%231e2e3b'/%3e%3c/svg%3e\",\n  userAvatar:\n    \"data:image/svg+xml,%3csvg viewBox='-208.5 21 100 100' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ccircle cx='-158.5' cy='71' fill='%23F5EEE5' r='50'/%3e%3cdefs%3e%3ccircle cx='-158.5' cy='71' id='a' r='50'/%3e%3c/defs%3e%3cclipPath id='b'%3e%3cuse overflow='visible' xlink:href='%23a'/%3e%3c/clipPath%3e%3cpath clip-path='url(%23b)' d='M-108.5 121v-14s-21.2-4.9-28-6.7c-2.5-.7-7-3.3-7-12V82h-30v6.3c0 8.7-4.5 11.3-7 12-6.8 1.9-28.1 7.3-28.1 6.7v14h100.1z' fill='%23E6C19C'/%3e%3cg clip-path='url(%23b)'%3e%3cdefs%3e%3cpath d='M-108.5 121v-14s-21.2-4.9-28-6.7c-2.5-.7-7-3.3-7-12V82h-30v6.3c0 8.7-4.5 11.3-7 12-6.8 1.9-28.1 7.3-28.1 6.7v14h100.1z' id='c'/%3e%3c/defs%3e%3cclipPath id='d'%3e%3cuse overflow='visible' xlink:href='%23c'/%3e%3c/clipPath%3e%3cpath clip-path='url(%23d)' d='M-158.5 100.1c12.7 0 23-18.6 23-34.4 0-16.2-10.3-24.7-23-24.7s-23 8.5-23 24.7c0 15.8 10.3 34.4 23 34.4z' fill='%23D4B08C'/%3e%3c/g%3e%3cpath d='M-158.5 96c12.7 0 23-16.3 23-31 0-15.1-10.3-23-23-23s-23 7.9-23 23c0 14.7 10.3 31 23 31z' fill='%23F2CEA5'/%3e%3c/svg%3e\"\n};\n\nexport default ChatBot;\n","import { stringify, parse } from 'flatted/cjs'\n\n/* istanbul ignore next */\nconst getData = (params, callback) => {\n  const { cacheName, cache, firstStep, steps } = params;\n  const currentStep = firstStep;\n  const renderedSteps = [steps[currentStep.id]];\n  const previousSteps = [steps[currentStep.id]];\n  const previousStep = {};\n  const unParsedCache = localStorage.getItem(cacheName);\n\n  if (cache && unParsedCache) {\n    try {\n      const data = parse(unParsedCache);\n      const lastStep = data.renderedSteps[data.renderedSteps.length - 1];\n\n      if (lastStep && lastStep.end) {\n        localStorage.removeItem(cacheName);\n      } else {\n        for (let i = 0, len = data.renderedSteps.length; i < len; i += 1) {\n          const renderedStep = data.renderedSteps[i];\n          // remove delay of cached rendered steps\n          data.renderedSteps[i].delay = 0;\n          // flag used to avoid call triggerNextStep in cached rendered steps\n          data.renderedSteps[i].rendered = true;\n\n          // an error is thrown when render a component from localStorage.\n          // So it's necessary reassing the component\n          if (renderedStep.component) {\n            const { id } = renderedStep;\n            data.renderedSteps[i].component = steps[id].component;\n          }\n        }\n\n        const { trigger, end, options } = data.currentStep;\n        const { id } = data.currentStep;\n\n        if (options) {\n          delete data.currentStep.rendered;\n        }\n\n        // add trigger function to current step\n        if (!trigger && !end) {\n          if (options) {\n            for (let i = 0; i < options.length; i += 1) {\n              data.currentStep.options[i].trigger = steps[id].options[i].trigger;\n            }\n          } else {\n            data.currentStep.trigger = steps[id].trigger;\n          }\n        }\n\n        // execute callback function to enable input if last step is\n        // waiting user type\n        if (data.currentStep.user) {\n          callback();\n        }\n\n        return data;\n      }\n    } catch (error) {\n      console.info(`Unable to parse cache named:${cacheName}. \\nThe cache where probably created with an older version of react-simple-chatbot.\\n`, error);\n    }\n  }\n\n  return {\n    currentStep,\n    previousStep,\n    previousSteps,\n    renderedSteps\n  };\n};\n\n/* istanbul ignore next */\nconst setData = (cacheName, cachedData) => {\n  const data = parse(stringify(cachedData));\n  // clean components\n  for (const key in data) {\n    for (let i = 0, len = data[key].length; i < len; i += 1) {\n      if (data[key][i].component) {\n        data[key][i].component = data[key][i].id;\n      }\n    }\n  }\n\n  localStorage.setItem(cacheName, stringify(data));\n};\n\nexport { getData, setData };\n","import React from 'react';\nimport {StaticTitle, PopupMenu} from '../../Elements/index';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width:'100%'\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n}));\nfunction initializeSelection(initial){\n  const selected = initial.selected;  \n  const isSel = selected!==null&&selected!==undefined;\n  const ret = {crusts:'0', sizes:'0'};\n  if(isSel){\n    const menuType = initial.menuType;\n    const selMenuType = selected.hasOwnProperty(menuType)?selected[menuType]:false;\n    if(selMenuType){\n      const selItem = selMenuType['1'];\n      const c = selItem.hasOwnProperty('crusts')?selItem.crusts:'0';\n      const s = selItem.hasOwnProperty('sizes')?selItem.sizes:'0';\n      ret.crusts = c;\n      ret.sizes = s;\n    }\n  } \n  return ret;\n}\nexport default function PizzaTypeStep(props){     \n  const classes = useStyles();\n  const [initialized, setInitialzied] = React.useState(false);\n  const initialSelect = (p)=>{\n    return initializeSelection(p)\n  }\n  const updateItem = props.updateItem;\n  const stepData = props.stepData;\n  \n  const [size, setSize] = React.useState('0');\n  const [crust,setCrust] =React.useState('0');\n  if(!initialized){\n    const ini = initialSelect({selected:props.selected,menuType:stepData.menuType})\n    setSize(ini.sizes);\n    setCrust(ini.crusts);\n    setInitialzied(true)\n  }\n  const handleMenuSelect = (input)=>{        \n    const chk = (p)=>{\n      const item = {crusts:crust,sizes:size};\n      const type=p.type;\n      const value = p.value;\n      item[type]=value;\n      if(type==='sizes'&&size!==value){\n        setSize(value);\n        return item;\n      } else if(type==='crusts'&&crust!==value){\n        setCrust(value);\n        return item;\n      } else {\n        return false\n      }\n    }\n    const doUpdate = chk(input);\n    if(doUpdate){\n      updateItem({item:{itemID:'1',values:doUpdate},replace:true})\n    }    \n  }  \n  const content = stepData.content.values.map((i)=>{\n    const type = i.type;\n    const caption = i.caption;\n    const description = i.description;\n    const items=stepData.content[type].map((o)=>{\n      const id = o.id;\n      const caption = o.caption;\n      const description = o.description;\n      return {id:id, caption:caption, description:description, isDisabled:false}\n    });\n    return {type:type, caption:caption, description:description, items:items};\n  })\n  //const newType ={}\n  \n  const selected = {crusts:crust, sizes:size}  \n  const displayElements = (\n    <div className={classes.root}>\n      <Grid container spacing={1}>\n        {content.map((i)=>{        \n        const type = i.type;\n        const rowTitle = i.caption;\n        const description = i.description;\n        const isDisabled = false;\n        const sel = parseInt(selected[type]);\n        return (\n          <Grid container item\n            direction=\"row\"\n            justify=\"flex-start\"\n            alignItems=\"center\"\n          >\n            <Grid item>\n              <Paper className={classes.paper}>\n                <StaticTitle rowTitle={rowTitle} description={description}/>\n              </Paper>\n            </Grid>\n            <Grid item>\n              <Paper className={classes.paper}>\n                <PopupMenu type={type} itemTypeCaption={rowTitle} selected={sel} isDisabled={isDisabled} items={i.items} handleMenuSelect={(p)=>{handleMenuSelect(p)}}/>\n              </Paper>\n            </Grid>\n        </Grid>);\n        })}\n      </Grid>        \n    </div> \n  )\n  return(   \n    <div className={classes.root}>\n      <Grid container spacing={1}>\n        {displayElements}\n      </Grid>      \n    </div>             \n  )\n}","import React from 'react';\nimport {StaticRowElement, PopupMenu} from '../../Elements/index';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width:'100%',\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n}));\nfunction initializeSelection(initial){\n  const selected = initial.selected;  \n  const isSel = selected!==null&&selected!==undefined;\n  const ret = {sauces:'0', qty:'0'};\n  if(isSel){\n    const menuType = initial.menuType;\n    const selMenuType = selected.hasOwnProperty(menuType)?selected[menuType]:false;\n    if(selMenuType){\n      const item = initial.itemList.find((i)=>(selMenuType.hasOwnProperty(i.id)));\n      if(item!==null&&item!==undefined){\n        const selItem = selMenuType[item.id];      \n        const q = selItem.hasOwnProperty('qty')?selItem.qty:'2';\n        ret.qty = q; \n        ret.sauces = item.id;\n      }     \n    }\n  } \n  return ret;\n}\nexport default function SauceStep(props){\n  const classes = useStyles();    \n  const updateItem = props.updateItem;\n  const stepData = props.stepData;\n  const type = stepData.menuType;\n  const itemTypeCaption = stepData.caption;  \n  const content = stepData.content.values.map((i)=>{\n    const id = i.id;\n    const caption = i.caption;\n    const description = i.description;    \n    return {id:id, caption:caption, description:description, isDisabled:false};\n  });\n  \n  const [sauce, setSauce] = React.useState('0');\n  const [qty, setQty] = React.useState('0');\n  const [initialized, setInitialzied] = React.useState(false);\n  const initialSelect = (p)=>{\n    return initializeSelection(p)\n  }\n  if(!initialized){\n    const ini = initialSelect({selected:props.selected,menuType:stepData.menuType, itemList:stepData.content.values})\n    setSauce(ini.sauces);\n    setQty(ini.qty);\n    setInitialzied(true)\n  }\n  const handleMenuSelect = (input)=>{\n    const chk = (p)=>{\n      const item ={itemID:sauce,values:{qty:qty, half:'2'}};\n      const type=p.type;\n      const value = p.value;    \n      if(type==='qty'&&qty!==value){        \n        item.values.qty = value;\n        setQty(value);\n        return item;\n      } else if(type==='sauces'&&sauce!==value){\n        item.itemID = value;\n        item.values.qty='2';\n        setSauce(value);\n        setQty('2');\n        return item;\n      } else {\n        return false\n      }\n    }\n    const doUpdate = chk(input);\n    if(doUpdate){\n      updateItem({item:doUpdate,replace:true})\n    }\n  }\n  const selItem = sauce!=='0'?content.find((i)=>(i.id===sauce)):'0';\n  const selName =selItem!==undefined&&selItem!=='0'?selItem.caption:`No ${itemTypeCaption} selected`;  \n  const qtyVal = stepData.content.qty.find((i)=>(i.id===qty));  \n  const maxQty =stepData.content.qty.length;\n  const sel = {maxQty:maxQty, qty:parseInt(qty), half:2}\n  const description = {name:selName, qty:(qtyVal!==undefined?qtyVal.caption:''),half:''};\n  const captions = {qty:(qtyVal!==undefined?qtyVal.description:''),half:''};\n  if(!initialized){return false}\n  return(   \n    <div className={classes.root}>\n      <Grid container spacing={1}>\n        <Grid container spacing={1}>\n          <Grid item>\n            <Paper className={classes.paper}>\n              <PopupMenu type={type} itemTypeCaption={itemTypeCaption} selected={parseInt(selItem)} isDisabled={false} items={content} handleMenuSelect={(p)=>{handleMenuSelect(p)}}/>\n            </Paper>\n          </Grid>\n        </Grid>\n        <Grid container spacing={1}>\n          <Grid item>\n            <Paper className={classes.paper}>\n              <StaticRowElement \n              typeCaption={itemTypeCaption} itemID={sauce} sel={sel} description={description} captions={captions} \n              hasHalf={false} hasQty={true} handleMenuSelect={(p)=>{handleMenuSelect(p)}}/>\n            </Paper> \n          </Grid> \n        </Grid> \n      </Grid>      \n    </div>             \n  )\n}","import React from 'react';\nimport {StaticRowElement, StaticTitle} from '../../Elements/index';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width:'100%',\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n}));\nfunction initializeSelection(initial){\n  const selected = initial.selected;  \n  const isSel = selected!==null&&selected!==undefined;\n  const ret = {};\n  \n  if(isSel){\n    const menuType = initial.menuType;\n    const selMenuType = selected.hasOwnProperty(menuType)?selected[menuType]:false;\n    if(selMenuType){      \n      const items = initial.itemList.filter((i)=>(selMenuType.hasOwnProperty(i.id)));\n      if(items!==null&&items!==undefined){\n        const selItem = items.map((i)=>{\n          const id = i.id;\n          const sel = selMenuType[id];\n          const q = sel.hasOwnProperty('qty')?sel.qty:'2';\n          const h = sel.hasOwnProperty('half')?sel.half:'2';\n          return {id:id, qty:q, half:h};\n        });      \n        selItem.forEach(e => {\n          const val = {qty:e.qty, half:e.half};\n          ret[e.id]=val;\n        });        \n      }     \n    }\n  } \n  return ret;\n}\nexport default function ToppingStep(props){\n  const classes = useStyles();    \n  const updateItem = props.updateItem;\n  const stepData = props.stepData;\n  const type = stepData.menuType;\n  const itemTypeCaption = stepData.caption;  \n  \n  const [items, setItems] = React.useState('0');  \n  const [initialized, setInitialzied] = React.useState(false);\n  const initialSelect = (p)=>{\n    return initializeSelection(p)\n  }\n  if(!initialized){\n    const ini = initialSelect({selected:props.selected,menuType:type, itemList:stepData.content.values})\n    setItems(ini);    \n    setInitialzied(true)\n  }\n  const handleMenuSelect = (input)=>{\n    const chk = (p)=>{\n      const id = p.itemID;\n      const type = p.type;\n      const val = p.value;\n      const hasItem =items.hasOwnProperty(id);      \n      const itemVal = {qty:'0', half:'0'};      \n      const ret = {itemID:'0', values:itemVal};      \n      if(hasItem){\n        const e = items[id];\n        itemVal.qty=e.qty;\n        itemVal.half = e.half;\n      }\n      if(type==='qty'&&itemVal.qty!==val){        \n        itemVal.qty = val;\n        items[id] =itemVal\n        ret.itemID = id;\n        ret.values= itemVal;\n        setItems(items);\n        return ret;\n      } else if(type==='half'&&itemVal.half!==val){\n        itemVal.half = val;\n        items[id] =itemVal\n        ret.itemID = id;\n        ret.values= itemVal;\n        setItems(items);        \n        return ret;\n      } else {\n        return false\n      }\n    }\n    const doUpdate = chk(input);\n    if(doUpdate){      \n      updateItem({item:doUpdate,replace:true})\n    }\n  }\n  if(!initialized){return false}\n  const maxQty =stepData.content.qty.length;\n  const itemRows = stepData.content.values.map((i)=>{\n    const id = i.id;\n    const name = i.caption;\n    const des = i.description;    \n    const hasItem =items!==null&&items!==undefined?items.hasOwnProperty(id):false;\n    const selItem = hasItem?items[id]:{qty:0,half:2};\n    const q = selItem.hasOwnProperty('qty')?selItem.qty:'2';\n    const h = selItem.hasOwnProperty('half')?selItem.half:'2';\n    const qVal = stepData.content.qty?stepData.content.qty.filter((i)=>(i.id===q))[0]:false;\n    const hVal = stepData.content.half?stepData.content.half.filter((i)=>(i.id===h))[0]:false;\n    const sel = {maxQty:maxQty, qty:parseInt(q), half:parseInt(h)};\n    const description = {name:name, qty:(qVal?qVal.caption:''),half:(hVal?hVal.caption:'')};\n    const captions = {qty:(qVal?qVal.description:''),half:(hVal?hVal.description:'')};\n\n    return(\n      <Grid container item spacing={1} direction=\"row\" justify=\"flex-start\" alignItems=\"center\">\n        <Grid item>\n          <Paper className={classes.paper}>\n            <StaticTitle rowTitle={name} description={des}/>\n          </Paper>\n        </Grid>         \n        <Grid item>\n          <Paper className={classes.paper}>\n            <StaticRowElement \n              typeCaption={itemTypeCaption} itemID={id} sel={sel} description={description} captions={captions} \n              hasHalf={false} hasQty={true} handleMenuSelect={(p)=>{handleMenuSelect(p)}}/>\n          </Paper> \n        </Grid> \n      </Grid>\n    )\n  }); \n  if(!initialized){return false}\n  return(   \n    <div className={classes.root}>\n      <Grid container spacing={1}>\n        {itemRows}   \n      </Grid>      \n    </div>             \n  )\n}","import React from 'react';\nimport {NavButton} from '../Buttons/index';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport {PizzaType, Sauce, Topping} from './MenuSteps/index';\n\nconst DisplayComponents = {\n  type:PizzaType,\n  sauces:Sauce,\n  topping:Topping,\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: '75%',\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n}));\nfunction checkAlert(props){\n  //check that a crust and size have been selected\n  const incItem = props.item;    \n  const i = incItem!==null&&incItem!==undefined&&incItem.hasOwnProperty('1')?incItem['1']:{crusts:'0',sizes:'0'};\n  const item = i!==null?i:{crusts:'0',sizes:'0'};\n  const c = item.hasOwnProperty('crusts')?item.crusts!=='0':false;\n  const s = item.hasOwnProperty('sizes')?item.sizes!=='0':false;\n  if(!(c&&s)){\n    const msgTitle = 'Alert'\n    const msg = 'You must select a valid crust type and size before continuing.'\n    const status = true;\n    const val ={status:status,title:msgTitle,msg:msg};\n    props.updateAppState({type:'alert', values:{appValues:{val}}});\n    return false;\n  } else {\n    return true;\n  }\n}\nexport default function MenuStep(props){     \n  const classes = useStyles();\n  const updateAppState = props.updateAppState;\n  const triggerNext = props.triggerNext;\n  const botData = props.botStepData;\n  const menu = botData.menu;\n  const pizza = botData.pizza;\n  const stepData = menu.StepObject;\n  const menuType = stepData.menuType;\n  const selected = pizza.GetPizzaItems(menuType);\n  const [items, setItems] = React.useState(selected);\n  const updateItem = (props) =>{    \n    const item = props.item;\n    const itemID = item.itemID;\n    const values = item.values;    \n    const replace = props.replace;\n    if(replace){\n      const update = {};\n      update[itemID]=values;\n      setItems(update);\n    } else {\n      const current = items;            \n      current[item.itemID]=values;\n      setItems(current);\n    }       \n  }\n  const triggerRet = (props)=>{\n    //const nextTrigger = menu.GetStepTrigger(props.action);\n    \n    const updateData={\n      type:props.type,\n      values:{\n      appValues:{\n        step:props.action,\n        pizza:props.pizza,\n        botDisplay:props.botDisplay,\n      },      \n      stepValues:{\n        isSpecialStep:false,\n        botStepKey:stepData.menuType,\n        botStepMsg:stepData.botMsg,\n        userMsg: props.userMsg,\n        preserveMsg: true,\n        trigger:'pizzabuilder',\n      }}\n    };\n    if(props.action==='specialinstmsg'){\n      updateData.type = 'inst'\n      updateData.values.appValues.botDisplay = 'reviewPizza';\n      updateData.values.stepValues.trigger = props.action;      \n    } else if(props.action==='2'){\n      updateData.type = 'newOrder';\n      updateData.values.appValues.step='new';\n      updateData.values.appValues.botDisplay ='menuStep'\n      updateData.values.stepValues.trigger = props.action;\n    }\n    updateAppState(updateData);\n    triggerNext(updateData.values.stepValues);\n  }\n  const handleNext = ()=>{     \n    const c = menuType==='type'?checkAlert({item:items, updateAppState:updateAppState}):true;      \n    if(c){\n      const ret = {type:stepData.menuType, items:items};\n      const userMsg = menu.GetUserMsg(ret);     \n      ret.userMsg = userMsg;\n      pizza.PizzaItems = ret;\n      const stepID = menu.getStepNum('next');\n      const stepName = menu.getStep(stepID);\n      triggerRet({type:'update', botDisplay:'menuStep', action:stepName, userMsg:userMsg, pizza:pizza}) \n    }    \n  }\n  const handlePrev = ()=>{    \n    const userMsg = `Go back`;\n    const stepID = menu.getStepNum('prev');\n    const stepName = menu.getStep(stepID);\n    triggerRet({type:'update', botDisplay:'menuStep', action:stepName, userMsg:userMsg, pizza:pizza})\n  }\n  const handleRemove = ()=>{    \n    const userMsg = 'Remove this pizza';\n    triggerRet({type:'update', botDisplay:'remove', action:'ask', userMsg:userMsg, pizza:pizza})\n  }\n  const handleCancel = ()=>{    \n    const userMsg = 'Cancel this order';\n    triggerRet({type:'update', botDisplay:'cancel', action:'ask', userMsg:userMsg, pizza:pizza})\n  }\n  const displayType = (t)=>{\n    switch(t){\n      case 'type':        \n      case 'sauces':\n        return t;\n      default:\n        return 'topping';\n    }\n  }  \n  const StepDisplay = DisplayComponents[displayType(menuType)];\n  return(\n    <div className={classes.root}>\n\n      <div className=\"stepMessage\">{stepData.botMsg}</div>\n      <StepDisplay selected={selected} stepData={stepData} updateItem={(p)=>{return (updateItem(p))}}/>\n      <Grid container spacing={1}>\n        <Grid item>\n          <NavButton caption='Back' onClick={handlePrev}/>\n        </Grid>\n        <Grid item>\n          <NavButton caption='Remove Pizza' onClick={handleRemove}/>\n        </Grid>\n        <Grid item>\n          <NavButton caption='Cancel Order' onClick={handleCancel}/>\n        </Grid>\n        <Grid item>\n          <NavButton caption='Next' onClick={handleNext}/>\n        </Grid>\n      </Grid>\n    </div>      \n  )\n}\n","import React from 'react';\nimport {NavButton} from '../Buttons/index';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: '75%',\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n}));\n\nexport default function CancelStep(props){\n  const classes = useStyles();\n  const updateAppState = props.updateAppState;\n  const triggerNext = props.triggerNext;\n  const triggerRet = (props)=>{    \n    const updateData={\n      type:props.type,\n      values:{\n      appValues:{\n        step:props.action,        \n        botDisplay:props.botDisplay,\n      },      \n      stepValues:{\n        isSpecialStep:false,\n        botStepKey:'cancel',\n        botStepMsg:'Do you really want to cancel this order?',\n        userMsg: props.userMsg,\n        preserveMsg: true,\n        trigger:'pizzabuilder',\n      }}\n    };\n    if(props.action==='endmsg1'){\n      updateData.values.stepValues.trigger = props.action;      \n    }\n    updateAppState(updateData);\n    triggerNext(updateData.values.stepValues);\n  }\n  const handlePrev = () => {\n    const userMsg = 'No, go back';\n    triggerRet({type:'special', botDisplay:'cancel', action:'no', userMsg:userMsg})\n  }\n  const handleNext = (p)=>{    \n    const userMsg = `Yes, and ${p==='main'?'go to the main page':'start a new order'}`;\n    triggerRet({type:'special', botDisplay:'cancel', action:p, userMsg:userMsg})         \n  }\n  return(\n    <div className={classes.root}>\n      <div className=\"stepMessage\">{`Do you really want to cancel this order?`}</div>     \n      <Grid container spacing={1}>\n        <Grid item>\n          <NavButton caption='No' onClick={handlePrev}/>\n        </Grid>\n        <Grid item>\n          <NavButton caption='Yes, and start a new order' onClick={()=>{handleNext('restart')}}/>\n        </Grid>\n        <Grid item>\n          <NavButton caption='Yes, and go to the main page' onClick={()=>{handleNext('main')}}/>\n        </Grid>   \n      </Grid>\n    </div>      \n  )\n}","import React from 'react';\nimport {NavButton} from '../Buttons/index';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport {PizzaType, Sauce, Topping} from './MenuSteps/index';\n\nconst DisplayComponents = {\n  type:PizzaType,\n  sauces:Sauce,\n  topping:Topping,\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: '75%',\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n}));\nfunction checkAlert(props){\n  //check that a crust and size have been selected\n  const incItem = props.item;    \n  const i = incItem!==null&&incItem!==undefined&&incItem.hasOwnProperty('1')?incItem['1']:{crusts:'0',sizes:'0'};\n  const item = i!==null?i:{crusts:'0',sizes:'0'};\n  const c = item.hasOwnProperty('crusts')?item.crusts!=='0':false;\n  const s = item.hasOwnProperty('sizes')?item.sizes!=='0':false;\n  if(!(c&&s)){\n    const msgTitle = 'Alert'\n    const msg = 'You must select a valid crust type and size before continuing.'\n    const status = true;\n    const val ={status:status,title:msgTitle,msg:msg};\n    props.updateAppState({type:'alert', values:{appValues:{val}}});\n    return false;\n  } else {\n    return true;\n  }\n}\nexport default function EditItemStep(props){     \n  const classes = useStyles();\n  const updateAppState = props.updateAppState;\n  const triggerNext = props.triggerNext;\n  const botData = props.botStepData;\n  const menu = botData.menu;\n  const pizza = botData.pizza;\n  const stepData = menu.StepObject;\n  const menuType = stepData.menuType;\n  const selected = pizza.GetPizzaItems(menuType);\n  const [items, setItems] = React.useState(selected);\n  const updateItem = (props) =>{    \n    const item = props.item;\n    const itemID = item.itemID;\n    const values = item.values;    \n    const replace = props.replace;\n    if(replace){\n      const update = {};\n      update[itemID]=values;\n      setItems(update);\n    } else {\n      const current = items;            \n      current[item.itemID]=values;\n      setItems(current);\n    }       \n  }\n  const triggerRet = (props)=>{\n    //const nextTrigger = menu.GetStepTrigger(props.action);\n    \n    const updateData={\n      type:props.type,\n      values:{\n      appValues:{\n        step:props.action,\n        pizza:props.pizza,\n        botDisplay:props.botDisplay,\n      },      \n      stepValues:{\n        isSpecialStep:false,\n        botStepKey:stepData.menuType,\n        botStepMsg:stepData.botMsg,\n        userMsg: props.userMsg,\n        preserveMsg: true,\n        trigger:'pizzabuilder',\n      }}\n    };\n    \n    updateAppState(updateData);\n    triggerNext(updateData.values.stepValues);\n  }\n  const handleNext = ()=>{     \n    const c = menuType==='type'?checkAlert({item:items, updateAppState:updateAppState}):true;      \n    if(c){\n      const ret = {type:stepData.menuType, items:items};\n      const userMsg = menu.GetUserMsg(ret);     \n      ret.userMsg = userMsg;\n      pizza.PizzaItems = ret;\n      triggerRet({type:'update', botDisplay:'reviewPizza', action:'reviewPizza', userMsg:userMsg, pizza:pizza}) \n    }    \n  }\n  const handlePrev = ()=>{    \n    const userMsg = `Done with edits`;\n    triggerRet({type:'update', botDisplay:'reviewPizza', action:'reviewPizza', userMsg:userMsg, pizza:pizza})\n  }  \n  const displayType = (t)=>{\n    switch(t){\n      case 'type':        \n      case 'sauces':\n        return t;\n      default:\n        return 'topping';\n    }\n  }  \n  const StepDisplay = DisplayComponents[displayType(menuType)];\n  return(\n    <div className={classes.root}>\n\n      <div className=\"stepMessage\">{stepData.botMsg}</div>\n      <StepDisplay selected={selected} stepData={stepData} updateItem={(p)=>{return (updateItem(p))}}/>\n      <Grid container spacing={1}>\n        <Grid item>\n          <NavButton caption='Discard changes' onClick={handlePrev}/>\n        </Grid>        \n        <Grid item>\n          <NavButton caption='Save Changes' onClick={handleNext}/>\n        </Grid>\n      </Grid>\n    </div>      \n  )\n}\n","import React from 'react';\nimport {NavButton} from '../Buttons/index';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: '75%',\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n}));\n\nexport default function RemoveStep(props){\n  const classes = useStyles();\n  const updateAppState = props.updateAppState;\n  const triggerNext = props.triggerNext;\n  const triggerRet = (props)=>{    \n    const updateData={\n      type:props.type,\n      values:{\n      appValues:{\n        step:props.action,        \n        botDisplay:props.botDisplay,\n      },      \n      stepValues:{\n        isSpecialStep:false,\n        botStepKey:'remove',\n        botStepMsg:'Do you really want to remove this pizza?',\n        userMsg: props.userMsg,\n        preserveMsg: true,\n        trigger:'pizzabuilder',\n      }}\n    };\n    if(props.action==='endmsg1'){\n      updateData.values.stepValues.trigger = props.action;      \n    }\n    updateAppState(updateData);\n    triggerNext(updateData.values.stepValues);\n  }\n  const handlePrev = () => {\n    const userMsg = 'No, go back';\n    triggerRet({type:'special', botDisplay:'remove', action:'no', userMsg:userMsg})\n  }\n  const handleNext = (p)=>{    \n    const userMsg = `${p==='new'?'Start this pizza over':'Yes, remove this pizza'}`;\n    triggerRet({type:'special', botDisplay:'remove', action:p, userMsg:userMsg})         \n  }\n  return(\n    <div className={classes.root}>\n      <div className=\"stepMessage\">{`Do you really want to remove this pizza?`}</div>     \n      <Grid container spacing={1}>\n        <Grid item>\n          <NavButton caption='No' onClick={handlePrev}/>\n        </Grid>\n        <Grid item>\n          <NavButton caption='Start this pizza over' onClick={()=>{handleNext('new')}}/>\n        </Grid>\n        <Grid item>\n          <NavButton caption='Yes, remove this pizza' onClick={()=>{handleNext('')}}/>\n        </Grid>   \n      </Grid>\n    </div>      \n  )\n}","import React from 'react';\nimport {NavButton} from '../Buttons/index';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport {MultiTableDisplay} from '../Elements/index';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: '75%',\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n}));\n\nexport default function ReviewOrderStep(props){\n  //allow users to click on item they need to edit directly\n  const classes = useStyles();\n  const updateAppState = props.updateAppState;\n  const triggerNext = props.triggerNext;\n  const botData = props.botStepData;\n  const menu = botData.menu;\n  const order = botData.pizza;\n\n  const [selected, setSelected] = React.useState(0);\n  const handleSelect = (item)=>{\n    setSelected(item);\n  }\n  const triggerRet = (props)=>{    \n    const updateData={\n      type:props.type,\n      values:{\n      appValues:{\n        step:props.action,\n        id:props.editID,\n        botDisplay:props.botDisplay,\n      },      \n      stepValues:{\n        isSpecialStep:false,\n        botStepKey:'review',\n        botStepMsg:'Thank you for reviewing the pizza',\n        userMsg: props.userMsg,\n        preserveMsg: true,\n        trigger:'pizzabuilder',\n      }}\n    };\n    if(props.action==='endmsg1'){\n      updateData.values.stepValues.trigger = props.action;      \n    }\n    updateAppState(updateData);\n    triggerNext(updateData.values.stepValues);\n  }\n  const addNew = () => {\n    const userMsg = 'Add another pizza to the order';\n    triggerRet({type:'add', botDisplay:'', action:'', editID:0, userMsg:userMsg})\n  }\n  const handleNext = ()=>{    \n    const userMsg = 'Complete this order';\n    triggerRet({type:'', botDisplay:'', action:'endmsg1', editID:0, userMsg:userMsg}) \n        \n  }\n  const handleEdit = ()=>{    \n    const userMsg = `Edit pizza ${selected}`;\n    triggerRet({type:'setpizza', botDisplay:'NonMenuStep', action:'', userMsg:userMsg, editID:selected})\n  }\n  const handleRemove = ()=>{    \n    const userMsg = `Remove pizza ${selected}`;\n    triggerRet({type:'update', botDisplay:'remove', action:'ask', userMsg:userMsg, editID:selected})\n  }\n  const handleCancel = ()=>{    \n    const userMsg = 'Cancel this order';\n    triggerRet({type:'update', botDisplay:'cancel', action:'ask', userMsg:userMsg, editID:0,})\n  }   \n  const editIsDisabled = selected===0;\n  const editCapt = editIsDisabled?'Edit':`Edit ${selected}`\n  const remCapt =editIsDisabled?'Remove':`Remove ${selected}`\n  return(\n    <div className={classes.root}>\n\n      <div className=\"stepMessage\">{`${botData.order.ordername}, Please review your order and then select an option below`}</div>\n      <MultiTableDisplay order={order} menu={menu} handleSelect={(p)=>{return (handleSelect(p))}}/>\n      <Grid container spacing={1}>\n        <Grid item>\n          <NavButton caption={editCapt} isDisabled={editIsDisabled} onClick={handleEdit}/>\n        </Grid>\n        <Grid item>\n          <NavButton caption={remCapt} isDisabled={editIsDisabled} onClick={handleRemove}/>\n        </Grid>\n        <Grid item>\n          <NavButton caption='Cancel Order' onClick={handleCancel}/>\n        </Grid>\n        <Grid item>\n          <NavButton caption='Add a Pizza' onClick={addNew}/>\n        </Grid>\n        <Grid item>\n          <NavButton caption='Next' onClick={handleNext}/>\n        </Grid>\n      </Grid>\n    </div>      \n  )\n}","import React from 'react';\nimport {NavButton} from '../Buttons/index';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport {SingleTableDisplay} from '../Elements/index';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: '75%',\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n}));\n\nexport default function ReviewPizzaStep(props){\n  //allow users to click on item they need to edit directly\n  const classes = useStyles();\n  const updateAppState = props.updateAppState;\n  const triggerNext = props.triggerNext;\n  const botData = props.botStepData;\n  const menu = botData.menu;\n  const pizza = botData.pizza;\n\n  const [selected, setSelected] = React.useState(0);\n  const handleSelect = (item)=>{\n    setSelected(item);\n  }\n  const triggerRet = (props)=>{    \n    const updateData={\n      type:props.type,\n      values:{\n      appValues:{\n        step:props.action,\n        pizza:props.pizza,\n        botDisplay:props.botDisplay,\n      },      \n      stepValues:{\n        isSpecialStep:false,\n        botStepKey:'review',\n        botStepMsg:'Thank you for reviewing the pizza',\n        userMsg: props.userMsg,\n        preserveMsg: true,\n        trigger:'pizzabuilder',\n      }}\n    };\n    if(props.action==='specialinstmsg'){\n      updateData.type = 'inst'\n      updateData.values.appValues.botDisplay = 'reviewPizza';\n      updateData.values.stepValues.trigger = props.action;      \n    }\n    updateAppState(updateData);\n    triggerNext(updateData.values.stepValues);\n  }\n  const addNew = () => {\n    const userMsg = 'Add another pizza to the order';\n    triggerRet({type:'add', botDisplay:'', action:'', pizza:pizza, userMsg:userMsg})\n  }\n  const handleNext = ()=>{    \n    const userMsg = 'Go to final review';\n    triggerRet({type:'review', botDisplay:'reviewOrder', action:'', userMsg:userMsg, pizza:pizza})         \n  }\n  const handleEdit = ()=>{    \n    const userMsg = `Edit ${selected}`;\n    triggerRet({type:'edit', botDisplay:'menuStep', action:selected, userMsg:userMsg, pizza:pizza})\n  }\n  const handleRemove = ()=>{    \n    const userMsg = 'Remove this pizza';\n    triggerRet({type:'update', botDisplay:'remove', action:'ask', userMsg:userMsg, pizza:pizza})\n  }\n  const handleCancel = ()=>{    \n    const userMsg = 'Cancel this order';\n    triggerRet({type:'update', botDisplay:'cancel', action:'ask', userMsg:userMsg, pizza:pizza})\n  }   \n  const editIsDisabled = selected===0;\n  const editCapt = editIsDisabled?'Edit':`Edit ${selected}`\n  return(\n    <div className={classes.root}>\n\n      <div className=\"stepMessage\">{`${botData.order.ordername}, Please review this pizza and then select an option below`}</div>\n      <SingleTableDisplay pizza={pizza} menu={menu} handleSelect={(p)=>{return (handleSelect(p))}}/>\n      <Grid container spacing={1}>\n        <Grid item>\n          <NavButton caption={editCapt} isDisabled={editIsDisabled} onClick={handleEdit}/>\n        </Grid>\n        <Grid item>\n          <NavButton caption='Remove Pizza' onClick={handleRemove}/>\n        </Grid>\n        <Grid item>\n          <NavButton caption='Cancel Order' onClick={handleCancel}/>\n        </Grid>\n        <Grid item>\n          <NavButton caption='Add a Pizza' onClick={addNew}/>\n        </Grid>\n        <Grid item>\n          <NavButton caption='Next' onClick={handleNext}/>\n        </Grid>\n      </Grid>\n    </div>      \n  )\n}","import React from 'react';\n\nexport class NewOrderStep extends React.Component{  \n  constructor(props){\n    super(props)\n    this.state={data:null, trigger:false};    \n  }\n  componentDidMount(){    \n    const updateData={\n      type:'start',\n      values:{\n      appValues:{\n        name:this.props.botStepData.prevStepValue,\n        step:'new'},     \n      stepValues:{\n        isSpecialStep:true,\n        botStepKey:'neworder',\n        botStepMsg:`Thank you, ${this.props.botStepData.prevStepValue}, Let's create our first pizza for this order.`,\n        userMsg: null,\n        preserveMsg: false,\n        trigger:'pizzabuilder',\n      }}\n    };        \n    this.setState({data:updateData.values.stepValues}, ()=>{this.props.updateAppState(updateData)});        \n  }\n  componentDidUpdate(prevProps,prevState){\n    if(this.state.data!==null){\n      this.setState({trigger:!prevState.trigger}, ()=>this.props.triggerNext(this.state.data))\n    }          \n  }\n  shouldComponentUpdate(nextProps,nextState){\n    if(nextState.trigger||this.state.trigger){\n      return false;\n    } else {\n      return true;  \n    }      \n  }    \n  render(){\n    //const msg = `Thank you, ${this.props.prevStepValue}, Let's create our first pizza for this order.`;    \n    return <div>{''}</div>;\n  } \n}\nexport function SpecialInstructions(props){\n  const inst = props.prevStepID==='specialinstentry'?props.prevStepValue:''; \n  const retVal = {\n    type:'inst',\n    values:inst,\n    data:{\n      botStepKey:'reviewPizza',\n      botStepMsg:`Okay, Let's review your pizza.`,\n      usermsg: null,\n      isuser: false,\n      trigger:'pizzabuilder',\n    } \n  }\n  props.onTrigger(retVal);\n  return null;\n}\nexport function ChangeName(props){\n  const name = props.prevStepValue; \n  const retVal = {\n    type:'name',\n    values:name,\n    data:{\n      botStepKey:'reviewOrder',\n      botStepMsg:`Thank you, ${name}, I've updated the name for this order.`,\n      usermsg: null,\n      isuser: false,\n      trigger:'pizzabuilder',\n    } \n  }\n  props.onTrigger(retVal);\n  return null;\n}","import React from 'react'\nimport {MenuStep, CancelStep, EditItemStep, RemoveStep, ReviewOrderStep, ReviewPizzaStep, NewOrderStep, ChangeName, SpecialInstructions} from '../AppElements/Steps/index';\n\nconst StepComponents ={\n  menuStep:MenuStep,\n  cancel:CancelStep,\n  editItem:EditItemStep,\n  remove:RemoveStep, \n  reviewOrder:ReviewOrderStep, \n  reviewPizza:ReviewPizzaStep, \n  newOrder:NewOrderStep, \n  changeName:ChangeName, \n  specialInstructions:SpecialInstructions\n}\nexport default class BotStep extends React.Component{\n  constructor(props){\n    super(props)\n    this.state = {botStepData:null, trigger:false};\n    this.onTrigger = this.onTrigger.bind(this);       \n  }\n  componentDidMount(){\n    if(this.state.botStepData===null&&!this.state.trigger){\n      const data = this.props.getBotState();\n      this.setState({botStepData:data})\n    }\n  }  \n  shouldComponentUpdate(nextProps,nextState){\n    if(this.state.trigger||nextState.trigger){\n      return false\n    }    \n    return true;   \n  } \n  onTrigger(props){    \n    const bot = `${props.botStepKey}=>(id=${this.props.step.key.substring(0,5)})`;\n    const genericStep = this.props.steps.pizzabuilder;\n    this.props.step.id = bot;\n    genericStep.id = bot;    \n    this.props.steps[bot] = genericStep;\n    this.props.step.trigger = props.trigger;    \n    this.setState({trigger: true}, () => {\n      this.props.triggerNextStep(props);\n    });\n  }\n  render(){\n    if(this.state.botStepData===null||this.state.botStepData===undefined){return null}    \n    const {step, steps, previousStep, ...passThroughProps} = this.props\n    const prevStepValue = previousStep.hasOwnProperty('value')?previousStep.value:false;\n    const prevStepID = previousStep.id;\n    const botStepData = this.state.botStepData;\n    botStepData.prevStepValue=prevStepValue;\n    botStepData.prevStepID=prevStepID;\n    const StepComponent = StepComponents[botStepData.botDisplay];       \n    return <StepComponent botStepData={botStepData} triggerNext={(p)=>this.onTrigger(p)} {...passThroughProps}/>\n  }\n}\n","import React from 'react';\nimport ChatBot from '../chatbot/ChatBot';\nimport { ThemeProvider } from 'styled-components';\nimport BotStep from './BotStep';\nimport logo from '../../resources/SliceLogo.png';\nimport '../../css/OrderStyle.css';\n\nexport default class SliceBot extends React.Component{\n  constructor(props){\n    super(props)    \n    this.handleEnd = this.handleEnd.bind(this);\n  }\n  handleEnd(){\n    //load order summary page    \n    this.props.completeOrder();\n  }        \n  render(){\n    const {showBot, ...passThroughProps} = this.props           \n    if(!showBot){return (null)}        \n    return (   \n      <div className=\"chatBot\" >\n        <ThemeProvider theme={{\n              background: '#f5f5f5',\n              fontFamily: 'Montserrat',\n              headerBgColor: '#DD841F',\n              headerFontColor: '#fff',\n              headerFontSize: '15px',\n              botBubbleColor: '#DD841F',\n              botFontColor: '#fff',\n              userBubbleColor: '#fff',\n              userFontColor: '#4a4a4a',\n              marginTop: '60px',\n          }}>\n      <ChatBot headerTitle=\"Slice Bot\"\n        handleEnd = {this.handleEnd}\n        floating={false}\n        botAvatar={logo}                \n        steps={[\n          {\n            id: '1',\n            message: 'Welcome to Slice!',            \n            trigger: '2',\n                       \n          },\n          {\n            id: '2',\n            message: 'Please enter a name for the order',\n            trigger: 'ordername',\n                        \n          },\n          {\n            id: 'ordername',\n            user:true,\n            placeholder: 'Please enter a name...',\n            trigger: 'pizzabuilder',\n               \n          },\n          {\n            id: 'pizzabuilder',\n            placeholder: 'Choose an option',\n            component: <BotStep {...passThroughProps} />,              \n            waitAction: true, \n            replace: true,                        \n            trigger: 'pizzabuilder',\n                       \n          },\n          {\n            id:'specialinstmsg',\n            message:'Would you like to add any special instructions?',\n            trigger: 'specialinstques',\n            \n          },\n          {\n            id:'specialinstques',\n            options: [\n              {value: 'yes', label:'Yes', trigger:'specialinstentry'},\n              {value: 'no', label:'No, Lets review this pizza', trigger:'pizzabuilder'},\n              ],\n            \n          },\n          {\n            id:'specialinstentry',\n            user:true,\n            trigger: 'pizzabuilder',\n           \n          },\n          {\n            id: 'endmsg1',         \n            message: 'Thank you for using Slice!',\n            trigger: 'endmsg2',            \n          },\n          {\n            id: 'endmsg2',         \n            message: 'Your order is confirmed. Please click OK to continue.',\n            trigger: 'endmsg3',            \n          },\n          {\n            id: 'endmsg3',         \n            options: [{value: 'endbot', label:'OK', trigger:'endbot'}],                        \n          },\n          {\n            id: 'endbot',         \n            message: 'Good bye',\n            end: true,            \n          },\n          ]}\n\n        />\n          </ThemeProvider>\n      </div>   \n    );   \n  }\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nexport default function BotAlertMsg(props) {\n  const [open, setOpen] = React.useState(props.values.status); \n\n  const handleClose = () => {\n    setOpen(false);\n    props.onClose({type:'alert', values:false})\n  };\n  \n  return (\n    <div>      \n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{props.values.title}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            {props.values.msg}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>          \n          <Button onClick={handleClose} color=\"primary\" autoFocus>\n            Got it!\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}","//constants\nconst SETNAME = 'name';\nconst STARTORDER = 'start'\nconst UPDATEPIZZA = 'update';\nconst SPECIALACT = 'special';\nconst SETALERT = 'alert';\nconst UPDATELOC = 'location';\nconst RESET = 'reset';\nconst EDITITEM = 'edit';\nconst REVIEW = 'review';\nconst SETINST = 'inst';\nconst ADDNEW = 'add';\nconst SETPIZZA = 'setpizza';\n//function\nexport const reducer = action => (state,props) =>{  \n  const values = action.values.appValues;  \n  const o=state.order;\n  const m=state.menu;\n  const d=state.display;\n  const p=state.currentPizza;\n  const l=state.locObj;\n  const a=state.alert;\n  const botDisp = (values!==undefined&&values!==null&&values.hasOwnProperty('botDisplay'))?values.botDisplay:false;\n  const step = (values!==undefined&&values!==null&&values.hasOwnProperty('step'))?values.step:false;\n  const ret ={o:o,m:m,d:d,p:p,l:l,a:a,};\n  switch (action.type){    \n    case SETPIZZA:\n      ret.p = o.GetPizzaByID(values.id);\n      ret.d.page='NonMenuStep';\n      ret.d.bot=true;\n      ret.d.botDisplay='reviewPizza';\n      break;           \n    case ADDNEW:\n      const updateProps = {item:'savePizza', pizza:p};\n      if(p!==null){\n        const newO = o;\n        newO.UpdateOrder(updateProps);\n        ret.o = newO;\n      }\n      ret.m.step='new';\n      ret.d.page = 'Menu';\n      ret.d.bot = true;\n      ret.d.botDisplay = 'menuStep';\n      break;   \n    case EDITITEM:\n      ret.m.step = values.step;\n      ret.d.page='Menu';\n      ret.d.bot=true;\n      ret.d.botDisplay='editItem';\n      break;\n    case REVIEW:        \n      ret.d.page='NonMenuStep';\n      ret.d.bot=true;\n      ret.d.botDisplay=botDisp;      \n      if(p!==null&&botDisp==='reviewOrder'){\n        const updateProps = {item:'savePizza', pizza:p};\n        const newO = o;\n        newO.UpdateOrder(updateProps);\n        ret.o = newO;\n      }\n      break;\n    case SETINST:\n      ret.p.SpecialInstructions = values.inst;\n      ret.d.page='NonMenuStep';\n      ret.d.bot=true;\n      ret.d.botDisplay='reviewPizza';\n      break;      \n    case STARTORDER:      \n      ret.m.step = values.step;\n      ret.o.ordername = values.name;      \n      ret.d.page = 'Menu';\n      ret.d.bot = true;\n      ret.d.botDisplay = 'menuStep'      \n      break; \n    case UPDATEPIZZA:      \n      ret.d.botDisplay = values.botDisplay;\n      if(botDisp==='menuStep'||botDisp==='editItem'){\n        ret.m.step = step;\n      } else if(step==='ask'){\n        if(values.hasOwnProperty('id')){\n          ret.p = o.GetPizzaByID(values.id);\n        }\n        ret.d.prevDisplay = d;\n      }           \n      break;\n    case SETNAME:\n      //change name from reviewOrder menu\n      ret.o.ordername = values.name;\n      ret.d.page='NonMenuStep';\n      ret.d.bot=true;\n      ret.d.botDisplay='reviewOrder';\n      break;       \n    case SETALERT:\n      ret.a = values;\n      break;      \n    case UPDATELOC:      \n      const type = values.type;\n      const display = {page:'Location', bot:false, botDisplay:false};\n      const hasPrev = state.display.hasOwnProperty('prevBot');\n      const prev = hasPrev?state.display.prevBot:false;      \n      let loc = null;\n      if(type==='change'){\n        loc = state.locObj;\n        loc.ChangeLoc();\n        display.prevBot = prev;                        \n      } else {\n        loc = values.locObj;\n        const chk = loc.searchStep==='done';        \n        if(chk){\n          display.page='Main';\n          display.bot = true\n          display.botDisplay=state.order.ordername?prev:'newOrder';          \n        }\n        if(!prev||chk){\n          delete display.prevBot;\n        } else {\n          display.prevBot = prev;\n        }\n      }\n      ret.d = display;\n      ret.l = loc;\n      break;    \n    case RESET:\n      ret.o=o.NewOrder;\n      ret.m=(m.step='new');\n      ret.d={page:'Location', bot:false, botDisplay:false};\n      ret.p=p.NewPizza;\n      ret.l=props.locObj;\n      ret.a=false;\n      break;\n    case SPECIALACT:\n      //handle remove/cancel/complete\n      if (step==='no'){\n        ret.d.page = d.prevDisplay.page;\n        ret.d.bot =d.prevDisplay.bot;\n        ret.d.botDisplay = d.prevDisplay.botDisplay;\n        delete ret.d.prevDisplay;\n      } else {\n        if(botDisp==='remove'){\n          const updateProps = {item:'removePizza', pizza:p};        \n          const newO = o;\n          newO.UpdateOrder(updateProps);\n          ret.o = newO;\n          if(values.step==='new'){\n            ret.d.botDisplay = 'addNew';            \n          } else {\n            ret.d.page='NonMenuStep';\n            ret.d.bot=true;\n            ret.d.botDisplay='reviewOrder';\n          }\n        } else if(botDisp==='cancel'){\n          ret.p = p.NewPizza;\n          ret.o = o.NewOrder;\n          ret.m = (m.step='new');\n          if(step==='restart'){\n            ret.d.page='Main';\n            ret.d.bot=true;\n            ret.d.botDisplay = 'newOrder';\n          } else {\n            ret.d.page='Location';\n            ret.d.bot=false;\n            ret.d.botDisplay=false;\n            ret.l = step==='main'?props.locObj:l.ChangeLoc();\n          }      \n        } else if(botDisp==='complete'){\n          if(p!==null){\n            const updateProps = {item:'savePizza', pizza:p};\n            const newO = o;\n            newO.UpdateOrder(updateProps);\n            ret.o = newO;\n          }\n          ret.d.page = 'Final';\n          ret.d.bot = false;\n          ret.d.botDisplay = false;\n        }\n      }\n      break;    \n    default:\n  }\n  return {\n    order:ret.o, \n    menu:ret.m, \n    display:ret.d, \n    currentPizza:ret.p,\n    alert:ret.a,\n    locObj:ret.l,\n  };\n}\n","class Pizza {\n  constructor(id){\n    this.id = id;\n    this.items = {};\n    this.itemMsg = {};       \n    this.specinst=null;   \n  }\n  get NewPizza(){\n    const p = new Pizza();\n    return p;\n  }\n  set PizzaItems(props) {\n    const t = props.type;\n    const values = props.items    \n    if(values==={}&&this.items.hasOwnProperty(t)) {\n      delete this.items[t];\n      delete this.itemMsg[t];\n    } else {\n      this.items[t]=values;\n      this.itemMsg[t]=props.userMsg;\n    }        \n  }\n  GetPizzaItems(type){\n    if(this.items===null||!this.items.hasOwnProperty(type)) {\n      return null;\n    }\n    return this.items[type];\n  }  \n  set SpecialInstructions(value){\n    this.specinst=value;\n  }\n  get SpecialInstructions(){\n    if(this.specinst===null){\n      return false;\n    } else {\n      return this.specinst;\n    }\n  }\n  set PizzaID(val){\n    this.id = val;\n  }  \n  get PizzaID(){\n    return this.id;\n  }\n  get PizzaInfo(){    \n    return ({\n      id: this.id,\n      items: this.items,\n      itemMsg: this.itemMsg,\n      specinst: this.specinst,      \n    });\n  } \n} \n\nexport default Pizza;","import Items from '../resources/menuItems.json';\nimport Options from '../resources/menuOptions.json';\nclass ItemMenu{\n  constructor(){    \n    const arr = function(obj) {      \n      let x;\n      let ret = [];\n      for (x in obj){\n        ret = ret.concat(x); \n      }\n      return ret;\n    };    \n    this.items = arr(Items);\n    this.optList = arr(Options);\n    this.stepNum=-1;\n    this.outOfScope=false;         \n  }\n  set step(val){\n    if(val==='none')\n    {this.outOfScope=true;\n    } else {\n    this.outOfScope=false;\n    this.stepNum=this.getStepNum(val);\n    }\n\n  }\n  get step(){\n    if(this.outOfScope) {return 'none';}\n    return this.getStep(this.stepNum);\n  }\n  GetUserMsg(props){\n    const n = this.GetStepProper(props.type);\n    if(!props.hasOwnProperty('items')||props.items===null||props.items===undefined) {\n      return `No ${n} selected`\n    } else {\n      if(props.type==='type'){\n        const item = props.items['1'];\n        const sID = item.hasOwnProperty('sizes')?item.sizes:false;\n        const cID = item.hasOwnProperty('crusts')?item.crusts:false;\n        if(!(sID&&cID)){return `No ${n} selected`}\n        const size = Options.sizes;\n        const crust = Options.crusts;\n        const s = size.find((i)=>(i.id===sID));\n        const c = crust.find((i)=>(i.id===cID));\n        return `This pizza is a ${s.caption} ${c.caption}`;\n      } else {\n        let hasHalf=false;\n        const itemValues = Items[props.type];\n        const item = itemValues.values;\n        const half = itemValues.half?Options.half:false;\n        const qty = itemValues.qty?Options.qty:false;\n        const inc = props.items;\n        const msg = item.map((i)=>{\n          const isSel = inc.hasOwnProperty(i.id);\n          if(!isSel){return {name:false}}\n          const v = inc[i.id];\n          const name = i.caption;          \n          const vHalf = half?v.half:'2';\n          const vQty = qty?v.qty:'2';\n          const h = half?half.filter((i)=>(i.id===vHalf))[0]:false;\n          const q = qty?qty.filter((i)=>(i.id===vQty))[0]:false;\n          if(vHalf!==2){hasHalf=true};\n          return {name:name, half:h?h.caption:'', qty:q?q.caption:'', hID:parseInt(vHalf)}\n        })\n        const ret = msg.filter((i)=>{return i.name});\n        if(ret.length>1){ret.sort((a,b)=>{return a.hID-b.hID});};\n        if(ret.length===0){return `No ${n} selected`};\n        const retArray = ret.map((i)=>{\n          if(!i.name) {return ''};\n          return `${i.qty} ${i.name}${hasHalf?` ${i.half}`:''}`\n        })\n        return retArray.toString();\n      }      \n    }    \n  }\n  GetCaption(src,type,id){\n    const item = (m,t,id)=>{\n      switch(m){\n        case 'items':\n        const i = (t)=>{\n          switch(t){\n            case 'type':\n              return Items.type.values;\n            case 'sauces':\n              return Items.sauces.values;\n            case 'cheeses':\n              return Items.cheeses.values\n            case 'meats':\n               return Items.meats.values;\n            case 'nonmeats':\n              return Items.nonmeats.values;\n            default:\n              return null;\n          }\n        }\n        const item= i(t);\n        const f = item.find((i)=>i.id===id);\n        const cap = f===undefined?'':f.caption;  \n        return cap\n        case 'opts':\n          const o = (t)=>{\n            switch(t){\n              case 'crusts':\n                return Options.crusts;\n              case 'sizes':\n                return Options.sizes;\n              case 'qty':\n                return Options.qty;\n              case 'half':\n                 return Options.half;\n              case 'allergy':\n                return Options.allergy;\n              default:\n                return null;\n            }\n          }\n          const opt= o(t);\n          const a = opt.find((i)=>i.id===id);\n          const oc = a===undefined?'':a.caption; \n          return oc\n        default:\n          return null;}}   \n    return item(src,type,id);\n  }\n  GetDescription(src,type,id){\n    const item = (m,t,id)=> {\n      switch(m) {\n        case 'items':\n          const i = (t)=>{\n            switch(t){\n              case 'type':\n                return Items.type.values;\n              case 'sauces':\n                return Items.sauces.values;\n              case 'cheeses':\n                return Items.cheeses.values\n              case 'meats':\n                 return Items.meats.values;\n              case 'nonmeats':\n                return Items.nonmeats.values;\n              default:\n                return null;\n            }\n          }\n          const item= i(t);\n          const f = item.find((i)=>i.id===id);\n          const cap = f===undefined?'':f.description;  \n          return cap\n          case 'opts':\n            const o = (t)=>{\n              switch(t){\n                case 'crusts':\n                  return Options.crusts;\n                case 'sizes':\n                  return Options.sizes;\n                case 'qty':\n                  return Options.qty;\n                case 'half':\n                   return Options.half;\n                case 'allergy':\n                  return Options.allergy;\n                default:\n                  return null;\n              }\n            }\n            const opt= o(t);\n            const a = opt.find((i)=>i.id===id);\n            const oc = a===undefined?'':a.description; \n            return oc\n      default:\n        return null;\n      }\n    }\n    return item(src,type,id);\n  }\n  GetStepProper(step){\n    if(this.outOfScope) {return 'none';}\n    if(step==='specialinstmsg'){\n      return 'Special Instructions'\n    } else if(step==='ordername'){\n      return 'Name'\n    } else {     \n      const c = this.checkStep(step);\n      const s = c?step:this.getStep(this.getStepNum(step))\n      if(s==='specialinstmsg'||s==='ordername'){\n        return this.GetStepProper(s)\n      } else if(!c){\n        return ''\n      } else {\n        return Items[s].properU\n      }\n      \n    }\n  }\n  GetStepTrigger(step){\n    if(this.outOfScope) {return 'none';}\n    const s = this.getStep(this.getStepNum(step)) \n    if(this.checkStep(s)){\n      return 'pizzabuilder'\n    } else {\n      return s\n    }\n  }\n  get StepObject(){\n    if(this.outOfScope) {return false;}\n    const step = this.step;\n    if(!this.checkStep(step)){return false};\n    const info = Items[step];\n    return {\n      menuType: step,\n      botMsg:info.msg,\n      caption:info.properU,\n      properL:info.properL,\n      next:this.GetStepProper('next'),\n      prev:this.GetStepProper('prev'),\n      content: {        \n        sizes:info.sizes?Options.sizes:false,\n        crusts:info.crusts?Options.crusts:false,\n        half:info.half?Options.half:false,\n        qty:info.qty?Options.qty:false,\n        values:info.values,\n        allergy:Options.allergy,\n      }\n    };\n  }  \n  checkStep(step){\n    const i = this.items.findIndex(s => s === step)\n    return i!==-1\n  }\n  getStep(i){\n    if(i>=this.items.length){      \n      return 'specialinstmsg';\n    } else if(i<0){\n      return '2';\n    } else {     \n      return this.items[i];      \n    }   \n  }\n  getStepNum(val){\n    const i = this.stepNum;\n    switch (val){\n      case 'next':               \n        return i+1;        \n      case 'prev':\n        return i-1;        \n      case 'new':\n        return 0;        \n      default:\n        const s = this.items.findIndex(s => s === val);\n        return s<0?this.stepNum:s;        \n    }\n  }  \n  get stepList(){\n    return this.items.map((i)=>{\n      const name = this.GetStepProper(i);\n      return {val:i, name:name}\n    });\n  } \n}\nexport default ItemMenu;","import React from 'react';\nimport Order from './PizzaOrder';\nimport {Header, MainArea, SliceBot} from './PageDisplay'\nimport '../css/App.css';\nimport '../css/DisplayMainArea.css';\nimport BotAlertMsg from './AppElements/Util/BotAlertMsg';\nimport {reducer} from './AppReducer';\nimport Pizza from './Pizza';\nimport ItemMenu from './itemMenu';\nclass App extends React.Component {\n  constructor(props) {\n    super(props);       \n    this.updateAppState =this.updateAppState.bind(this);\n    this.getBotState = this.getBotState.bind(this);\n    this.completeOrder = this.completeOrder.bind(this);          \n    this.state = {      \n      alert:false,      \n      display:{\n        page:'Location',\n        bot:false,\n        botDisplay:false,        \n      },             \n      locObj: this.props.locObj,           \n      order: new Order(),\n      menu: new ItemMenu(),\n      currentPizza: new Pizza(0),                       \n    };\n    this.input = React.createRef();            \n  }\n  updateAppState = (props) => {    \n    this.setState(\n      reducer({\n        type:props.type,\n        values:props.values,\n      })\n    )\n  }\n  completeOrder(){\n    const updateData={\n      type:'special',\n      values:{\n      appValues:{       \n        botDisplay:'complete',\n      }}}\n    this.updateAppState(updateData);\n  }\n  getBotState(){\n    const botState = {\n      showBot:this.state.display.bot,\n      loc:this.state.locObj,\n      botDisplay:this.state.display.botDisplay,\n      order:this.state.order,\n      menu: this.state.menu,\n      pizza:this.state.currentPizza,\n    }\n    return botState\n  }\n  reset(){\n    const values= {                 \n      order: new Order()}\n    this.updateAppState({type:'reset', values:values})\n  }  \n  render(){\n    const alert = this.state.alert?<BotAlertMsg values={this.state.alert} onClose={(p)=>{return this.updateAppState(p)}}/>:null;\n    const {display, locObj}=this.state;\n    const showPage = display.page;\n    const showBot = display.bot;\n    \n    return (\n      <div className=\"sliceBot\">\n        <Header cnt={this.state.order.PizzaCount} locObj={locObj} updateAppState={(p)=>{return this.updateAppState(p)}}/>\n        <MainArea showPage={showPage} getBotState={this.getBotState} locObj={locObj} updateAppState={(p)=>{return this.updateAppState(p)}} forwardedRef={this.input}/>\n        <SliceBot showBot={showBot} getBotState={this.getBotState} completeOrder={this.completeOrder} updateAppState={(p)=>{return this.updateAppState(p)}}/>\n        {alert}\n      </div>\n    )      \n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './css/index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport 'jquery/dist/jquery.js';\nimport 'popper.js/dist/umd/popper.js';\nimport 'bootstrap/dist/js/bootstrap.js';\nimport Location from './components/Location'\n//import {BrowserRouter as Router, Route} from 'react-router-dom';\n\nLocationFactory().then(obj => {  \n /* const obj = LocationFactory();*/\n  ReactDOM.render(\n  <React.StrictMode>\n    {/*<Router>\n    <Route component={() => */}\n    <App locObj={obj}/>      \n    {/*}/>\n    </Router>*/}\n  </React.StrictMode>,\n  document.getElementById('root')\n  );\n})\nfunction LocationFactory(){\n  let x = new Location();\n  return x.initLoc();\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import {lookup,lookupByCoords} from 'zipcodes';\nimport stores from '../resources/stores.json';\n\nclass Location {\n  #geo = null;\n  #user = null;\n  #store = null;\n  #search = null;\n  #prevObj = null;\n  constructor(){\n    this.storeInfo = this.storeInfo.bind(this);\n    this.initLoc = this.initLoc.bind(this);\n    this.resolveGeoLoc = this.resolveGeoLoc.bind(this);\n    this.resetLoc = this.resetLoc.bind(this);    \n    this.#geo = {\n      isResolved: false,\n      entryErr: false,\n      errMsg: '',\n      zip: '',\n      cityState: ''};     \n    this.#user = {\n      isResolved: false,\n      entryErr: false,\n      errMsg: '',\n      zip: '',\n      cityState: ''};  \n    this.#store = {\n      current: '0',\n      previous: '0'};\n    this.#search = {\n      step:'search',\n      method: '',\n      searchLoc: '',\n      isResolved: false,\n      hasErr: false,\n      errMsg: '',\n    }\n  }\n  get searchStep(){\n    return this.#search.step;\n  }\n  ChangeLoc(){\n    this.#prevObj = {\n      user:this.#user,\n      store:this.#store,\n      search:this.#search,\n      }   \n    this.#user.isResolved=false;\n    this.#user.entryErr=false;\n    this.#user.errMsg='';\n    this.#user.zip='';\n    this.#user.cityState='';            \n    this.#store.previous=this.#store.current;\n    this.#store.current = 0;     \n    this.#search.step='search';\n    this.#search.method='';\n    this.#search.searchLoc='';\n    this.#search.isResolved=false;\n    this.#search.hasErr=false;\n    this.#search.errMsg='';    \n  }\n  resetLoc(){\n    this.#user = {\n      isResolved: false,\n      entryErr: false,\n      errMsg: '',\n      zip: '',\n      cityState: ''};  \n    this.#store = {\n      current: '0',\n      previous: '0',      \n      didChange: false};\n    this.#search = {\n      step:'search',\n      method: '',\n      searchLoc: '',\n      isResolved: false,\n      hasErr: false,\n      errMsg: '',\n    } \n  }  \n  get geoZip() {\n    if(this.#geo.isResolved && !this.#geo.entryErr) {\n      return this.#geo.zip;\n    } else {\n      return 'NoGeo';\n    }\n  } \n  get geoCityState(){\n    if(this.#geo.isResolved && !this.geoErr) {\n      return this.#geo.cityState;\n    } else {\n      return 'Geo Location Error';\n    }   \n  }\n  get geoErr(){\n    return this.#geo.entryErr;\n  }\n  get geoErrMsg(){\n    return this.geoErr?this.#geo.errMsg:'';\n  }\n  set userZip(val){\n    let z = val.trim();    \n    let r = false;\n    let e = false;\n    let m = '';\n    let cs = '';\n    const l = lookup(z);\n    if(typeof l !==\"undefined\"){\n      const c = l.city;\n      const s = l.state;        \n      r = true;        \n      cs = c + ', ' + s;\n    } else {\n      //invalid zip code\n      z = '';  \n      r = false;\n      e = true;\n      m = 'Enter a Valid US Zip Code';        \n    }   \n    this.#user = {\n      isResolved: r,\n      entryErr: e,\n      errMsg: m,\n      zip: z,\n      cityState: cs,\n    };\n  }\n  get userZip() {\n    if(this.#user.isResolved && !this.#user.entryErr) {\n      return this.#user.zip;\n    } else {\n      return 'NoUser';\n    }\n  } \n  get userCityState(){\n    if(this.#user.isResolved && !this.userErr) {\n      return this.#user.cityState;\n    } else {\n      return 'User Entry Error';\n    }   \n  }\n  get userErr(){\n    return this.#user.entryErr;\n  }\n  get userErrMsg(){\n    return this.userErr?this.#user.errMsg:'';\n  }\n  set storeLoc(val){\n    const c = this.#store.current;\n    const p = this.#store.previous;\n    if(p!==0&&val===p){\n      this.#search.step='done';\n      this.#user=this.#prevObj.user;\n      this.#store=this.#prevObj.store;\n      this.#search=this.#prevObj.search;\n      this.#prevObj=null;\n    } else if(c!==val){\n      this.#search.step='done';      \n      this.#store.current = val;\n      this.#store.previous = 0;\n      this.#prevObj=null;\n    }    \n  }\n  get curStoreID(){\n    return this.#store.current;\n  }\n  get prevStoreID(){\n    return this.#store.previous;\n  }\n  get curStoreInfo(){\n    const i = this.#store.current; \n    return this.storeInfo(i);\n  }\n  get prevStoreInfo(){\n    const i = this.#store.previous; \n    return this.storeInfo(i);\n  }\n  get searchErr(){\n    return this.#search.hasErr;    \n  }\n  get searchErrMsg(){\n      return this.searchErr?this.#search.errMsg:'';\n  }\n  get searchMeth(){\n    if(this.#search.isResolved){\n      return this.#search.method;\n    }\n    return 'No Search'\n  }\n  get searchLoc(){\n    if(this.#search.isResolved){\n      return this.#search.searchLoc;\n    }\n    return 'No Search'\n  }\n  set search(values){\n    this.#search.step = values.step;\n    this.#search.method = values.method;\n    this.#search.searchLoc = values.loc;\n    this.#search.isResolved = values.res;\n    this.#search.hasErr= values.err;\n    this.#search.errMsg= values.errMsg;\n  }\n  set storeSearch(method){        \n    let values ={\n      step:'select',\n      method: method.method,\n      loc: '',\n      res: false,\n      err: false,\n      errMsg: '',\n    };\n    if(values.method==='User Entry'){\n      this.userZip = method.usrStr;\n      if(this.userErr){\n        values.step ='search';\n        values.method = '';\n        values.err= true;\n        values.errMsg= 'Invalid Zip Entry';\n      } else {\n        values.loc = this.userCityState;\n        values.res = true;\n      }\n    } else if(values.method==='Geo Locate'){\n      if(this.geoErr){\n        values.step ='search';\n        values.method = '';\n        values.err= true;\n        values.errMsg= 'Invalid Geo Location';\n      } else {\n        values.loc = this.geoCityState;\n        values.res = true;\n      }\n    } else {\n      values.step ='search';\n      values.method = '';\n      values.err= true;\n      values.errMsg= 'Invalid Search Method';\n    }\n    this.search = values;    \n  }\n  storeInfo(i){    \n    const s = i!==0?stores.stores.find(\n      (r) => {return r.id === i;}\n    ):false;\n    if(!s||s===undefined){\n      return {\n        name:'Please select a Store',\n        isStore:false,        \n      }\n    } else {\n      return s;\n    }    \n  }\n  initLoc() {\n    return (this.resolveGeoLoc()\n      .then(data => {\n        if (data!=='GeoFail' && (data!==null||data!=='')) {\n          const c = data.city;\n          const s = data.state;\n          this.#geo = {\n            zip: data.zip,\n            cityState: c + ', ' + s,\n            isResolved: true,\n            entryErr: false,\n            errMsg: '',\n          };      \n        } else if (data==='GeoFail') {\n          this.#geo = {\n            zip: '',\n            cityState: '',\n            isResolved: true,\n            entryErr: true,\n            errMsg: 'Geo Location is Disabled',\n          };\n        } else {\n          this.#geo = {\n            zip: '',\n            cityState: '',\n            isResolved: false,\n            entryErr: true,\n            errMsg: 'Geo Location not resolved',\n          };\n        }\n        return this;\n      })\n    )\n  }  \n  resolveGeoLoc(){ \n    const locOpt = {\n      timeout: 5000,\n      maximumAge: 0\n    };    \n    return (new Promise((resolve, reject) => {\n      if(\"geolocation\" in navigator) {\n        navigator.geolocation.getCurrentPosition((position) => {\n          let lat = position.coords.latitude;\n          let long = position.coords.longitude;\n          const tZip = lookupByCoords(lat,long);                  \n          resolve(tZip);\n        },(error) => {\n          console.log('Error getting location');\n          console.error(\"Error Code = \" + error.code + \" - \" + error.message);\n          const response = 'GeoFail';\n\n          resolve(response);  \n        },locOpt);\n      }\n    }, ()=>{\n      console.log(\"Promise reject\");   \n      }\n    ))        \n  }\n}\n\nexport default Location;"],"sourceRoot":""}